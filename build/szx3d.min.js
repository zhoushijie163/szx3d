/**
 * 文件名: szx3d.min.js
 * 爱护网世中心3Ｄ引擎
 *
 * @version V1.1.3   2017-4-15
 * @author Zhou Shijie
 */
(function(e,t){typeof exports==="object"&&typeof module!=="undefined"?t(exports):typeof define==="function"&&define.amd?define(["exports"],t):t(e.SZX3D=e.SZX3D||{})})(this,function(e){"use strict";var t="1.1.2";var i={LEFT:0,MIDDLE:1,RIGHT:2};var r=0;var n=1;var a=2;var o=3;var s=0;var c=1;var l=0;var u=1;var h=2;var f=0;var d=1;var p=2;var m=1;var v=2;var g=0;var y=1;var x=2;var _=0;var b=1;var w=2;var M=3;var S=4;var T=5;var A=100;var L=101;var E=102;var P=103;var C=104;var I=200;var R=201;var N=202;var D=203;var U=204;var O=205;var z=206;var B=207;var F=208;var k=209;var G=210;var V=0;var j=1;var X=2;var W=3;var H=4;var Z=5;var Y=6;var q=7;var J=0;var K=1;var Q=2;var $=0;var ee=1;var te=2;var ie=3;var re=4;var ne=300;var ae=301;var oe=302;var se=303;var ce=304;var le=305;var ue=306;var he=307;var fe=1e3;var de=1001;var pe=1002;var me=1003;var ve=1004;var ge=1005;var ye=1006;var xe=1007;var _e=1008;var be=1009;var we=1010;var Me=1011;var Se=1012;var Te=1013;var Ae=1014;var Le=1015;var Ee=1016;var Pe=1017;var Ce=1018;var Ie=1019;var Re=1020;var Ne=1021;var De=1022;var Ue=1023;var Oe=1024;var ze=1025;var Be=Ue;var Fe=1026;var ke=1027;var Ge=2001;var Ve=2002;var je=2003;var Xe=2004;var We=2100;var He=2101;var Ze=2102;var Ye=2103;var qe=2151;var Je=2200;var Ke=2201;var Qe=2202;var $e=2300;var et=2301;var tt=2302;var it=2400;var rt=2401;var nt=2402;var at=0;var ot=1;var st=2;var ct=3e3;var lt=3001;var ut=3007;var ht=3002;var ft=3003;var dt=3004;var pt=3005;var mt=3006;var vt=3200;var gt=3201;if(Number.EPSILON===undefined){Number.EPSILON=Math.pow(2,-52)}if(Math.sign===undefined){Math.sign=function(e){return e<0?-1:e>0?1:+e}}if(Function.prototype.name===undefined){Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}})}if(Object.assign===undefined){(function(){Object.assign=function(e){"use strict";if(e===undefined||e===null){throw new TypeError("Cannot convert undefined or null to object")}var t=Object(e);for(var i=1;i<arguments.length;i++){var r=arguments[i];if(r!==undefined&&r!==null){for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){t[n]=r[n]}}}}return t}})()}function yt(e){var t=e.length,i=Infinity;while(t--){if(e[t]<i){i=e[t]}}return i}function xt(e){var t=e.length,i=-Infinity;while(t--){if(e[t]>i){i=e[t]}}return i}var _t={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");var t=new Array(36);var i=0,r;return function n(){for(var a=0;a<36;a++){if(a===8||a===13||a===18||a===23){t[a]="-"}else if(a===14){t[a]="4"}else{if(i<=2)i=33554432+Math.random()*16777216|0;r=i&15;i=i>>4;t[a]=e[a===19?r&3|8:r]}}return t.join("")}}(),clamp:function(e,t,i){return Math.max(t,Math.min(i,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,i,r,n){return r+(e-t)*(n-r)/(i-t)},lerp:function(e,t,i){return(1-i)*e+i*t},smoothstep:function(e,t,i){if(e<=t)return 0;if(e>=i)return 1;e=(e-t)/(i-t);return e*e*(3-2*e)},smootherstep:function(e,t,i){if(e<=t)return 0;if(e>=i)return 1;e=(e-t)/(i-t);return e*e*e*(e*(e*6-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*_t.DEG2RAD},radToDeg:function(e){return e*_t.RAD2DEG},isPowerOfTwo:function(e){return(e&e-1)===0&&e!==0},nearestPowerOfTwo:function(e){return Math.pow(2,Math.round(Math.log(e)/Math.LN2))},nextPowerOfTwo:function(e){e--;e|=e>>1;e|=e>>2;e|=e>>4;e|=e>>8;e|=e>>16;e++;return e}};function bt(e,t,i){if(t===undefined&&i===undefined){return this.set(e)}return this.setRGB(e,t,i)}bt.prototype={constructor:bt,isColor:true,r:1,g:1,b:1,set:function(e){if(e&&e.isColor){this.copy(e)}else if(typeof e==="number"){this.setHex(e)}else if(typeof e==="string"){this.setStyle(e)}return this},setScalar:function(e){this.r=e;this.g=e;this.b=e;return this},setHex:function(e){e=Math.floor(e);this.r=(e>>16&255)/255;this.g=(e>>8&255)/255;this.b=(e&255)/255;return this},setRGB:function(e,t,i){this.r=e;this.g=t;this.b=i;return this},setHSL:function(){function e(e,t,i){if(i<0)i+=1;if(i>1)i-=1;if(i<1/6)return e+(t-e)*6*i;if(i<1/2)return t;if(i<2/3)return e+(t-e)*6*(2/3-i);return e}return function t(i,r,n){i=_t.euclideanModulo(i,1);r=_t.clamp(r,0,1);n=_t.clamp(n,0,1);if(r===0){this.r=this.g=this.b=n}else{var a=n<=.5?n*(1+r):n+r-n*r;var o=2*n-a;this.r=e(o,a,i+1/3);this.g=e(o,a,i);this.b=e(o,a,i-1/3)}return this}}(),setStyle:function(e){function t(t){if(t===undefined)return;if(parseFloat(t)<1){console.warn("SZX3D.Color: Alpha component of "+e+" will be ignored.")}}var i;if(i=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var r;var n=i[1];var a=i[2];switch(n){case"rgb":case"rgba":if(r=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)){this.r=Math.min(255,parseInt(r[1],10))/255;this.g=Math.min(255,parseInt(r[2],10))/255;this.b=Math.min(255,parseInt(r[3],10))/255;t(r[5]);return this}if(r=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)){this.r=Math.min(100,parseInt(r[1],10))/100;this.g=Math.min(100,parseInt(r[2],10))/100;this.b=Math.min(100,parseInt(r[3],10))/100;t(r[5]);return this}break;case"hsl":case"hsla":if(r=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)){var o=parseFloat(r[1])/360;var s=parseInt(r[2],10)/100;var c=parseInt(r[3],10)/100;t(r[5]);return this.setHSL(o,s,c)}break}}else if(i=/^\#([A-Fa-f0-9]+)$/.exec(e)){var l=i[1];var u=l.length;if(u===3){this.r=parseInt(l.charAt(0)+l.charAt(0),16)/255;this.g=parseInt(l.charAt(1)+l.charAt(1),16)/255;this.b=parseInt(l.charAt(2)+l.charAt(2),16)/255;return this}else if(u===6){this.r=parseInt(l.charAt(0)+l.charAt(1),16)/255;this.g=parseInt(l.charAt(2)+l.charAt(3),16)/255;this.b=parseInt(l.charAt(4)+l.charAt(5),16)/255;return this}}if(e&&e.length>0){var l=wt[e];if(l!==undefined){this.setHex(l)}else{console.warn("SZX3D.Color: Unknown color "+e)}}return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){this.r=e.r;this.g=e.g;this.b=e.b;return this},copyGammaToLinear:function(e,t){if(t===undefined)t=2;this.r=Math.pow(e.r,t);this.g=Math.pow(e.g,t);this.b=Math.pow(e.b,t);return this},copyLinearToGamma:function(e,t){if(t===undefined)t=2;var i=t>0?1/t:1;this.r=Math.pow(e.r,i);this.g=Math.pow(e.g,i);this.b=Math.pow(e.b,i);return this},convertGammaToLinear:function(){var e=this.r,t=this.g,i=this.b;this.r=e*e;this.g=t*t;this.b=i*i;return this},convertLinearToGamma:function(){this.r=Math.sqrt(this.r);this.g=Math.sqrt(this.g);this.b=Math.sqrt(this.b);return this},getHex:function(){return this.r*255<<16^this.g*255<<8^this.b*255<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){var t=e||{h:0,s:0,l:0};var i=this.r,r=this.g,n=this.b;var a=Math.max(i,r,n);var o=Math.min(i,r,n);var s,c;var l=(o+a)/2;if(o===a){s=0;c=0}else{var u=a-o;c=l<=.5?u/(a+o):u/(2-a-o);switch(a){case i:s=(r-n)/u+(r<n?6:0);break;case r:s=(n-i)/u+2;break;case n:s=(i-r)/u+4;break}s/=6}t.h=s;t.s=c;t.l=l;return t},getStyle:function(){return"rgb("+(this.r*255|0)+","+(this.g*255|0)+","+(this.b*255|0)+")"},offsetHSL:function(e,t,i){var r=this.getHSL();r.h+=e;r.s+=t;r.l+=i;this.setHSL(r.h,r.s,r.l);return this},add:function(e){this.r+=e.r;this.g+=e.g;this.b+=e.b;return this},addColors:function(e,t){this.r=e.r+t.r;this.g=e.g+t.g;this.b=e.b+t.b;return this},addScalar:function(e){this.r+=e;this.g+=e;this.b+=e;return this},sub:function(e){this.r=Math.max(0,this.r-e.r);this.g=Math.max(0,this.g-e.g);this.b=Math.max(0,this.b-e.b);return this},multiply:function(e){this.r*=e.r;this.g*=e.g;this.b*=e.b;return this},multiplyScalar:function(e){this.r*=e;this.g*=e;this.b*=e;return this},lerp:function(e,t){this.r+=(e.r-this.r)*t;this.g+=(e.g-this.g)*t;this.b+=(e.b-this.b)*t;return this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){if(t===undefined)t=0;this.r=e[t];this.g=e[t+1];this.b=e[t+2];return this},toArray:function(e,t){if(e===undefined)e=[];if(t===undefined)t=0;e[t]=this.r;e[t+1]=this.g;e[t+2]=this.b;return e},toJSON:function(){return this.getHex()}};var wt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Mt(e,t){this.x=e||0;this.y=t||0}Mt.prototype={constructor:Mt,isVector2:true,get width(){return this.x},set width(e){this.x=e},get height(){return this.y},set height(e){this.y=e},set:function(e,t){this.x=e;this.y=t;return this},setScalar:function(e){this.x=e;this.y=e;return this},setX:function(e){this.x=e;return this},setY:function(e){this.y=e;return this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){this.x=e.x;this.y=e.y;return this},add:function(e,t){if(t!==undefined){console.warn("SZX3D.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.");return this.addVectors(e,t)}this.x+=e.x;this.y+=e.y;return this},addScalar:function(e){this.x+=e;this.y+=e;return this},addVectors:function(e,t){this.x=e.x+t.x;this.y=e.y+t.y;return this},addScaledVector:function(e,t){this.x+=e.x*t;this.y+=e.y*t;return this},sub:function(e,t){if(t!==undefined){console.warn("SZX3D.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.");return this.subVectors(e,t)}this.x-=e.x;this.y-=e.y;return this},subScalar:function(e){this.x-=e;this.y-=e;return this},subVectors:function(e,t){this.x=e.x-t.x;this.y=e.y-t.y;return this},multiply:function(e){this.x*=e.x;this.y*=e.y;return this},multiplyScalar:function(e){if(isFinite(e)){this.x*=e;this.y*=e}else{this.x=0;this.y=0}return this},divide:function(e){this.x/=e.x;this.y/=e.y;return this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){this.x=Math.min(this.x,e.x);this.y=Math.min(this.y,e.y);return this},max:function(e){this.x=Math.max(this.x,e.x);this.y=Math.max(this.y,e.y);return this},clamp:function(e,t){this.x=Math.max(e.x,Math.min(t.x,this.x));this.y=Math.max(e.y,Math.min(t.y,this.y));return this},clampScalar:function(){var e,t;return function i(r,n){if(e===undefined){e=new Mt;t=new Mt}e.set(r,r);t.set(n,n);return this.clamp(e,t)}}(),clampLength:function(e,t){var i=this.length();return this.multiplyScalar(Math.max(e,Math.min(t,i))/i)},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this},roundToZero:function(){this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x);this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y);return this},negate:function(){this.x=-this.x;this.y=-this.y;return this},dot:function(e){return this.x*e.x+this.y*e.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length())},angle:function(){var e=Math.atan2(this.y,this.x);if(e<0)e+=2*Math.PI;return e},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,i=this.y-e.y;return t*t+i*i},distanceToManhattan:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.multiplyScalar(e/this.length())},lerp:function(e,t){this.x+=(e.x-this.x)*t;this.y+=(e.y-this.y)*t;return this},lerpVectors:function(e,t,i){return this.subVectors(t,e).multiplyScalar(i).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){if(t===undefined)t=0;this.x=e[t];this.y=e[t+1];return this},toArray:function(e,t){if(e===undefined)e=[];if(t===undefined)t=0;e[t]=this.x;e[t+1]=this.y;return e},fromBufferAttribute:function(e,t,i){if(i!==undefined){console.warn("SZX3D.Vector2: offset has been removed from .fromBufferAttribute().")}this.x=e.getX(t);this.y=e.getY(t);return this},rotateAround:function(e,t){var i=Math.cos(t),r=Math.sin(t);var n=this.x-e.x;var a=this.y-e.y;this.x=n*i-a*r+e.x;this.y=n*r+a*i+e.y;return this}};function St(e,t,i,r){this.x=e||0;this.y=t||0;this.z=i||0;this.w=r!==undefined?r:1}St.prototype={constructor:St,isVector4:true,set:function(e,t,i,r){this.x=e;this.y=t;this.z=i;this.w=r;return this},setScalar:function(e){this.x=e;this.y=e;this.z=e;this.w=e;return this},setX:function(e){this.x=e;return this},setY:function(e){this.y=e;return this},setZ:function(e){this.z=e;return this},setW:function(e){this.w=e;return this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){this.x=e.x;this.y=e.y;this.z=e.z;this.w=e.w!==undefined?e.w:1;return this},add:function(e,t){if(t!==undefined){console.warn("SZX3D.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.");return this.addVectors(e,t)}this.x+=e.x;this.y+=e.y;this.z+=e.z;this.w+=e.w;return this},addScalar:function(e){this.x+=e;this.y+=e;this.z+=e;this.w+=e;return this},addVectors:function(e,t){this.x=e.x+t.x;this.y=e.y+t.y;this.z=e.z+t.z;this.w=e.w+t.w;return this},addScaledVector:function(e,t){this.x+=e.x*t;this.y+=e.y*t;this.z+=e.z*t;this.w+=e.w*t;return this},sub:function(e,t){if(t!==undefined){console.warn("SZX3D.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.");return this.subVectors(e,t)}this.x-=e.x;this.y-=e.y;this.z-=e.z;this.w-=e.w;return this},subScalar:function(e){this.x-=e;this.y-=e;this.z-=e;this.w-=e;return this},subVectors:function(e,t){this.x=e.x-t.x;this.y=e.y-t.y;this.z=e.z-t.z;this.w=e.w-t.w;return this},multiplyScalar:function(e){if(isFinite(e)){this.x*=e;this.y*=e;this.z*=e;this.w*=e}else{this.x=0;this.y=0;this.z=0;this.w=0}return this},applyMatrix4:function(e){var t=this.x,i=this.y,r=this.z,n=this.w;var a=e.elements;this.x=a[0]*t+a[4]*i+a[8]*r+a[12]*n;this.y=a[1]*t+a[5]*i+a[9]*r+a[13]*n;this.z=a[2]*t+a[6]*i+a[10]*r+a[14]*n;this.w=a[3]*t+a[7]*i+a[11]*r+a[15]*n;return this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);if(t<1e-4){this.x=1;this.y=0;this.z=0}else{this.x=e.x/t;this.y=e.y/t;this.z=e.z/t}return this},setAxisAngleFromRotationMatrix:function(e){var t,i,r,n,a=.01,o=.1,s=e.elements,c=s[0],l=s[4],u=s[8],h=s[1],f=s[5],d=s[9],p=s[2],m=s[6],v=s[10];if(Math.abs(l-h)<a&&Math.abs(u-p)<a&&Math.abs(d-m)<a){if(Math.abs(l+h)<o&&Math.abs(u+p)<o&&Math.abs(d+m)<o&&Math.abs(c+f+v-3)<o){this.set(1,0,0,0);return this}t=Math.PI;var g=(c+1)/2;var y=(f+1)/2;var x=(v+1)/2;var _=(l+h)/4;var b=(u+p)/4;var w=(d+m)/4;if(g>y&&g>x){if(g<a){i=0;r=.707106781;n=.707106781}else{i=Math.sqrt(g);r=_/i;n=b/i}}else if(y>x){if(y<a){i=.707106781;r=0;n=.707106781}else{r=Math.sqrt(y);i=_/r;n=w/r}}else{if(x<a){i=.707106781;r=.707106781;n=0}else{n=Math.sqrt(x);i=b/n;r=w/n}}this.set(i,r,n,t);return this}var M=Math.sqrt((m-d)*(m-d)+(u-p)*(u-p)+(h-l)*(h-l));if(Math.abs(M)<.001)M=1;this.x=(m-d)/M;this.y=(u-p)/M;this.z=(h-l)/M;this.w=Math.acos((c+f+v-1)/2);return this},min:function(e){this.x=Math.min(this.x,e.x);this.y=Math.min(this.y,e.y);this.z=Math.min(this.z,e.z);this.w=Math.min(this.w,e.w);return this},max:function(e){this.x=Math.max(this.x,e.x);this.y=Math.max(this.y,e.y);this.z=Math.max(this.z,e.z);this.w=Math.max(this.w,e.w);return this},clamp:function(e,t){this.x=Math.max(e.x,Math.min(t.x,this.x));this.y=Math.max(e.y,Math.min(t.y,this.y));this.z=Math.max(e.z,Math.min(t.z,this.z));this.w=Math.max(e.w,Math.min(t.w,this.w));return this},clampScalar:function(){var e,t;return function i(r,n){if(e===undefined){e=new St;t=new St}e.set(r,r,r,r);t.set(n,n,n,n);return this.clamp(e,t)}}(),floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);this.w=Math.floor(this.w);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);this.w=Math.ceil(this.w);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);this.w=Math.round(this.w);return this},roundToZero:function(){this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x);this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y);this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z);this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w);return this},negate:function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;this.w=-this.w;return this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(e){return this.multiplyScalar(e/this.length())},lerp:function(e,t){this.x+=(e.x-this.x)*t;this.y+=(e.y-this.y)*t;this.z+=(e.z-this.z)*t;this.w+=(e.w-this.w)*t;return this},lerpVectors:function(e,t,i){return this.subVectors(t,e).multiplyScalar(i).add(e)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){if(t===undefined)t=0;this.x=e[t];this.y=e[t+1];this.z=e[t+2];this.w=e[t+3];return this},toArray:function(e,t){if(e===undefined)e=[];if(t===undefined)t=0;e[t]=this.x;e[t+1]=this.y;e[t+2]=this.z;e[t+3]=this.w;return e},fromBufferAttribute:function(e,t,i){if(i!==undefined){console.warn("SZX3D.Vector4: offset has been removed from .fromBufferAttribute().")}this.x=e.getX(t);this.y=e.getY(t);this.z=e.getZ(t);this.w=e.getW(t);return this}};function Tt(e,t,i,r){this._x=e||0;this._y=t||0;this._z=i||0;this._w=r!==undefined?r:1}Tt.prototype={constructor:Tt,get x(){return this._x},set x(e){this._x=e;this.onChangeCallback()},get y(){return this._y},set y(e){this._y=e;this.onChangeCallback()},get z(){return this._z},set z(e){this._z=e;this.onChangeCallback()},get w(){return this._w},set w(e){this._w=e;this.onChangeCallback()},set:function(e,t,i,r){this._x=e;this._y=t;this._z=i;this._w=r;this.onChangeCallback();return this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){this._x=e.x;this._y=e.y;this._z=e.z;this._w=e.w;this.onChangeCallback();return this},setFromEuler:function(e,t){if((e&&e.isEuler)===false){throw new Error("SZX3D.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.")}var i=Math.cos(e._x/2);var r=Math.cos(e._y/2);var n=Math.cos(e._z/2);var a=Math.sin(e._x/2);var o=Math.sin(e._y/2);var s=Math.sin(e._z/2);var c=e.order;if(c==="XYZ"){this._x=a*r*n+i*o*s;this._y=i*o*n-a*r*s;this._z=i*r*s+a*o*n;this._w=i*r*n-a*o*s}else if(c==="YXZ"){this._x=a*r*n+i*o*s;this._y=i*o*n-a*r*s;this._z=i*r*s-a*o*n;this._w=i*r*n+a*o*s}else if(c==="ZXY"){this._x=a*r*n-i*o*s;this._y=i*o*n+a*r*s;this._z=i*r*s+a*o*n;this._w=i*r*n-a*o*s}else if(c==="ZYX"){this._x=a*r*n-i*o*s;this._y=i*o*n+a*r*s;this._z=i*r*s-a*o*n;this._w=i*r*n+a*o*s}else if(c==="YZX"){this._x=a*r*n+i*o*s;this._y=i*o*n+a*r*s;this._z=i*r*s-a*o*n;this._w=i*r*n-a*o*s}else if(c==="XZY"){this._x=a*r*n-i*o*s;this._y=i*o*n-a*r*s;this._z=i*r*s+a*o*n;this._w=i*r*n+a*o*s}if(t!==false)this.onChangeCallback();return this},setFromAxisAngle:function(e,t){var i=t/2,r=Math.sin(i);this._x=e.x*r;this._y=e.y*r;this._z=e.z*r;this._w=Math.cos(i);this.onChangeCallback();return this},setFromRotationMatrix:function(e){var t=e.elements,i=t[0],r=t[4],n=t[8],a=t[1],o=t[5],s=t[9],c=t[2],l=t[6],u=t[10],h=i+o+u,f;if(h>0){f=.5/Math.sqrt(h+1);this._w=.25/f;this._x=(l-s)*f;this._y=(n-c)*f;this._z=(a-r)*f}else if(i>o&&i>u){f=2*Math.sqrt(1+i-o-u);this._w=(l-s)/f;this._x=.25*f;this._y=(r+a)/f;this._z=(n+c)/f}else if(o>u){f=2*Math.sqrt(1+o-i-u);this._w=(n-c)/f;this._x=(r+a)/f;this._y=.25*f;this._z=(s+l)/f}else{f=2*Math.sqrt(1+u-i-o);this._w=(a-r)/f;this._x=(n+c)/f;this._y=(s+l)/f;this._z=.25*f}this.onChangeCallback();return this},setFromUnitVectors:function(){var e,t;var i=1e-6;return function r(n,a){if(e===undefined)e=new At;t=n.dot(a)+1;if(t<i){t=0;if(Math.abs(n.x)>Math.abs(n.z)){e.set(-n.y,n.x,0)}else{e.set(0,-n.z,n.y)}}else{e.crossVectors(n,a)}this._x=e.x;this._y=e.y;this._z=e.z;this._w=t;return this.normalize()}}(),inverse:function(){return this.conjugate().normalize()},conjugate:function(){this._x*=-1;this._y*=-1;this._z*=-1;this.onChangeCallback();return this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();if(e===0){this._x=0;this._y=0;this._z=0;this._w=1}else{e=1/e;this._x=this._x*e;this._y=this._y*e;this._z=this._z*e;this._w=this._w*e}this.onChangeCallback();return this},multiply:function(e,t){if(t!==undefined){console.warn("SZX3D.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.");return this.multiplyQuaternions(e,t)}return this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){var i=e._x,r=e._y,n=e._z,a=e._w;var o=t._x,s=t._y,c=t._z,l=t._w;this._x=i*l+a*o+r*c-n*s;this._y=r*l+a*s+n*o-i*c;this._z=n*l+a*c+i*s-r*o;this._w=a*l-i*o-r*s-n*c;this.onChangeCallback();return this},slerp:function(e,t){if(t===0)return this;if(t===1)return this.copy(e);var i=this._x,r=this._y,n=this._z,a=this._w;var o=a*e._w+i*e._x+r*e._y+n*e._z;if(o<0){this._w=-e._w;this._x=-e._x;this._y=-e._y;this._z=-e._z;o=-o}else{this.copy(e)}if(o>=1){this._w=a;this._x=i;this._y=r;this._z=n;return this}var s=Math.sqrt(1-o*o);if(Math.abs(s)<.001){this._w=.5*(a+this._w);this._x=.5*(i+this._x);this._y=.5*(r+this._y);this._z=.5*(n+this._z);return this}var c=Math.atan2(s,o);var l=Math.sin((1-t)*c)/s,u=Math.sin(t*c)/s;this._w=a*l+this._w*u;this._x=i*l+this._x*u;this._y=r*l+this._y*u;this._z=n*l+this._z*u;this.onChangeCallback();return this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){if(t===undefined)t=0;this._x=e[t];this._y=e[t+1];this._z=e[t+2];this._w=e[t+3];this.onChangeCallback();return this},toArray:function(e,t){if(e===undefined)e=[];if(t===undefined)t=0;e[t]=this._x;e[t+1]=this._y;e[t+2]=this._z;e[t+3]=this._w;return e},onChange:function(e){this.onChangeCallback=e;return this},onChangeCallback:function(){}};Object.assign(Tt,{slerp:function(e,t,i,r){return i.copy(e).slerp(t,r)},slerpFlat:function(e,t,i,r,n,a,o){var s=i[r+0],c=i[r+1],l=i[r+2],u=i[r+3],h=n[a+0],f=n[a+1],d=n[a+2],p=n[a+3];if(u!==p||s!==h||c!==f||l!==d){var m=1-o,v=s*h+c*f+l*d+u*p,g=v>=0?1:-1,y=1-v*v;if(y>Number.EPSILON){var x=Math.sqrt(y),_=Math.atan2(x,v*g);m=Math.sin(m*_)/x;o=Math.sin(o*_)/x}var b=o*g;s=s*m+h*b;c=c*m+f*b;l=l*m+d*b;u=u*m+p*b;if(m===1-o){var w=1/Math.sqrt(s*s+c*c+l*l+u*u);s*=w;c*=w;l*=w;u*=w}}e[t]=s;e[t+1]=c;e[t+2]=l;e[t+3]=u}});function At(e,t,i){this.x=e||0;this.y=t||0;this.z=i||0}At.prototype={constructor:At,isVector3:true,set:function(e,t,i){this.x=e;this.y=t;this.z=i;return this},setScalar:function(e){this.x=e;this.y=e;this.z=e;return this},setX:function(e){this.x=e;return this},setY:function(e){this.y=e;return this},setZ:function(e){this.z=e;return this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){this.x=e.x;this.y=e.y;this.z=e.z;return this},add:function(e,t){if(t!==undefined){console.warn("SZX3D.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.");return this.addVectors(e,t)}this.x+=e.x;this.y+=e.y;this.z+=e.z;return this},addScalar:function(e){this.x+=e;this.y+=e;this.z+=e;return this},addVectors:function(e,t){this.x=e.x+t.x;this.y=e.y+t.y;this.z=e.z+t.z;return this},addScaledVector:function(e,t){this.x+=e.x*t;this.y+=e.y*t;this.z+=e.z*t;return this},sub:function(e,t){if(t!==undefined){console.warn("SZX3D.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.");return this.subVectors(e,t)}this.x-=e.x;this.y-=e.y;this.z-=e.z;return this},subScalar:function(e){this.x-=e;this.y-=e;this.z-=e;return this},subVectors:function(e,t){this.x=e.x-t.x;this.y=e.y-t.y;this.z=e.z-t.z;return this},multiply:function(e,t){if(t!==undefined){console.warn("SZX3D.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.");return this.multiplyVectors(e,t)}this.x*=e.x;this.y*=e.y;this.z*=e.z;return this},multiplyScalar:function(e){if(isFinite(e)){this.x*=e;this.y*=e;this.z*=e}else{this.x=0;this.y=0;this.z=0}return this},multiplyVectors:function(e,t){this.x=e.x*t.x;this.y=e.y*t.y;this.z=e.z*t.z;return this},applyEuler:function(){var e;return function t(i){if((i&&i.isEuler)===false){console.error("SZX3D.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.")}if(e===undefined)e=new Tt;return this.applyQuaternion(e.setFromEuler(i))}}(),applyAxisAngle:function(){var e;return function t(i,r){if(e===undefined)e=new Tt;return this.applyQuaternion(e.setFromAxisAngle(i,r))}}(),applyMatrix3:function(e){var t=this.x,i=this.y,r=this.z;var n=e.elements;this.x=n[0]*t+n[3]*i+n[6]*r;this.y=n[1]*t+n[4]*i+n[7]*r;this.z=n[2]*t+n[5]*i+n[8]*r;return this},applyMatrix4:function(e){var t=this.x,i=this.y,r=this.z;var n=e.elements;this.x=n[0]*t+n[4]*i+n[8]*r+n[12];this.y=n[1]*t+n[5]*i+n[9]*r+n[13];this.z=n[2]*t+n[6]*i+n[10]*r+n[14];var a=n[3]*t+n[7]*i+n[11]*r+n[15];return this.divideScalar(a)},applyQuaternion:function(e){var t=this.x,i=this.y,r=this.z;var n=e.x,a=e.y,o=e.z,s=e.w;var c=s*t+a*r-o*i;var l=s*i+o*t-n*r;var u=s*r+n*i-a*t;var h=-n*t-a*i-o*r;this.x=c*s+h*-n+l*-o-u*-a;this.y=l*s+h*-a+u*-n-c*-o;this.z=u*s+h*-o+c*-a-l*-n;return this},project:function(){var e;return function t(i){if(e===undefined)e=new Lt;e.multiplyMatrices(i.projectionMatrix,e.getInverse(i.matrixWorld));return this.applyMatrix4(e)}}(),unproject:function(){var e;return function t(i){if(e===undefined)e=new Lt;e.multiplyMatrices(i.matrixWorld,e.getInverse(i.projectionMatrix));return this.applyMatrix4(e)}}(),transformDirection:function(e){var t=this.x,i=this.y,r=this.z;var n=e.elements;this.x=n[0]*t+n[4]*i+n[8]*r;this.y=n[1]*t+n[5]*i+n[9]*r;this.z=n[2]*t+n[6]*i+n[10]*r;return this.normalize()},divide:function(e){this.x/=e.x;this.y/=e.y;this.z/=e.z;return this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){this.x=Math.min(this.x,e.x);this.y=Math.min(this.y,e.y);this.z=Math.min(this.z,e.z);return this},max:function(e){this.x=Math.max(this.x,e.x);this.y=Math.max(this.y,e.y);this.z=Math.max(this.z,e.z);return this},clamp:function(e,t){this.x=Math.max(e.x,Math.min(t.x,this.x));this.y=Math.max(e.y,Math.min(t.y,this.y));this.z=Math.max(e.z,Math.min(t.z,this.z));return this},clampScalar:function(){var e,t;return function i(r,n){if(e===undefined){e=new At;t=new At}e.set(r,r,r);t.set(n,n,n);return this.clamp(e,t)}}(),clampLength:function(e,t){var i=this.length();return this.multiplyScalar(Math.max(e,Math.min(t,i))/i)},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);return this},roundToZero:function(){this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x);this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y);this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z);return this},negate:function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;return this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(e){return this.multiplyScalar(e/this.length())},lerp:function(e,t){this.x+=(e.x-this.x)*t;this.y+=(e.y-this.y)*t;this.z+=(e.z-this.z)*t;return this},lerpVectors:function(e,t,i){return this.subVectors(t,e).multiplyScalar(i).add(e)},cross:function(e,t){if(t!==undefined){console.warn("SZX3D.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.");
return this.crossVectors(e,t)}var i=this.x,r=this.y,n=this.z;this.x=r*e.z-n*e.y;this.y=n*e.x-i*e.z;this.z=i*e.y-r*e.x;return this},crossVectors:function(e,t){var i=e.x,r=e.y,n=e.z;var a=t.x,o=t.y,s=t.z;this.x=r*s-n*o;this.y=n*a-i*s;this.z=i*o-r*a;return this},projectOnVector:function(e){var t=e.dot(this)/e.lengthSq();return this.copy(e).multiplyScalar(t)},projectOnPlane:function(){var e;return function t(i){if(e===undefined)e=new At;e.copy(this).projectOnVector(i);return this.sub(e)}}(),reflect:function(){var e;return function t(i){if(e===undefined)e=new At;return this.sub(e.copy(i).multiplyScalar(2*this.dot(i)))}}(),angleTo:function(e){var t=this.dot(e)/Math.sqrt(this.lengthSq()*e.lengthSq());return Math.acos(_t.clamp(t,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r},distanceToManhattan:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){var t=Math.sin(e.phi)*e.radius;this.x=t*Math.sin(e.theta);this.y=Math.cos(e.phi)*e.radius;this.z=t*Math.cos(e.theta);return this},setFromCylindrical:function(e){this.x=e.radius*Math.sin(e.theta);this.y=e.y;this.z=e.radius*Math.cos(e.theta);return this},setFromMatrixPosition:function(e){return this.setFromMatrixColumn(e,3)},setFromMatrixScale:function(e){var t=this.setFromMatrixColumn(e,0).length();var i=this.setFromMatrixColumn(e,1).length();var r=this.setFromMatrixColumn(e,2).length();this.x=t;this.y=i;this.z=r;return this},setFromMatrixColumn:function(e,t){if(typeof e==="number"){console.warn("SZX3D.Vector3: setFromMatrixColumn now expects ( matrix, index ).");var i=e;e=t;t=i}return this.fromArray(e.elements,t*4)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){if(t===undefined)t=0;this.x=e[t];this.y=e[t+1];this.z=e[t+2];return this},toArray:function(e,t){if(e===undefined)e=[];if(t===undefined)t=0;e[t]=this.x;e[t+1]=this.y;e[t+2]=this.z;return e},fromBufferAttribute:function(e,t,i){if(i!==undefined){console.warn("SZX3D.Vector3: offset has been removed from .fromBufferAttribute().")}this.x=e.getX(t);this.y=e.getY(t);this.z=e.getZ(t);return this}};function Lt(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);if(arguments.length>0){console.error("SZX3D.Matrix4: the constructor no longer reads arguments. use .set() instead.")}}Lt.prototype={constructor:Lt,isMatrix4:true,set:function(e,t,i,r,n,a,o,s,c,l,u,h,f,d,p,m){var v=this.elements;v[0]=e;v[4]=t;v[8]=i;v[12]=r;v[1]=n;v[5]=a;v[9]=o;v[13]=s;v[2]=c;v[6]=l;v[10]=u;v[14]=h;v[3]=f;v[7]=d;v[11]=p;v[15]=m;return this},identity:function(){this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return this},clone:function(){return(new Lt).fromArray(this.elements)},copy:function(e){this.elements.set(e.elements);return this},copyPosition:function(e){var t=this.elements;var i=e.elements;t[12]=i[12];t[13]=i[13];t[14]=i[14];return this},extractBasis:function(e,t,i){e.setFromMatrixColumn(this,0);t.setFromMatrixColumn(this,1);i.setFromMatrixColumn(this,2);return this},makeBasis:function(e,t,i){this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1);return this},extractRotation:function(){var e;return function t(i){if(e===undefined)e=new At;var r=this.elements;var n=i.elements;var a=1/e.setFromMatrixColumn(i,0).length();var o=1/e.setFromMatrixColumn(i,1).length();var s=1/e.setFromMatrixColumn(i,2).length();r[0]=n[0]*a;r[1]=n[1]*a;r[2]=n[2]*a;r[4]=n[4]*o;r[5]=n[5]*o;r[6]=n[6]*o;r[8]=n[8]*s;r[9]=n[9]*s;r[10]=n[10]*s;return this}}(),makeRotationFromEuler:function(e){if((e&&e.isEuler)===false){console.error("SZX3D.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.")}var t=this.elements;var i=e.x,r=e.y,n=e.z;var a=Math.cos(i),o=Math.sin(i);var s=Math.cos(r),c=Math.sin(r);var l=Math.cos(n),u=Math.sin(n);if(e.order==="XYZ"){var h=a*l,f=a*u,d=o*l,p=o*u;t[0]=s*l;t[4]=-s*u;t[8]=c;t[1]=f+d*c;t[5]=h-p*c;t[9]=-o*s;t[2]=p-h*c;t[6]=d+f*c;t[10]=a*s}else if(e.order==="YXZ"){var m=s*l,v=s*u,g=c*l,y=c*u;t[0]=m+y*o;t[4]=g*o-v;t[8]=a*c;t[1]=a*u;t[5]=a*l;t[9]=-o;t[2]=v*o-g;t[6]=y+m*o;t[10]=a*s}else if(e.order==="ZXY"){var m=s*l,v=s*u,g=c*l,y=c*u;t[0]=m-y*o;t[4]=-a*u;t[8]=g+v*o;t[1]=v+g*o;t[5]=a*l;t[9]=y-m*o;t[2]=-a*c;t[6]=o;t[10]=a*s}else if(e.order==="ZYX"){var h=a*l,f=a*u,d=o*l,p=o*u;t[0]=s*l;t[4]=d*c-f;t[8]=h*c+p;t[1]=s*u;t[5]=p*c+h;t[9]=f*c-d;t[2]=-c;t[6]=o*s;t[10]=a*s}else if(e.order==="YZX"){var x=a*s,_=a*c,b=o*s,w=o*c;t[0]=s*l;t[4]=w-x*u;t[8]=b*u+_;t[1]=u;t[5]=a*l;t[9]=-o*l;t[2]=-c*l;t[6]=_*u+b;t[10]=x-w*u}else if(e.order==="XZY"){var x=a*s,_=a*c,b=o*s,w=o*c;t[0]=s*l;t[4]=-u;t[8]=c*l;t[1]=x*u+w;t[5]=a*l;t[9]=_*u-b;t[2]=b*u-_;t[6]=o*l;t[10]=w*u+x}t[3]=0;t[7]=0;t[11]=0;t[12]=0;t[13]=0;t[14]=0;t[15]=1;return this},makeRotationFromQuaternion:function(e){var t=this.elements;var i=e.x,r=e.y,n=e.z,a=e.w;var o=i+i,s=r+r,c=n+n;var l=i*o,u=i*s,h=i*c;var f=r*s,d=r*c,p=n*c;var m=a*o,v=a*s,g=a*c;t[0]=1-(f+p);t[4]=u-g;t[8]=h+v;t[1]=u+g;t[5]=1-(l+p);t[9]=d-m;t[2]=h-v;t[6]=d+m;t[10]=1-(l+f);t[3]=0;t[7]=0;t[11]=0;t[12]=0;t[13]=0;t[14]=0;t[15]=1;return this},lookAt:function(){var e,t,i;return function r(n,a,o){if(e===undefined){e=new At;t=new At;i=new At}var s=this.elements;i.subVectors(n,a).normalize();if(i.lengthSq()===0){i.z=1}e.crossVectors(o,i).normalize();if(e.lengthSq()===0){i.z+=1e-4;e.crossVectors(o,i).normalize()}t.crossVectors(i,e);s[0]=e.x;s[4]=t.x;s[8]=i.x;s[1]=e.y;s[5]=t.y;s[9]=i.y;s[2]=e.z;s[6]=t.z;s[10]=i.z;return this}}(),multiply:function(e,t){if(t!==undefined){console.warn("SZX3D.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.");return this.multiplyMatrices(e,t)}return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var i=e.elements;var r=t.elements;var n=this.elements;var a=i[0],o=i[4],s=i[8],c=i[12];var l=i[1],u=i[5],h=i[9],f=i[13];var d=i[2],p=i[6],m=i[10],v=i[14];var g=i[3],y=i[7],x=i[11],_=i[15];var b=r[0],w=r[4],M=r[8],S=r[12];var T=r[1],A=r[5],L=r[9],E=r[13];var P=r[2],C=r[6],I=r[10],R=r[14];var N=r[3],D=r[7],U=r[11],O=r[15];n[0]=a*b+o*T+s*P+c*N;n[4]=a*w+o*A+s*C+c*D;n[8]=a*M+o*L+s*I+c*U;n[12]=a*S+o*E+s*R+c*O;n[1]=l*b+u*T+h*P+f*N;n[5]=l*w+u*A+h*C+f*D;n[9]=l*M+u*L+h*I+f*U;n[13]=l*S+u*E+h*R+f*O;n[2]=d*b+p*T+m*P+v*N;n[6]=d*w+p*A+m*C+v*D;n[10]=d*M+p*L+m*I+v*U;n[14]=d*S+p*E+m*R+v*O;n[3]=g*b+y*T+x*P+_*N;n[7]=g*w+y*A+x*C+_*D;n[11]=g*M+y*L+x*I+_*U;n[15]=g*S+y*E+x*R+_*O;return this},multiplyToArray:function(e,t,i){var r=this.elements;this.multiplyMatrices(e,t);i[0]=r[0];i[1]=r[1];i[2]=r[2];i[3]=r[3];i[4]=r[4];i[5]=r[5];i[6]=r[6];i[7]=r[7];i[8]=r[8];i[9]=r[9];i[10]=r[10];i[11]=r[11];i[12]=r[12];i[13]=r[13];i[14]=r[14];i[15]=r[15];return this},multiplyScalar:function(e){var t=this.elements;t[0]*=e;t[4]*=e;t[8]*=e;t[12]*=e;t[1]*=e;t[5]*=e;t[9]*=e;t[13]*=e;t[2]*=e;t[6]*=e;t[10]*=e;t[14]*=e;t[3]*=e;t[7]*=e;t[11]*=e;t[15]*=e;return this},applyToBufferAttribute:function(){var e;return function t(i){if(e===undefined)e=new At;for(var r=0,n=i.count;r<n;r++){e.x=i.getX(r);e.y=i.getY(r);e.z=i.getZ(r);e.applyMatrix4(this);i.setXYZ(r,e.x,e.y,e.z)}return i}}(),determinant:function(){var e=this.elements;var t=e[0],i=e[4],r=e[8],n=e[12];var a=e[1],o=e[5],s=e[9],c=e[13];var l=e[2],u=e[6],h=e[10],f=e[14];var d=e[3],p=e[7],m=e[11],v=e[15];return d*(+n*s*u-r*c*u-n*o*h+i*c*h+r*o*f-i*s*f)+p*(+t*s*f-t*c*h+n*a*h-r*a*f+r*c*l-n*s*l)+m*(+t*c*u-t*o*f-n*a*u+i*a*f+n*o*l-i*c*l)+v*(-r*o*l-t*s*u+t*o*h+r*a*u-i*a*h+i*s*l)},transpose:function(){var e=this.elements;var t;t=e[1];e[1]=e[4];e[4]=t;t=e[2];e[2]=e[8];e[8]=t;t=e[6];e[6]=e[9];e[9]=t;t=e[3];e[3]=e[12];e[12]=t;t=e[7];e[7]=e[13];e[13]=t;t=e[11];e[11]=e[14];e[14]=t;return this},setPosition:function(e){var t=this.elements;t[12]=e.x;t[13]=e.y;t[14]=e.z;return this},getInverse:function(e,t){var i=this.elements,r=e.elements,n=r[0],a=r[1],o=r[2],s=r[3],c=r[4],l=r[5],u=r[6],h=r[7],f=r[8],d=r[9],p=r[10],m=r[11],v=r[12],g=r[13],y=r[14],x=r[15],_=d*y*h-g*p*h+g*u*m-l*y*m-d*u*x+l*p*x,b=v*p*h-f*y*h-v*u*m+c*y*m+f*u*x-c*p*x,w=f*g*h-v*d*h+v*l*m-c*g*m-f*l*x+c*d*x,M=v*d*u-f*g*u-v*l*p+c*g*p+f*l*y-c*d*y;var S=n*_+a*b+o*w+s*M;if(S===0){var T="SZX3D.Matrix4.getInverse(): can't invert matrix, determinant is 0";if(t===true){throw new Error(T)}else{console.warn(T)}return this.identity()}var A=1/S;i[0]=_*A;i[1]=(g*p*s-d*y*s-g*o*m+a*y*m+d*o*x-a*p*x)*A;i[2]=(l*y*s-g*u*s+g*o*h-a*y*h-l*o*x+a*u*x)*A;i[3]=(d*u*s-l*p*s-d*o*h+a*p*h+l*o*m-a*u*m)*A;i[4]=b*A;i[5]=(f*y*s-v*p*s+v*o*m-n*y*m-f*o*x+n*p*x)*A;i[6]=(v*u*s-c*y*s-v*o*h+n*y*h+c*o*x-n*u*x)*A;i[7]=(c*p*s-f*u*s+f*o*h-n*p*h-c*o*m+n*u*m)*A;i[8]=w*A;i[9]=(v*d*s-f*g*s-v*a*m+n*g*m+f*a*x-n*d*x)*A;i[10]=(c*g*s-v*l*s+v*a*h-n*g*h-c*a*x+n*l*x)*A;i[11]=(f*l*s-c*d*s-f*a*h+n*d*h+c*a*m-n*l*m)*A;i[12]=M*A;i[13]=(f*g*o-v*d*o+v*a*p-n*g*p-f*a*y+n*d*y)*A;i[14]=(v*l*o-c*g*o-v*a*u+n*g*u+c*a*y-n*l*y)*A;i[15]=(c*d*o-f*l*o+f*a*u-n*d*u-c*a*p+n*l*p)*A;return this},scale:function(e){var t=this.elements;var i=e.x,r=e.y,n=e.z;t[0]*=i;t[4]*=r;t[8]*=n;t[1]*=i;t[5]*=r;t[9]*=n;t[2]*=i;t[6]*=r;t[10]*=n;t[3]*=i;t[7]*=r;t[11]*=n;return this},getMaxScaleOnAxis:function(){var e=this.elements;var t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2];var i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6];var r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))},makeTranslation:function(e,t,i){this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1);return this},makeRotationX:function(e){var t=Math.cos(e),i=Math.sin(e);this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1);return this},makeRotationY:function(e){var t=Math.cos(e),i=Math.sin(e);this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1);return this},makeRotationZ:function(e){var t=Math.cos(e),i=Math.sin(e);this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1);return this},makeRotationAxis:function(e,t){var i=Math.cos(t);var r=Math.sin(t);var n=1-i;var a=e.x,o=e.y,s=e.z;var c=n*a,l=n*o;this.set(c*a+i,c*o-r*s,c*s+r*o,0,c*o+r*s,l*o+i,l*s-r*a,0,c*s-r*o,l*s+r*a,n*s*s+i,0,0,0,0,1);return this},makeScale:function(e,t,i){this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1);return this},makeShear:function(e,t,i){this.set(1,t,i,0,e,1,i,0,e,t,1,0,0,0,0,1);return this},compose:function(e,t,i){this.makeRotationFromQuaternion(t);this.scale(i);this.setPosition(e);return this},decompose:function(){var e,t;return function i(r,n,a){if(e===undefined){e=new At;t=new Lt}var o=this.elements;var s=e.set(o[0],o[1],o[2]).length();var c=e.set(o[4],o[5],o[6]).length();var l=e.set(o[8],o[9],o[10]).length();var u=this.determinant();if(u<0){s=-s}r.x=o[12];r.y=o[13];r.z=o[14];t.elements.set(this.elements);var h=1/s;var f=1/c;var d=1/l;t.elements[0]*=h;t.elements[1]*=h;t.elements[2]*=h;t.elements[4]*=f;t.elements[5]*=f;t.elements[6]*=f;t.elements[8]*=d;t.elements[9]*=d;t.elements[10]*=d;n.setFromRotationMatrix(t);a.x=s;a.y=c;a.z=l;return this}}(),makePerspective:function(e,t,i,r,n,a){if(a===undefined){console.warn("SZX3D.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.")}var o=this.elements;var s=2*n/(t-e);var c=2*n/(i-r);var l=(t+e)/(t-e);var u=(i+r)/(i-r);var h=-(a+n)/(a-n);var f=-2*a*n/(a-n);o[0]=s;o[4]=0;o[8]=l;o[12]=0;o[1]=0;o[5]=c;o[9]=u;o[13]=0;o[2]=0;o[6]=0;o[10]=h;o[14]=f;o[3]=0;o[7]=0;o[11]=-1;o[15]=0;return this},makeOrthographic:function(e,t,i,r,n,a){var o=this.elements;var s=1/(t-e);var c=1/(i-r);var l=1/(a-n);var u=(t+e)*s;var h=(i+r)*c;var f=(a+n)*l;o[0]=2*s;o[4]=0;o[8]=0;o[12]=-u;o[1]=0;o[5]=2*c;o[9]=0;o[13]=-h;o[2]=0;o[6]=0;o[10]=-2*l;o[14]=-f;o[3]=0;o[7]=0;o[11]=0;o[15]=1;return this},equals:function(e){var t=this.elements;var i=e.elements;for(var r=0;r<16;r++){if(t[r]!==i[r])return false}return true},fromArray:function(e,t){if(t===undefined)t=0;for(var i=0;i<16;i++){this.elements[i]=e[i+t]}return this},toArray:function(e,t){if(e===undefined)e=[];if(t===undefined)t=0;var i=this.elements;e[t]=i[0];e[t+1]=i[1];e[t+2]=i[2];e[t+3]=i[3];e[t+4]=i[4];e[t+5]=i[5];e[t+6]=i[6];e[t+7]=i[7];e[t+8]=i[8];e[t+9]=i[9];e[t+10]=i[10];e[t+11]=i[11];e[t+12]=i[12];e[t+13]=i[13];e[t+14]=i[14];e[t+15]=i[15];return e}};function Et(){this.elements=new Float32Array([1,0,0,0,1,0,0,0,1]);if(arguments.length>0){console.error("SZX3D.Matrix3: the constructor no longer reads arguments. use .set() instead.")}}Et.prototype={constructor:Et,isMatrix3:true,set:function(e,t,i,r,n,a,o,s,c){var l=this.elements;l[0]=e;l[1]=r;l[2]=o;l[3]=t;l[4]=n;l[5]=s;l[6]=i;l[7]=a;l[8]=c;return this},identity:function(){this.set(1,0,0,0,1,0,0,0,1);return this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(e){var t=e.elements;this.set(t[0],t[3],t[6],t[1],t[4],t[7],t[2],t[5],t[8]);return this},setFromMatrix4:function(e){var t=e.elements;this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]);return this},applyToBufferAttribute:function(){var e;return function t(i){if(e===undefined)e=new At;for(var r=0,n=i.count;r<n;r++){e.x=i.getX(r);e.y=i.getY(r);e.z=i.getZ(r);e.applyMatrix3(this);i.setXYZ(r,e.x,e.y,e.z)}return i}}(),multiplyScalar:function(e){var t=this.elements;t[0]*=e;t[3]*=e;t[6]*=e;t[1]*=e;t[4]*=e;t[7]*=e;t[2]*=e;t[5]*=e;t[8]*=e;return this},determinant:function(){var e=this.elements;var t=e[0],i=e[1],r=e[2],n=e[3],a=e[4],o=e[5],s=e[6],c=e[7],l=e[8];return t*a*l-t*o*c-i*n*l+i*o*s+r*n*c-r*a*s},getInverse:function(e,t){if(e&&e.isMatrix4){console.error("SZX3D.Matrix3.getInverse no longer takes a Matrix4 argument.")}var i=e.elements,r=this.elements,n=i[0],a=i[1],o=i[2],s=i[3],c=i[4],l=i[5],u=i[6],h=i[7],f=i[8],d=f*c-l*h,p=l*u-f*s,m=h*s-c*u,v=n*d+a*p+o*m;if(v===0){var g="SZX3D.Matrix3.getInverse(): can't invert matrix, determinant is 0";if(t===true){throw new Error(g)}else{console.warn(g)}return this.identity()}var y=1/v;r[0]=d*y;r[1]=(o*h-f*a)*y;r[2]=(l*a-o*c)*y;r[3]=p*y;r[4]=(f*n-o*u)*y;r[5]=(o*s-l*n)*y;r[6]=m*y;r[7]=(a*u-h*n)*y;r[8]=(c*n-a*s)*y;return this},transpose:function(){var e,t=this.elements;e=t[1];t[1]=t[3];t[3]=e;e=t[2];t[2]=t[6];t[6]=e;e=t[5];t[5]=t[7];t[7]=e;return this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var t=this.elements;e[0]=t[0];e[1]=t[3];e[2]=t[6];e[3]=t[1];e[4]=t[4];e[5]=t[7];e[6]=t[2];e[7]=t[5];e[8]=t[8];return this},fromArray:function(e,t){if(t===undefined)t=0;for(var i=0;i<9;i++){this.elements[i]=e[i+t]}return this},toArray:function(e,t){if(e===undefined)e=[];if(t===undefined)t=0;var i=this.elements;e[t]=i[0];e[t+1]=i[1];e[t+2]=i[2];e[t+3]=i[3];e[t+4]=i[4];e[t+5]=i[5];e[t+6]=i[6];e[t+7]=i[7];e[t+8]=i[8];return e}};function Pt(e,t,i,r){this._x=e||0;this._y=t||0;this._z=i||0;this._order=r||Pt.DefaultOrder}Pt.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];Pt.DefaultOrder="XYZ";Pt.prototype={constructor:Pt,isEuler:true,get x(){return this._x},set x(e){this._x=e;this.onChangeCallback()},get y(){return this._y},set y(e){this._y=e;this.onChangeCallback()},get z(){return this._z},set z(e){this._z=e;this.onChangeCallback()},get order(){return this._order},set order(e){this._order=e;this.onChangeCallback()},set:function(e,t,i,r){this._x=e;this._y=t;this._z=i;this._order=r||this._order;this.onChangeCallback();return this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){this._x=e._x;this._y=e._y;this._z=e._z;this._order=e._order;this.onChangeCallback();return this},setFromRotationMatrix:function(e,t,i){var r=_t.clamp;var n=e.elements;var a=n[0],o=n[4],s=n[8];var c=n[1],l=n[5],u=n[9];var h=n[2],f=n[6],d=n[10];t=t||this._order;if(t==="XYZ"){this._y=Math.asin(r(s,-1,1));if(Math.abs(s)<.99999){this._x=Math.atan2(-u,d);this._z=Math.atan2(-o,a)}else{this._x=Math.atan2(f,l);this._z=0}}else if(t==="YXZ"){this._x=Math.asin(-r(u,-1,1));if(Math.abs(u)<.99999){this._y=Math.atan2(s,d);this._z=Math.atan2(c,l)}else{this._y=Math.atan2(-h,a);this._z=0}}else if(t==="ZXY"){this._x=Math.asin(r(f,-1,1));if(Math.abs(f)<.99999){this._y=Math.atan2(-h,d);this._z=Math.atan2(-o,l)}else{this._y=0;this._z=Math.atan2(c,a)}}else if(t==="ZYX"){this._y=Math.asin(-r(h,-1,1));if(Math.abs(h)<.99999){this._x=Math.atan2(f,d);this._z=Math.atan2(c,a)}else{this._x=0;this._z=Math.atan2(-o,l)}}else if(t==="YZX"){this._z=Math.asin(r(c,-1,1));if(Math.abs(c)<.99999){this._x=Math.atan2(-u,l);this._y=Math.atan2(-h,a)}else{this._x=0;this._y=Math.atan2(s,d)}}else if(t==="XZY"){this._z=Math.asin(-r(o,-1,1));if(Math.abs(o)<.99999){this._x=Math.atan2(f,l);this._y=Math.atan2(s,a)}else{this._x=Math.atan2(-u,d);this._y=0}}else{console.warn("SZX3D.Euler: .setFromRotationMatrix() given unsupported order: "+t)}this._order=t;if(i!==false)this.onChangeCallback();return this},setFromQuaternion:function(){var e;return function t(i,r,n){if(e===undefined)e=new Lt;e.makeRotationFromQuaternion(i);return this.setFromRotationMatrix(e,r,n)}}(),setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(){var e=new Tt;return function t(i){e.setFromEuler(this);return this.setFromQuaternion(e,i)}}(),equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){this._x=e[0];this._y=e[1];this._z=e[2];if(e[3]!==undefined)this._order=e[3];this.onChangeCallback();return this},toArray:function(e,t){if(e===undefined)e=[];if(t===undefined)t=0;e[t]=this._x;e[t+1]=this._y;e[t+2]=this._z;e[t+3]=this._order;return e},toVector3:function(e){if(e){return e.set(this._x,this._y,this._z)}else{return new At(this._x,this._y,this._z)}},onChange:function(e){this.onChangeCallback=e;return this},onChangeCallback:function(){}};function Ct(e,t){this.start=e!==undefined?e:new At;this.end=t!==undefined?t:new At}Ct.prototype={constructor:Ct,set:function(e,t){this.start.copy(e);this.end.copy(t);return this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.start.copy(e.start);this.end.copy(e.end);return this},getCenter:function(e){var t=e||new At;return t.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){var t=e||new At;return t.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){var i=t||new At;return this.delta(i).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(){var e=new At;var t=new At;return function i(r,n){e.subVectors(r,this.start);t.subVectors(this.end,this.start);var a=t.dot(t);var o=t.dot(e);var s=o/a;if(n){s=_t.clamp(s,0,1)}return s}}(),closestPointToPoint:function(e,t,i){var r=this.closestPointToPointParameter(e,t);var n=i||new At;return this.delta(n).multiplyScalar(r).add(this.start)},applyMatrix4:function(e){this.start.applyMatrix4(e);this.end.applyMatrix4(e);return this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}};function It(e,t){this.min=e!==undefined?e:new Mt(+Infinity,+Infinity);this.max=t!==undefined?t:new Mt(-Infinity,-Infinity)}It.prototype={constructor:It,set:function(e,t){this.min.copy(e);this.max.copy(t);return this},setFromPoints:function(e){this.makeEmpty();for(var t=0,i=e.length;t<i;t++){this.expandByPoint(e[t])}return this},setFromCenterAndSize:function(){var e=new Mt;return function t(i,r){var n=e.copy(r).multiplyScalar(.5);this.min.copy(i).sub(n);this.max.copy(i).add(n);return this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.min.copy(e.min);this.max.copy(e.max);return this},makeEmpty:function(){this.min.x=this.min.y=+Infinity;this.max.x=this.max.y=-Infinity;return this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){var t=e||new Mt;return this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){var t=e||new Mt;return this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)},expandByPoint:function(e){this.min.min(e);this.max.max(e);return this},expandByVector:function(e){this.min.sub(e);this.max.add(e);return this},expandByScalar:function(e){this.min.addScalar(-e);this.max.addScalar(e);return this},containsPoint:function(e){return e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y?false:true},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){var i=t||new Mt;return i.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y?false:true},clampPoint:function(e,t){var i=t||new Mt;return i.copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new Mt;return function t(i){var r=e.copy(i).clamp(this.min,this.max);return r.sub(i).length()}}(),intersect:function(e){this.min.max(e.min);this.max.min(e.max);return this},union:function(e){this.min.min(e.min);this.max.max(e.max);return this},translate:function(e){this.min.add(e);this.max.add(e);return this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}};function Rt(e,t){this.min=e!==undefined?e:new At(+Infinity,+Infinity,+Infinity);this.max=t!==undefined?t:new At(-Infinity,-Infinity,-Infinity)}Rt.prototype={constructor:Rt,isBox3:true,set:function(e,t){this.min.copy(e);this.max.copy(t);return this},setFromArray:function(e){var t=+Infinity;var i=+Infinity;var r=+Infinity;var n=-Infinity;var a=-Infinity;var o=-Infinity;for(var s=0,c=e.length;s<c;s+=3){var l=e[s];var u=e[s+1];var h=e[s+2];if(l<t)t=l;if(u<i)i=u;if(h<r)r=h;if(l>n)n=l;if(u>a)a=u;if(h>o)o=h}this.min.set(t,i,r);this.max.set(n,a,o);return this},setFromBufferAttribute:function(e){var t=+Infinity;var i=+Infinity;var r=+Infinity;var n=-Infinity;var a=-Infinity;var o=-Infinity;for(var s=0,c=e.count;s<c;s++){var l=e.getX(s);var u=e.getY(s);var h=e.getZ(s);if(l<t)t=l;if(u<i)i=u;if(h<r)r=h;if(l>n)n=l;if(u>a)a=u;if(h>o)o=h}this.min.set(t,i,r);this.max.set(n,a,o);return this},setFromPoints:function(e){this.makeEmpty();for(var t=0,i=e.length;t<i;t++){this.expandByPoint(e[t])}return this},setFromCenterAndSize:function(){var e=new At;return function t(i,r){var n=e.copy(r).multiplyScalar(.5);this.min.copy(i).sub(n);this.max.copy(i).add(n);return this}}(),setFromObject:function(e){this.makeEmpty();return this.expandByObject(e)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.min.copy(e.min);this.max.copy(e.max);return this},makeEmpty:function(){this.min.x=this.min.y=this.min.z=+Infinity;this.max.x=this.max.y=this.max.z=-Infinity;return this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){var t=e||new At;return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){var t=e||new At;return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)},expandByPoint:function(e){this.min.min(e);this.max.max(e);return this},expandByVector:function(e){this.min.sub(e);this.max.add(e);return this},expandByScalar:function(e){this.min.addScalar(-e);this.max.addScalar(e);return this},expandByObject:function(){var e=new At;return function t(i){var r=this;i.updateMatrixWorld(true);i.traverse(function(t){var i,n;var a=t.geometry;if(a!==undefined){if(a.isGeometry){var o=a.vertices;for(i=0,n=o.length;i<n;i++){e.copy(o[i]);e.applyMatrix4(t.matrixWorld);r.expandByPoint(e)}}else if(a.isBufferGeometry){var s=a.attributes.position;if(s!==undefined){for(i=0,n=s.count;i<n;i++){e.fromBufferAttribute(s,i).applyMatrix4(t.matrixWorld);r.expandByPoint(e)}}}}});return this}}(),containsPoint:function(e){return e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z?false:true},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){var i=t||new At;return i.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z?false:true},intersectsSphere:function(){var e;return function t(i){if(e===undefined)e=new At;this.clampPoint(i.center,e);return e.distanceToSquared(i.center)<=i.radius*i.radius}}(),intersectsPlane:function(e){var t,i;if(e.normal.x>0){t=e.normal.x*this.min.x;i=e.normal.x*this.max.x}else{t=e.normal.x*this.max.x;i=e.normal.x*this.min.x}if(e.normal.y>0){t+=e.normal.y*this.min.y;i+=e.normal.y*this.max.y}else{t+=e.normal.y*this.max.y;i+=e.normal.y*this.min.y}if(e.normal.z>0){t+=e.normal.z*this.min.z;i+=e.normal.z*this.max.z}else{t+=e.normal.z*this.max.z;i+=e.normal.z*this.min.z}return t<=e.constant&&i>=e.constant},clampPoint:function(e,t){var i=t||new At;return i.copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new At;return function t(i){var r=e.copy(i).clamp(this.min,this.max);return r.sub(i).length()}}(),getBoundingSphere:function(){var e=new At;return function t(i){var r=i||new Nt;this.getCenter(r.center);r.radius=this.getSize(e).length()*.5;return r}}(),intersect:function(e){this.min.max(e.min);this.max.min(e.max);if(this.isEmpty())this.makeEmpty();return this},union:function(e){this.min.min(e.min);this.max.max(e.max);return this},applyMatrix4:function(){var e=[new At,new At,new At,new At,new At,new At,new At,new At];return function t(i){if(this.isEmpty())return this;e[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(i);e[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(i);e[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(i);e[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(i);e[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(i);e[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(i);e[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(i);e[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(i);this.setFromPoints(e);return this}}(),translate:function(e){this.min.add(e);this.max.add(e);return this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}};function Nt(e,t){this.center=e!==undefined?e:new At;this.radius=t!==undefined?t:0}Nt.prototype={constructor:Nt,set:function(e,t){this.center.copy(e);this.radius=t;return this},setFromPoints:function(){var e;return function t(i,r){if(e===undefined)e=new Rt;var n=this.center;if(r!==undefined){n.copy(r)}else{e.setFromPoints(i).getCenter(n)}var a=0;for(var o=0,s=i.length;o<s;o++){a=Math.max(a,n.distanceToSquared(i[o]))}this.radius=Math.sqrt(a);return this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.center.copy(e.center);this.radius=e.radius;return this},empty:function(){return this.radius<=0},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(this.center.dot(e.normal)-e.constant)<=this.radius},clampPoint:function(e,t){var i=this.center.distanceToSquared(e);var r=t||new At;r.copy(e);if(i>this.radius*this.radius){r.sub(this.center).normalize();r.multiplyScalar(this.radius).add(this.center)}return r},getBoundingBox:function(e){var t=e||new Rt;t.set(this.center,this.center);t.expandByScalar(this.radius);return t},applyMatrix4:function(e){this.center.applyMatrix4(e);this.radius=this.radius*e.getMaxScaleOnAxis();return this},translate:function(e){this.center.add(e);return this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}};function Dt(e,t){this.origin=e!==undefined?e:new At;this.direction=t!==undefined?t:new At}Dt.prototype={constructor:Dt,set:function(e,t){this.origin.copy(e);this.direction.copy(t);return this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.origin.copy(e.origin);this.direction.copy(e.direction);return this},at:function(e,t){var i=t||new At;return i.copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){this.direction.copy(e).sub(this.origin).normalize();return this},recast:function(){var e=new At;return function t(i){this.origin.copy(this.at(i,e));return this}}(),closestPointToPoint:function(e,t){var i=t||new At;i.subVectors(e,this.origin);var r=i.dot(this.direction);if(r<0){return i.copy(this.origin)}return i.copy(this.direction).multiplyScalar(r).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(){var e=new At;return function t(i){var r=e.subVectors(i,this.origin).dot(this.direction);if(r<0){return this.origin.distanceToSquared(i)}e.copy(this.direction).multiplyScalar(r).add(this.origin);return e.distanceToSquared(i)}}(),distanceSqToSegment:function(){var e=new At;var t=new At;var i=new At;return function r(n,a,o,s){e.copy(n).add(a).multiplyScalar(.5);t.copy(a).sub(n).normalize();i.copy(this.origin).sub(e);var c=n.distanceTo(a)*.5;var l=-this.direction.dot(t);var u=i.dot(this.direction);var h=-i.dot(t);var f=i.lengthSq();var d=Math.abs(1-l*l);var p,m,v,g;if(d>0){p=l*h-u;m=l*u-h;g=c*d;if(p>=0){if(m>=-g){if(m<=g){var y=1/d;p*=y;m*=y;v=p*(p+l*m+2*u)+m*(l*p+m+2*h)+f}else{m=c;p=Math.max(0,-(l*m+u));v=-p*p+m*(m+2*h)+f}}else{m=-c;p=Math.max(0,-(l*m+u));v=-p*p+m*(m+2*h)+f}}else{if(m<=-g){p=Math.max(0,-(-l*c+u));m=p>0?-c:Math.min(Math.max(-c,-h),c);v=-p*p+m*(m+2*h)+f}else if(m<=g){p=0;m=Math.min(Math.max(-c,-h),c);v=m*(m+2*h)+f}else{p=Math.max(0,-(l*c+u));m=p>0?c:Math.min(Math.max(-c,-h),c);v=-p*p+m*(m+2*h)+f}}}else{m=l>0?-c:c;p=Math.max(0,-(l*m+u));v=-p*p+m*(m+2*h)+f}if(o){o.copy(this.direction).multiplyScalar(p).add(this.origin)}if(s){s.copy(t).multiplyScalar(m).add(e)}return v}}(),intersectSphere:function(){var e=new At;return function t(i,r){e.subVectors(i.center,this.origin);var n=e.dot(this.direction);var a=e.dot(e)-n*n;var o=i.radius*i.radius;if(a>o)return null;var s=Math.sqrt(o-a);var c=n-s;var l=n+s;if(c<0&&l<0)return null;if(c<0)return this.at(l,r);return this.at(c,r)}}(),intersectsSphere:function(e){return this.distanceToPoint(e.center)<=e.radius},distanceToPlane:function(e){var t=e.normal.dot(this.direction);if(t===0){if(e.distanceToPoint(this.origin)===0){return 0}return null}var i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null},intersectPlane:function(e,t){var i=this.distanceToPlane(e);if(i===null){return null}return this.at(i,t)},intersectsPlane:function(e){var t=e.distanceToPoint(this.origin);if(t===0){return true}var i=e.normal.dot(this.direction);if(i*t<0){return true}return false},intersectBox:function(e,t){var i,r,n,a,o,s;var c=1/this.direction.x,l=1/this.direction.y,u=1/this.direction.z;var h=this.origin;if(c>=0){i=(e.min.x-h.x)*c;r=(e.max.x-h.x)*c}else{i=(e.max.x-h.x)*c;r=(e.min.x-h.x)*c}if(l>=0){n=(e.min.y-h.y)*l;a=(e.max.y-h.y)*l}else{n=(e.max.y-h.y)*l;a=(e.min.y-h.y)*l}if(i>a||n>r)return null;if(n>i||i!==i)i=n;if(a<r||r!==r)r=a;if(u>=0){o=(e.min.z-h.z)*u;s=(e.max.z-h.z)*u}else{o=(e.max.z-h.z)*u;s=(e.min.z-h.z)*u}if(i>s||o>r)return null;if(o>i||i!==i)i=o;if(s<r||r!==r)r=s;if(r<0)return null;return this.at(i>=0?i:r,t)},intersectsBox:function(){var e=new At;return function t(i){return this.intersectBox(i,e)!==null}}(),intersectTriangle:function(){var e=new At;var t=new At;var i=new At;var r=new At;return function n(a,o,s,c,l){t.subVectors(o,a);i.subVectors(s,a);r.crossVectors(t,i);var u=this.direction.dot(r);var h;if(u>0){if(c)return null;h=1}else if(u<0){h=-1;u=-u}else{return null}e.subVectors(this.origin,a);var f=h*this.direction.dot(i.crossVectors(e,i));if(f<0){return null}var d=h*this.direction.dot(t.cross(e));if(d<0){return null}if(f+d>u){return null}var p=-h*e.dot(r);if(p<0){return null}return this.at(p/u,l)}}(),applyMatrix4:function(e){this.direction.add(this.origin).applyMatrix4(e);this.origin.applyMatrix4(e);
this.direction.sub(this.origin);this.direction.normalize();return this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}};function Ut(e,t){this.normal=e!==undefined?e:new At(1,0,0);this.constant=t!==undefined?t:0}Ut.prototype={constructor:Ut,set:function(e,t){this.normal.copy(e);this.constant=t;return this},setComponents:function(e,t,i,r){this.normal.set(e,t,i);this.constant=r;return this},setFromNormalAndCoplanarPoint:function(e,t){this.normal.copy(e);this.constant=-t.dot(this.normal);return this},setFromCoplanarPoints:function(){var e=new At;var t=new At;return function i(r,n,a){var o=e.subVectors(a,n).cross(t.subVectors(r,n)).normalize();this.setFromNormalAndCoplanarPoint(o,r);return this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.normal.copy(e.normal);this.constant=e.constant;return this},normalize:function(){var e=1/this.normal.length();this.normal.multiplyScalar(e);this.constant*=e;return this},negate:function(){this.constant*=-1;this.normal.negate();return this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return this.orthoPoint(e,t).sub(e).negate()},orthoPoint:function(e,t){var i=this.distanceToPoint(e);var r=t||new At;return r.copy(this.normal).multiplyScalar(i)},intersectLine:function(){var e=new At;return function t(i,r){var n=r||new At;var a=i.delta(e);var o=this.normal.dot(a);if(o===0){if(this.distanceToPoint(i.start)===0){return n.copy(i.start)}return undefined}var s=-(i.start.dot(this.normal)+this.constant)/o;if(s<0||s>1){return undefined}return n.copy(a).multiplyScalar(s).add(i.start)}}(),intersectsLine:function(e){var t=this.distanceToPoint(e.start);var i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){var t=e||new At;return t.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var e=new At;var t=new Et;return function i(r,n){var a=this.coplanarPoint(e).applyMatrix4(r);var o=n||t.getNormalMatrix(r);var s=this.normal.applyMatrix3(o).normalize();this.constant=-a.dot(s);return this}}(),translate:function(e){this.constant=this.constant-e.dot(this.normal);return this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}};function Ot(e,t,i,r,n,a){this.planes=[e!==undefined?e:new Ut,t!==undefined?t:new Ut,i!==undefined?i:new Ut,r!==undefined?r:new Ut,n!==undefined?n:new Ut,a!==undefined?a:new Ut]}Ot.prototype={constructor:Ot,set:function(e,t,i,r,n,a){var o=this.planes;o[0].copy(e);o[1].copy(t);o[2].copy(i);o[3].copy(r);o[4].copy(n);o[5].copy(a);return this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){var t=this.planes;for(var i=0;i<6;i++){t[i].copy(e.planes[i])}return this},setFromMatrix:function(e){var t=this.planes;var i=e.elements;var r=i[0],n=i[1],a=i[2],o=i[3];var s=i[4],c=i[5],l=i[6],u=i[7];var h=i[8],f=i[9],d=i[10],p=i[11];var m=i[12],v=i[13],g=i[14],y=i[15];t[0].setComponents(o-r,u-s,p-h,y-m).normalize();t[1].setComponents(o+r,u+s,p+h,y+m).normalize();t[2].setComponents(o+n,u+c,p+f,y+v).normalize();t[3].setComponents(o-n,u-c,p-f,y-v).normalize();t[4].setComponents(o-a,u-l,p-d,y-g).normalize();t[5].setComponents(o+a,u+l,p+d,y+g).normalize();return this},intersectsObject:function(){var e=new Nt;return function t(i){var r=i.geometry;if(r.boundingSphere===null)r.computeBoundingSphere();e.copy(r.boundingSphere).applyMatrix4(i.matrixWorld);return this.intersectsSphere(e)}}(),intersectsSprite:function(){var e=new Nt;return function t(i){e.center.set(0,0,0);e.radius=.7071067811865476;e.applyMatrix4(i.matrixWorld);return this.intersectsSphere(e)}}(),intersectsSphere:function(e){var t=this.planes;var i=e.center;var r=-e.radius;for(var n=0;n<6;n++){var a=t[n].distanceToPoint(i);if(a<r){return false}}return true},intersectsBox:function(){var e=new At,t=new At;return function i(r){var n=this.planes;for(var a=0;a<6;a++){var o=n[a];e.x=o.normal.x>0?r.min.x:r.max.x;t.x=o.normal.x>0?r.max.x:r.min.x;e.y=o.normal.y>0?r.min.y:r.max.y;t.y=o.normal.y>0?r.max.y:r.min.y;e.z=o.normal.z>0?r.min.z:r.max.z;t.z=o.normal.z>0?r.max.z:r.min.z;var s=o.distanceToPoint(e);var c=o.distanceToPoint(t);if(s<0&&c<0){return false}}return true}}(),containsPoint:function(e){var t=this.planes;for(var i=0;i<6;i++){if(t[i].distanceToPoint(e)<0){return false}}return true}};function zt(e,t,i){this.radius=e!==undefined?e:1;this.phi=t!==undefined?t:0;this.theta=i!==undefined?i:0;return this}zt.prototype={constructor:zt,set:function(e,t,i){this.radius=e;this.phi=t;this.theta=i;return this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.radius=e.radius;this.phi=e.phi;this.theta=e.theta;return this},makeSafe:function(){var e=1e-6;this.phi=Math.max(e,Math.min(Math.PI-e,this.phi));return this},setFromVector3:function(e){this.radius=e.length();if(this.radius===0){this.theta=0;this.phi=0}else{this.theta=Math.atan2(e.x,e.z);this.phi=Math.acos(_t.clamp(e.y/this.radius,-1,1))}return this}};function Bt(e,t,i){this.radius=e!==undefined?e:1;this.theta=t!==undefined?t:0;this.y=i!==undefined?i:0;return this}Bt.prototype={constructor:Bt,set:function(e,t,i){this.radius=e;this.theta=t;this.y=i;return this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.radius=e.radius;this.theta=e.theta;this.y=e.y;return this},setFromVector3:function(e){this.radius=Math.sqrt(e.x*e.x+e.z*e.z);this.theta=Math.atan2(e.x,e.z);this.y=e.y;return this}};function Ft(e,t,i){this.a=e!==undefined?e:new At;this.b=t!==undefined?t:new At;this.c=i!==undefined?i:new At}Ft.normal=function(){var e=new At;return function t(i,r,n,a){var o=a||new At;o.subVectors(n,r);e.subVectors(i,r);o.cross(e);var s=o.lengthSq();if(s>0){return o.multiplyScalar(1/Math.sqrt(s))}return o.set(0,0,0)}}();Ft.barycoordFromPoint=function(){var e=new At;var t=new At;var i=new At;return function r(n,a,o,s,c){e.subVectors(s,a);t.subVectors(o,a);i.subVectors(n,a);var l=e.dot(e);var u=e.dot(t);var h=e.dot(i);var f=t.dot(t);var d=t.dot(i);var p=l*f-u*u;var m=c||new At;if(p===0){return m.set(-2,-1,-1)}var v=1/p;var g=(f*h-u*d)*v;var y=(l*d-u*h)*v;return m.set(1-g-y,y,g)}}();Ft.containsPoint=function(){var e=new At;return function t(i,r,n,a){var o=Ft.barycoordFromPoint(i,r,n,a,e);return o.x>=0&&o.y>=0&&o.x+o.y<=1}}();Ft.prototype={constructor:Ft,set:function(e,t,i){this.a.copy(e);this.b.copy(t);this.c.copy(i);return this},setFromPointsAndIndices:function(e,t,i,r){this.a.copy(e[t]);this.b.copy(e[i]);this.c.copy(e[r]);return this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.a.copy(e.a);this.b.copy(e.b);this.c.copy(e.c);return this},area:function(){var e=new At;var t=new At;return function i(){e.subVectors(this.c,this.b);t.subVectors(this.a,this.b);return e.cross(t).length()*.5}}(),midpoint:function(e){var t=e||new At;return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(e){return Ft.normal(this.a,this.b,this.c,e)},plane:function(e){var t=e||new Ut;return t.setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(e,t){return Ft.barycoordFromPoint(e,this.a,this.b,this.c,t)},containsPoint:function(e){return Ft.containsPoint(e,this.a,this.b,this.c)},closestPointToPoint:function(){var e,t,i,r;return function n(a,o){if(e===undefined){e=new Ut;t=[new Ct,new Ct,new Ct];i=new At;r=new At}var s=o||new At;var c=Infinity;e.setFromCoplanarPoints(this.a,this.b,this.c);e.projectPoint(a,i);if(this.containsPoint(i)===true){s.copy(i)}else{t[0].set(this.a,this.b);t[1].set(this.b,this.c);t[2].set(this.c,this.a);for(var l=0;l<t.length;l++){t[l].closestPointToPoint(i,true,r);var u=i.distanceToSquared(r);if(u<c){c=u;s.copy(r)}}}return s}}(),equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}};function kt(e,t,i,r){this.parameterPositions=e;this._cachedIndex=0;this.resultBuffer=r!==undefined?r:new t.constructor(i);this.sampleValues=t;this.valueSize=i}kt.prototype={constructor:kt,evaluate:function(e){var t=this.parameterPositions,i=this._cachedIndex,r=t[i],n=t[i-1];e:{t:{var a;i:{r:if(!(e<r)){for(var o=i+2;;){if(r===undefined){if(e<n)break r;i=t.length;this._cachedIndex=i;return this.afterEnd_(i-1,e,n)}if(i===o)break;n=r;r=t[++i];if(e<r){break t}}a=t.length;break i}if(!(e>=n)){var s=t[1];if(e<s){i=2;n=s}for(var o=i-2;;){if(n===undefined){this._cachedIndex=0;return this.beforeStart_(0,e,r)}if(i===o)break;r=n;n=t[--i-1];if(e>=n){break t}}a=i;i=0;break i}break e}while(i<a){var c=i+a>>>1;if(e<t[c]){a=c}else{i=c+1}}r=t[i];n=t[i-1];if(n===undefined){this._cachedIndex=0;return this.beforeStart_(0,e,r)}if(r===undefined){i=t.length;this._cachedIndex=i;return this.afterEnd_(i-1,n,e)}}this._cachedIndex=i;this.intervalChanged_(i,n,r)}return this.interpolate_(i,n,e,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){var t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,n=e*r;for(var a=0;a!==r;++a){t[a]=i[n+a]}return t},interpolate_:function(e,t,i,r){throw new Error("call to abstract method")},intervalChanged_:function(e,t,i){}};Object.assign(kt.prototype,{beforeStart_:kt.prototype.copySampleValue_,afterEnd_:kt.prototype.copySampleValue_});function Gt(e,t,i,r){kt.call(this,e,t,i,r);this._weightPrev=-0;this._offsetPrev=-0;this._weightNext=-0;this._offsetNext=-0}Gt.prototype=Object.assign(Object.create(kt.prototype),{constructor:Gt,DefaultSettings_:{endingStart:it,endingEnd:it},intervalChanged_:function(e,t,i){var r=this.parameterPositions,n=e-2,a=e+1,o=r[n],s=r[a];if(o===undefined){switch(this.getSettings_().endingStart){case rt:n=e;o=2*t-i;break;case nt:n=r.length-2;o=t+r[n]-r[n+1];break;default:n=e;o=i}}if(s===undefined){switch(this.getSettings_().endingEnd){case rt:a=e;s=2*i-t;break;case nt:a=1;s=i+r[1]-r[0];break;default:a=e-1;s=t}}var c=(i-t)*.5,l=this.valueSize;this._weightPrev=c/(t-o);this._weightNext=c/(s-i);this._offsetPrev=n*l;this._offsetNext=a*l},interpolate_:function(e,t,i,r){var n=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,c=s-o,l=this._offsetPrev,u=this._offsetNext,h=this._weightPrev,f=this._weightNext,d=(i-t)/(r-t),p=d*d,m=p*d;var v=-h*m+2*h*p-h*d;var g=(1+h)*m+(-1.5-2*h)*p+(-.5+h)*d+1;var y=(-1-f)*m+(1.5+f)*p+.5*d;var x=f*m-f*p;for(var _=0;_!==o;++_){n[_]=v*a[l+_]+g*a[c+_]+y*a[s+_]+x*a[u+_]}return n}});function Vt(e,t,i,r){kt.call(this,e,t,i,r)}Vt.prototype=Object.assign(Object.create(kt.prototype),{constructor:Vt,interpolate_:function(e,t,i,r){return this.copySampleValue_(e-1)}});function jt(e,t,i,r){kt.call(this,e,t,i,r)}jt.prototype=Object.assign(Object.create(kt.prototype),{constructor:jt,interpolate_:function(e,t,i,r){var n=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,c=s-o,l=(i-t)/(r-t),u=1-l;for(var h=0;h!==o;++h){n[h]=a[c+h]*u+a[s+h]*l}return n}});function Xt(e,t,i,r){kt.call(this,e,t,i,r)}Xt.prototype=Object.assign(Object.create(kt.prototype),{constructor:Xt,interpolate_:function(e,t,i,r){var n=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,c=(i-t)/(r-t);for(var l=s+o;s!==l;s+=4){Tt.slerpFlat(n,0,a,s-o,a,s,c)}return n}});function Wt(e){this.autoStart=e!==undefined?e:true;this.startTime=0;this.oldTime=0;this.elapsedTime=0;this.running=false}Wt.prototype={constructor:Wt,start:function(){this.startTime=(performance||Date).now();this.oldTime=this.startTime;this.elapsedTime=0;this.running=true},stop:function(){this.getElapsedTime();this.running=false},getElapsedTime:function(){this.getDelta();return this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running){this.start()}if(this.running){var t=(performance||Date).now();e=(t-this.oldTime)/1e3;this.oldTime=t;this.elapsedTime+=e}return e}};function Ht(){}Ht.prototype={addEventListener:function(e,t){if(this._listeners===undefined)this._listeners={};var i=this._listeners;if(i[e]===undefined){i[e]=[]}if(i[e].indexOf(t)===-1){i[e].push(t)}},hasEventListener:function(e,t){if(this._listeners===undefined)return false;var i=this._listeners;return i[e]!==undefined&&i[e].indexOf(t)!==-1},removeEventListener:function(e,t){if(this._listeners===undefined)return;var i=this._listeners;var r=i[e];if(r!==undefined){var n=r.indexOf(t);if(n!==-1){r.splice(n,1)}}},dispatchEvent:function(e){if(this._listeners===undefined)return;var t=this._listeners;var i=t[e.type];if(i!==undefined){e.target=this;var r=[],n=0;var a=i.length;for(n=0;n<a;n++){r[n]=i[n]}for(n=0;n<a;n++){r[n].call(this,e)}}}};function Zt(){this.mask=1}Zt.prototype={constructor:Zt,set:function(e){this.mask=1<<e},enable:function(e){this.mask|=1<<e},toggle:function(e){this.mask^=1<<e},disable:function(e){this.mask&=~(1<<e)},test:function(e){return(this.mask&e.mask)!==0}};function Yt(e,t,i,r){this.ray=new Dt(e,t);this.near=i||0;this.far=r||Infinity;this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}};Object.defineProperties(this.params,{PointCloud:{get:function(){console.warn("SZX3D.Raycaster: params.PointCloud has been renamed to params.Points.");return this.Points}}})}function qt(e,t){return e.distance-t.distance}function Jt(e,t,i,r){if(e.visible===false)return;e.raycast(t,i);if(r===true){var n=e.children;for(var a=0,o=n.length;a<o;a++){Jt(n[a],t,i,true)}}}Yt.prototype={constructor:Yt,linePrecision:1,set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){if(t&&t.isPerspectiveCamera){this.ray.origin.setFromMatrixPosition(t.matrixWorld);this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize()}else if(t&&t.isOrthographicCamera){this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t);this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld)}else{console.error("SZX3D.Raycaster: Unsupported camera type.")}},intersectObject:function(e,t){var i=[];Jt(e,this,i,t);i.sort(qt);return i},intersectObjects:function(e,t){var i=[];if(Array.isArray(e)===false){console.warn("SZX3D.Raycaster.intersectObjects: objects is not an Array.");return i}for(var r=0,n=e.length;r<n;r++){Jt(e[r],this,i,t)}i.sort(qt);return i}};var Kt=0;function Qt(){Object.defineProperty(this,"id",{value:Kt++});this.uuid=_t.generateUUID();this.name="";this.type="Object3D";this.parent=null;this.children=[];this.up=Qt.DefaultUp.clone();var e=new At;var t=new Pt;var i=new Tt;var r=new At(1,1,1);function n(){i.setFromEuler(t,false)}function a(){t.setFromQuaternion(i,undefined,false)}t.onChange(n);i.onChange(a);Object.defineProperties(this,{position:{enumerable:true,value:e},rotation:{enumerable:true,value:t},quaternion:{enumerable:true,value:i},scale:{enumerable:true,value:r},modelViewMatrix:{value:new Lt},normalMatrix:{value:new Et}});this.matrix=new Lt;this.matrixWorld=new Lt;this.matrixAutoUpdate=Qt.DefaultMatrixAutoUpdate;this.matrixWorldNeedsUpdate=false;this.layers=new Zt;this.visible=true;this.castShadow=false;this.receiveShadow=false;this.frustumCulled=true;this.renderOrder=0;this.userData={};this.onBeforeRender=function(){};this.onAfterRender=function(){}}Qt.DefaultUp=new At(0,1,0);Qt.DefaultMatrixAutoUpdate=true;Qt.prototype={constructor:Qt,isObject3D:true,applyMatrix:function(e){this.matrix.multiplyMatrices(e,this.matrix);this.matrix.decompose(this.position,this.quaternion,this.scale)},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,true)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(){var e=new Tt;return function t(i,r){e.setFromAxisAngle(i,r);this.quaternion.multiply(e);return this}}(),rotateX:function(){var e=new At(1,0,0);return function t(i){return this.rotateOnAxis(e,i)}}(),rotateY:function(){var e=new At(0,1,0);return function t(i){return this.rotateOnAxis(e,i)}}(),rotateZ:function(){var e=new At(0,0,1);return function t(i){return this.rotateOnAxis(e,i)}}(),translateOnAxis:function(){var e=new At;return function t(i,r){e.copy(i).applyQuaternion(this.quaternion);this.position.add(e.multiplyScalar(r));return this}}(),translateX:function(){var e=new At(1,0,0);return function t(i){return this.translateOnAxis(e,i)}}(),translateY:function(){var e=new At(0,1,0);return function t(i){return this.translateOnAxis(e,i)}}(),translateZ:function(){var e=new At(0,0,1);return function t(i){return this.translateOnAxis(e,i)}}(),localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var e=new Lt;return function t(i){return i.applyMatrix4(e.getInverse(this.matrixWorld))}}(),lookAt:function(){var e=new Lt;return function t(i){e.lookAt(i,this.position,this.up);this.quaternion.setFromRotationMatrix(e)}}(),add:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++){this.add(arguments[t])}return this}if(e===this){console.error("SZX3D.Object3D.add: object can't be added as a child of itself.",e);return this}if(e&&e.isObject3D){if(e.parent!==null){e.parent.remove(e)}e.parent=this;e.dispatchEvent({type:"added"});this.children.push(e)}else{console.error("SZX3D.Object3D.add: object not an instance of SZX3D.Object3D.",e)}return this},remove:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++){this.remove(arguments[t])}}var i=this.children.indexOf(e);if(i!==-1){e.parent=null;e.dispatchEvent({type:"removed"});this.children.splice(i,1)}},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var i=0,r=this.children.length;i<r;i++){var n=this.children[i];var a=n.getObjectByProperty(e,t);if(a!==undefined){return a}}return undefined},getWorldPosition:function(e){var t=e||new At;this.updateMatrixWorld(true);return t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var e=new At;var t=new At;return function i(r){var n=r||new Tt;this.updateMatrixWorld(true);this.matrixWorld.decompose(e,n,t);return n}}(),getWorldRotation:function(){var e=new Tt;return function t(i){var r=i||new Pt;this.getWorldQuaternion(e);return r.setFromQuaternion(e,this.rotation.order,false)}}(),getWorldScale:function(){var e=new At;var t=new Tt;return function i(r){var n=r||new At;this.updateMatrixWorld(true);this.matrixWorld.decompose(e,t,n);return n}}(),getWorldDirection:function(){var e=new Tt;return function t(i){var r=i||new At;this.getWorldQuaternion(e);return r.set(0,0,1).applyQuaternion(e)}}(),raycast:function(){},traverse:function(e){e(this);var t=this.children;for(var i=0,r=t.length;i<r;i++){t[i].traverse(e)}},traverseVisible:function(e){if(this.visible===false)return;e(this);var t=this.children;for(var i=0,r=t.length;i<r;i++){t[i].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;if(t!==null){e(t);t.traverseAncestors(e)}},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale);this.matrixWorldNeedsUpdate=true},updateMatrixWorld:function(e){if(this.matrixAutoUpdate===true)this.updateMatrix();if(this.matrixWorldNeedsUpdate===true||e===true){if(this.parent===null){this.matrixWorld.copy(this.matrix)}else{this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)}this.matrixWorldNeedsUpdate=false;e=true}var t=this.children;for(var i=0,r=t.length;i<r;i++){t[i].updateMatrixWorld(e)}},toJSON:function(e){var t=e===undefined||e==="";var i={};if(t){e={geometries:{},materials:{},textures:{},images:{}};i.metadata={version:4.4,type:"Object",generator:"Object3D.toJSON"}}var r={};r.uuid=this.uuid;r.type=this.type;if(this.name!=="")r.name=this.name;if(typeof this.userData==="object"){r.userData={};for(var n in this.userData){if(this.userData[n]instanceof Qt){r.userData[n]=this.userData[n].uuid}else{r.userData[n]=this.userData[n]}}}else{r.userData=this.userData}if(this.castShadow===true)r.castShadow=true;if(this.receiveShadow===true)r.receiveShadow=true;if(this.visible===false)r.visible=false;r.matrix=this.matrix.toArray();if(this.geometry!==undefined){if(e.geometries[this.geometry.uuid]===undefined){e.geometries[this.geometry.uuid]=this.geometry.toJSON(e)}r.geometry=this.geometry.uuid}if(this.material!==undefined){if(e.materials[this.material.uuid]===undefined){e.materials[this.material.uuid]=this.material.toJSON(e)}r.material=this.material.uuid}if(this.children.length>0){r.children=[];for(var a=0;a<this.children.length;a++){r.children.push(this.children[a].toJSON(e).object)}}if(t){var o=u(e.geometries);var s=u(e.materials);var c=u(e.textures);var l=u(e.images);if(o.length>0)i.geometries=o;if(s.length>0)i.materials=s;if(c.length>0)i.textures=c;if(l.length>0)i.images=l}i.object=r;return i;function u(e){var t=[];for(var i in e){var r=e[i];delete r.metadata;t.push(r)}return t}},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t){if(t===undefined)t=true;this.name=e.name;this.up.copy(e.up);this.position.copy(e.position);this.quaternion.copy(e.quaternion);this.scale.copy(e.scale);this.matrix.copy(e.matrix);this.matrixWorld.copy(e.matrixWorld);this.matrixAutoUpdate=e.matrixAutoUpdate;this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate;this.layers.mask=e.layers.mask;this.visible=e.visible;this.castShadow=e.castShadow;this.receiveShadow=e.receiveShadow;this.frustumCulled=e.frustumCulled;this.renderOrder=e.renderOrder;this.userData=JSON.parse(JSON.stringify(e.userData));if(t===true){for(var i=0;i<e.children.length;i++){var r=e.children[i];this.add(r.clone())}}return this}};Object.assign(Qt.prototype,Ht.prototype);function $t(e,t,i,r,n,a){this.a=e;this.b=t;this.c=i;this.normal=r&&r.isVector3?r:new At;this.vertexNormals=Array.isArray(r)?r:[];this.color=n&&n.isColor?n:new bt;this.vertexColors=Array.isArray(n)?n:[];this.materialIndex=a!==undefined?a:0}$t.prototype={constructor:$t,clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.a=e.a;this.b=e.b;this.c=e.c;this.normal.copy(e.normal);this.color.copy(e.color);this.materialIndex=e.materialIndex;for(var t=0,i=e.vertexNormals.length;t<i;t++){this.vertexNormals[t]=e.vertexNormals[t].clone()}for(var t=0,i=e.vertexColors.length;t<i;t++){this.vertexColors[t]=e.vertexColors[t].clone()}return this}};function ei(e,t,i){if(Array.isArray(e)){throw new TypeError("SZX3D.BufferAttribute: array should be a Typed Array.")}this.uuid=_t.generateUUID();this.array=e;this.itemSize=t;this.count=e!==undefined?e.length/t:0;this.normalized=i===true;this.dynamic=false;this.updateRange={offset:0,count:-1};this.onUploadCallback=function(){};this.version=0}ei.prototype={constructor:ei,isBufferAttribute:true,set needsUpdate(e){if(e===true)this.version++},setArray:function(e){if(Array.isArray(e)){throw new TypeError("SZX3D.BufferAttribute: array should be a Typed Array.")}this.count=e!==undefined?e.length/this.itemSize:0;this.array=e},setDynamic:function(e){this.dynamic=e;return this},copy:function(e){this.array=new e.array.constructor(e.array);this.itemSize=e.itemSize;this.count=e.count;this.normalized=e.normalized;this.dynamic=e.dynamic;return this},copyAt:function(e,t,i){e*=this.itemSize;i*=t.itemSize;for(var r=0,n=this.itemSize;r<n;r++){this.array[e+r]=t.array[i+r]}return this},copyArray:function(e){this.array.set(e);return this},copyColorsArray:function(e){var t=this.array,i=0;for(var r=0,n=e.length;r<n;r++){var a=e[r];if(a===undefined){console.warn("SZX3D.BufferAttribute.copyColorsArray(): color is undefined",r);a=new bt}t[i++]=a.r;t[i++]=a.g;t[i++]=a.b}return this},copyIndicesArray:function(e){var t=this.array,i=0;for(var r=0,n=e.length;r<n;r++){var a=e[r];t[i++]=a.a;t[i++]=a.b;t[i++]=a.c}return this},copyVector2sArray:function(e){var t=this.array,i=0;for(var r=0,n=e.length;r<n;r++){var a=e[r];if(a===undefined){console.warn("SZX3D.BufferAttribute.copyVector2sArray(): vector is undefined",r);a=new Mt}t[i++]=a.x;t[i++]=a.y}return this},copyVector3sArray:function(e){var t=this.array,i=0;for(var r=0,n=e.length;r<n;r++){var a=e[r];if(a===undefined){console.warn("SZX3D.BufferAttribute.copyVector3sArray(): vector is undefined",r);a=new At}t[i++]=a.x;t[i++]=a.y;t[i++]=a.z}return this},copyVector4sArray:function(e){var t=this.array,i=0;for(var r=0,n=e.length;r<n;r++){var a=e[r];if(a===undefined){console.warn("SZX3D.BufferAttribute.copyVector4sArray(): vector is undefined",r);a=new St}t[i++]=a.x;t[i++]=a.y;t[i++]=a.z;t[i++]=a.w}return this},set:function(e,t){if(t===undefined)t=0;this.array.set(e,t);return this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){this.array[e*this.itemSize]=t;return this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){this.array[e*this.itemSize+1]=t;return this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){this.array[e*this.itemSize+2]=t;return this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){this.array[e*this.itemSize+3]=t;return this},setXY:function(e,t,i){e*=this.itemSize;this.array[e+0]=t;this.array[e+1]=i;return this},setXYZ:function(e,t,i,r){e*=this.itemSize;this.array[e+0]=t;this.array[e+1]=i;this.array[e+2]=r;return this},setXYZW:function(e,t,i,r,n){e*=this.itemSize;this.array[e+0]=t;this.array[e+1]=i;this.array[e+2]=r;this.array[e+3]=n;return this},onUpload:function(e){this.onUploadCallback=e;return this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}};function ti(e,t){ei.call(this,new Int8Array(e),t)}ti.prototype=Object.create(ei.prototype);ti.prototype.constructor=ti;function ii(e,t){ei.call(this,new Uint8Array(e),t)}ii.prototype=Object.create(ei.prototype);ii.prototype.constructor=ii;function ri(e,t){ei.call(this,new Uint8ClampedArray(e),t)}ri.prototype=Object.create(ei.prototype);ri.prototype.constructor=ri;function ni(e,t){ei.call(this,new Int16Array(e),t)}ni.prototype=Object.create(ei.prototype);ni.prototype.constructor=ni;function ai(e,t){ei.call(this,new Uint16Array(e),t)}ai.prototype=Object.create(ei.prototype);ai.prototype.constructor=ai;function oi(e,t){ei.call(this,new Int32Array(e),t)}oi.prototype=Object.create(ei.prototype);oi.prototype.constructor=oi;function si(e,t){ei.call(this,new Uint32Array(e),t)}si.prototype=Object.create(ei.prototype);si.prototype.constructor=si;function ci(e,t){ei.call(this,new Float32Array(e),t)}ci.prototype=Object.create(ei.prototype);ci.prototype.constructor=ci;function li(e,t){ei.call(this,new Float64Array(e),t)}li.prototype=Object.create(ei.prototype);li.prototype.constructor=li;function ui(e,t,i){ei.call(this,e,t);this.meshPerAttribute=i||1}ui.prototype=Object.create(ei.prototype);ui.prototype.constructor=ui;ui.prototype.isInstancedBufferAttribute=true;ui.prototype.copy=function(e){ei.prototype.copy.call(this,e);this.meshPerAttribute=e.meshPerAttribute;return this};function hi(e,t){this.uuid=_t.generateUUID();this.array=e;this.stride=t;this.count=e!==undefined?e.length/t:0;this.dynamic=false;this.updateRange={offset:0,count:-1};this.onUploadCallback=function(){};this.version=0}hi.prototype={constructor:hi,isInterleavedBuffer:true,set needsUpdate(e){if(e===true)this.version++},setArray:function(e){if(Array.isArray(e)){throw new TypeError("SZX3D.BufferAttribute: array should be a Typed Array.")}this.count=e!==undefined?e.length/this.stride:0;this.array=e},setDynamic:function(e){this.dynamic=e;return this},copy:function(e){this.array=new e.array.constructor(e.array);this.count=e.count;this.stride=e.stride;this.dynamic=e.dynamic;return this},copyAt:function(e,t,i){e*=this.stride;i*=t.stride;for(var r=0,n=this.stride;r<n;r++){this.array[e+r]=t.array[i+r]}return this},set:function(e,t){if(t===undefined)t=0;this.array.set(e,t);return this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(e){this.onUploadCallback=e;return this}};function fi(e,t,i){hi.call(this,e,t);this.meshPerAttribute=i||1}fi.prototype=Object.create(hi.prototype);fi.prototype.constructor=fi;fi.prototype.isInstancedInterleavedBuffer=true;fi.prototype.copy=function(e){hi.prototype.copy.call(this,e);this.meshPerAttribute=e.meshPerAttribute;return this};function di(e,t,i,r){this.uuid=_t.generateUUID();this.data=e;this.itemSize=t;this.offset=i;this.normalized=r===true}di.prototype={constructor:di,isInterleavedBufferAttribute:true,get count(){return this.data.count},get array(){return this.data.array},setX:function(e,t){this.data.array[e*this.data.stride+this.offset]=t;return this},setY:function(e,t){this.data.array[e*this.data.stride+this.offset+1]=t;return this},setZ:function(e,t){this.data.array[e*this.data.stride+this.offset+2]=t;return this},setW:function(e,t){this.data.array[e*this.data.stride+this.offset+3]=t;return this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,i){e=e*this.data.stride+this.offset;this.data.array[e+0]=t;this.data.array[e+1]=i;return this},setXYZ:function(e,t,i,r){e=e*this.data.stride+this.offset;this.data.array[e+0]=t;this.data.array[e+1]=i;this.data.array[e+2]=r;return this},setXYZW:function(e,t,i,r,n){e=e*this.data.stride+this.offset;this.data.array[e+0]=t;this.data.array[e+1]=i;this.data.array[e+2]=r;this.data.array[e+3]=n;return this}};var pi=0;function mi(){return pi++}function vi(){Object.defineProperty(this,"id",{value:mi()});this.uuid=_t.generateUUID();this.name="";this.type="Geometry";this.vertices=[];this.colors=[];this.faces=[];this.faceVertexUvs=[[]];this.morphTargets=[];this.morphNormals=[];this.skinWeights=[];this.skinIndices=[];this.lineDistances=[];this.boundingBox=null;this.boundingSphere=null;this.elementsNeedUpdate=false;this.verticesNeedUpdate=false;this.uvsNeedUpdate=false;this.normalsNeedUpdate=false;this.colorsNeedUpdate=false;this.lineDistancesNeedUpdate=false;this.groupsNeedUpdate=false}vi.prototype={constructor:vi,isGeometry:true,applyMatrix:function(e){var t=(new Et).getNormalMatrix(e);for(var i=0,r=this.vertices.length;i<r;i++){var n=this.vertices[i];n.applyMatrix4(e)}for(var i=0,r=this.faces.length;i<r;i++){var a=this.faces[i];a.normal.applyMatrix3(t).normalize();for(var o=0,s=a.vertexNormals.length;o<s;o++){a.vertexNormals[o].applyMatrix3(t).normalize()}}if(this.boundingBox!==null){this.computeBoundingBox()}if(this.boundingSphere!==null){this.computeBoundingSphere()}this.verticesNeedUpdate=true;this.normalsNeedUpdate=true;return this},rotateX:function(){var e;return function t(i){if(e===undefined)e=new Lt;e.makeRotationX(i);this.applyMatrix(e);return this}}(),rotateY:function(){var e;return function t(i){if(e===undefined)e=new Lt;e.makeRotationY(i);this.applyMatrix(e);return this}}(),rotateZ:function(){var e;return function t(i){if(e===undefined)e=new Lt;e.makeRotationZ(i);this.applyMatrix(e);return this}}(),translate:function(){var e;return function t(i,r,n){if(e===undefined)e=new Lt;e.makeTranslation(i,r,n);this.applyMatrix(e);return this}}(),scale:function(){var e;return function t(i,r,n){if(e===undefined)e=new Lt;e.makeScale(i,r,n);this.applyMatrix(e);return this}}(),lookAt:function(){var e;return function t(i){if(e===undefined)e=new Qt;e.lookAt(i);e.updateMatrix();this.applyMatrix(e.matrix)}}(),fromBufferGeometry:function(e){var t=this;var i=e.index!==null?e.index.array:undefined;var r=e.attributes;var n=r.position.array;var a=r.normal!==undefined?r.normal.array:undefined;var o=r.color!==undefined?r.color.array:undefined;var s=r.uv!==undefined?r.uv.array:undefined;var c=r.uv2!==undefined?r.uv2.array:undefined;if(c!==undefined)this.faceVertexUvs[1]=[];var l=[];var u=[];var h=[];for(var f=0,d=0;f<n.length;f+=3,d+=2){t.vertices.push(new At(n[f],n[f+1],n[f+2]));if(a!==undefined){l.push(new At(a[f],a[f+1],a[f+2]));
}if(o!==undefined){t.colors.push(new bt(o[f],o[f+1],o[f+2]))}if(s!==undefined){u.push(new Mt(s[d],s[d+1]))}if(c!==undefined){h.push(new Mt(c[d],c[d+1]))}}function p(e,i,r,n){var f=a!==undefined?[l[e].clone(),l[i].clone(),l[r].clone()]:[];var d=o!==undefined?[t.colors[e].clone(),t.colors[i].clone(),t.colors[r].clone()]:[];var p=new $t(e,i,r,f,d,n);t.faces.push(p);if(s!==undefined){t.faceVertexUvs[0].push([u[e].clone(),u[i].clone(),u[r].clone()])}if(c!==undefined){t.faceVertexUvs[1].push([h[e].clone(),h[i].clone(),h[r].clone()])}}if(i!==undefined){var m=e.groups;if(m.length>0){for(var f=0;f<m.length;f++){var v=m[f];var g=v.start;var y=v.count;for(var d=g,x=g+y;d<x;d+=3){p(i[d],i[d+1],i[d+2],v.materialIndex)}}}else{for(var f=0;f<i.length;f+=3){p(i[f],i[f+1],i[f+2])}}}else{for(var f=0;f<n.length/3;f+=3){p(f,f+1,f+2)}}this.computeFaceNormals();if(e.boundingBox!==null){this.boundingBox=e.boundingBox.clone()}if(e.boundingSphere!==null){this.boundingSphere=e.boundingSphere.clone()}return this},center:function(){this.computeBoundingBox();var e=this.boundingBox.getCenter().negate();this.translate(e.x,e.y,e.z);return e},normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center;var t=this.boundingSphere.radius;var i=t===0?1:1/t;var r=new Lt;r.set(i,0,0,-i*e.x,0,i,0,-i*e.y,0,0,i,-i*e.z,0,0,0,1);this.applyMatrix(r);return this},computeFaceNormals:function(){var e=new At,t=new At;for(var i=0,r=this.faces.length;i<r;i++){var n=this.faces[i];var a=this.vertices[n.a];var o=this.vertices[n.b];var s=this.vertices[n.c];e.subVectors(s,o);t.subVectors(a,o);e.cross(t);e.normalize();n.normal.copy(e)}},computeVertexNormals:function(e){if(e===undefined)e=true;var t,i,r,n,a,o;o=new Array(this.vertices.length);for(t=0,i=this.vertices.length;t<i;t++){o[t]=new At}if(e){var s,c,l;var u=new At,h=new At;for(r=0,n=this.faces.length;r<n;r++){a=this.faces[r];s=this.vertices[a.a];c=this.vertices[a.b];l=this.vertices[a.c];u.subVectors(l,c);h.subVectors(s,c);u.cross(h);o[a.a].add(u);o[a.b].add(u);o[a.c].add(u)}}else{this.computeFaceNormals();for(r=0,n=this.faces.length;r<n;r++){a=this.faces[r];o[a.a].add(a.normal);o[a.b].add(a.normal);o[a.c].add(a.normal)}}for(t=0,i=this.vertices.length;t<i;t++){o[t].normalize()}for(r=0,n=this.faces.length;r<n;r++){a=this.faces[r];var f=a.vertexNormals;if(f.length===3){f[0].copy(o[a.a]);f[1].copy(o[a.b]);f[2].copy(o[a.c])}else{f[0]=o[a.a].clone();f[1]=o[a.b].clone();f[2]=o[a.c].clone()}}if(this.faces.length>0){this.normalsNeedUpdate=true}},computeFlatVertexNormals:function(){var e,t,i;this.computeFaceNormals();for(e=0,t=this.faces.length;e<t;e++){i=this.faces[e];var r=i.vertexNormals;if(r.length===3){r[0].copy(i.normal);r[1].copy(i.normal);r[2].copy(i.normal)}else{r[0]=i.normal.clone();r[1]=i.normal.clone();r[2]=i.normal.clone()}}if(this.faces.length>0){this.normalsNeedUpdate=true}},computeMorphNormals:function(){var e,t,i,r,n;for(i=0,r=this.faces.length;i<r;i++){n=this.faces[i];if(!n.__originalFaceNormal){n.__originalFaceNormal=n.normal.clone()}else{n.__originalFaceNormal.copy(n.normal)}if(!n.__originalVertexNormals)n.__originalVertexNormals=[];for(e=0,t=n.vertexNormals.length;e<t;e++){if(!n.__originalVertexNormals[e]){n.__originalVertexNormals[e]=n.vertexNormals[e].clone()}else{n.__originalVertexNormals[e].copy(n.vertexNormals[e])}}}var a=new vi;a.faces=this.faces;for(e=0,t=this.morphTargets.length;e<t;e++){if(!this.morphNormals[e]){this.morphNormals[e]={};this.morphNormals[e].faceNormals=[];this.morphNormals[e].vertexNormals=[];var o=this.morphNormals[e].faceNormals;var s=this.morphNormals[e].vertexNormals;var c,l;for(i=0,r=this.faces.length;i<r;i++){c=new At;l={a:new At,b:new At,c:new At};o.push(c);s.push(l)}}var u=this.morphNormals[e];a.vertices=this.morphTargets[e].vertices;a.computeFaceNormals();a.computeVertexNormals();var c,l;for(i=0,r=this.faces.length;i<r;i++){n=this.faces[i];c=u.faceNormals[i];l=u.vertexNormals[i];c.copy(n.normal);l.a.copy(n.vertexNormals[0]);l.b.copy(n.vertexNormals[1]);l.c.copy(n.vertexNormals[2])}}for(i=0,r=this.faces.length;i<r;i++){n=this.faces[i];n.normal=n.__originalFaceNormal;n.vertexNormals=n.__originalVertexNormals}},computeLineDistances:function(){var e=0;var t=this.vertices;for(var i=0,r=t.length;i<r;i++){if(i>0){e+=t[i].distanceTo(t[i-1])}this.lineDistances[i]=e}},computeBoundingBox:function(){if(this.boundingBox===null){this.boundingBox=new Rt}this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){if(this.boundingSphere===null){this.boundingSphere=new Nt}this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,i){if((e&&e.isGeometry)===false){console.error("SZX3D.Geometry.merge(): geometry not an instance of SZX3D.Geometry.",e);return}var r,n=this.vertices.length,a=this.vertices,o=e.vertices,s=this.faces,c=e.faces,l=this.faceVertexUvs[0],u=e.faceVertexUvs[0],h=this.colors,f=e.colors;if(i===undefined)i=0;if(t!==undefined){r=(new Et).getNormalMatrix(t)}for(var d=0,p=o.length;d<p;d++){var m=o[d];var v=m.clone();if(t!==undefined)v.applyMatrix4(t);a.push(v)}for(var d=0,p=f.length;d<p;d++){h.push(f[d].clone())}for(d=0,p=c.length;d<p;d++){var g=c[d],y,x,_,b=g.vertexNormals,w=g.vertexColors;y=new $t(g.a+n,g.b+n,g.c+n);y.normal.copy(g.normal);if(r!==undefined){y.normal.applyMatrix3(r).normalize()}for(var M=0,S=b.length;M<S;M++){x=b[M].clone();if(r!==undefined){x.applyMatrix3(r).normalize()}y.vertexNormals.push(x)}y.color.copy(g.color);for(var M=0,S=w.length;M<S;M++){_=w[M];y.vertexColors.push(_.clone())}y.materialIndex=g.materialIndex+i;s.push(y)}for(d=0,p=u.length;d<p;d++){var T=u[d],A=[];if(T===undefined){continue}for(var M=0,S=T.length;M<S;M++){A.push(T[M].clone())}l.push(A)}},mergeMesh:function(e){if((e&&e.isMesh)===false){console.error("SZX3D.Geometry.mergeMesh(): mesh not an instance of SZX3D.Mesh.",e);return}e.matrixAutoUpdate&&e.updateMatrix();this.merge(e.geometry,e.matrix)},mergeVertices:function(){var e={};var t=[],i=[];var r,n;var a=4;var o=Math.pow(10,a);var s,c,l;var u,h,f;for(s=0,c=this.vertices.length;s<c;s++){r=this.vertices[s];n=Math.round(r.x*o)+"_"+Math.round(r.y*o)+"_"+Math.round(r.z*o);if(e[n]===undefined){e[n]=s;t.push(this.vertices[s]);i[s]=t.length-1}else{i[s]=i[e[n]]}}var d=[];for(s=0,c=this.faces.length;s<c;s++){l=this.faces[s];l.a=i[l.a];l.b=i[l.b];l.c=i[l.c];u=[l.a,l.b,l.c];for(var p=0;p<3;p++){if(u[p]===u[(p+1)%3]){d.push(s);break}}}for(s=d.length-1;s>=0;s--){var m=d[s];this.faces.splice(m,1);for(h=0,f=this.faceVertexUvs.length;h<f;h++){this.faceVertexUvs[h].splice(m,1)}}var v=this.vertices.length-t.length;this.vertices=t;return v},sortFacesByMaterialIndex:function(){var e=this.faces;var t=e.length;for(var i=0;i<t;i++){e[i]._id=i}function r(e,t){return e.materialIndex-t.materialIndex}e.sort(r);var n=this.faceVertexUvs[0];var a=this.faceVertexUvs[1];var o,s;if(n&&n.length===t)o=[];if(a&&a.length===t)s=[];for(var i=0;i<t;i++){var c=e[i]._id;if(o)o.push(n[c]);if(s)s.push(a[c])}if(o)this.faceVertexUvs[0]=o;if(s)this.faceVertexUvs[1]=s},toJSON:function(){var e={metadata:{version:4.4,type:"Geometry",generator:"Geometry.toJSON"}};e.uuid=this.uuid;e.type=this.type;if(this.name!=="")e.name=this.name;if(this.parameters!==undefined){var t=this.parameters;for(var i in t){if(t[i]!==undefined)e[i]=t[i]}return e}var r=[];for(var n=0;n<this.vertices.length;n++){var a=this.vertices[n];r.push(a.x,a.y,a.z)}var o=[];var s=[];var c={};var l=[];var u={};var h=[];var f={};for(var n=0;n<this.faces.length;n++){var d=this.faces[n];var p=true;var m=false;var v=this.faceVertexUvs[0][n]!==undefined;var g=d.normal.length()>0;var y=d.vertexNormals.length>0;var x=d.color.r!==1||d.color.g!==1||d.color.b!==1;var _=d.vertexColors.length>0;var b=0;b=T(b,0,0);b=T(b,1,p);b=T(b,2,m);b=T(b,3,v);b=T(b,4,g);b=T(b,5,y);b=T(b,6,x);b=T(b,7,_);o.push(b);o.push(d.a,d.b,d.c);o.push(d.materialIndex);if(v){var w=this.faceVertexUvs[0][n];o.push(E(w[0]),E(w[1]),E(w[2]))}if(g){o.push(A(d.normal))}if(y){var M=d.vertexNormals;o.push(A(M[0]),A(M[1]),A(M[2]))}if(x){o.push(L(d.color))}if(_){var S=d.vertexColors;o.push(L(S[0]),L(S[1]),L(S[2]))}}function T(e,t,i){return i?e|1<<t:e&~(1<<t)}function A(e){var t=e.x.toString()+e.y.toString()+e.z.toString();if(c[t]!==undefined){return c[t]}c[t]=s.length/3;s.push(e.x,e.y,e.z);return c[t]}function L(e){var t=e.r.toString()+e.g.toString()+e.b.toString();if(u[t]!==undefined){return u[t]}u[t]=l.length;l.push(e.getHex());return u[t]}function E(e){var t=e.x.toString()+e.y.toString();if(f[t]!==undefined){return f[t]}f[t]=h.length/2;h.push(e.x,e.y);return f[t]}e.data={};e.data.vertices=r;e.data.normals=s;if(l.length>0)e.data.colors=l;if(h.length>0)e.data.uvs=[h];e.data.faces=o;return e},clone:function(){return(new vi).copy(this)},copy:function(e){var t,i,r,n,a,o;this.vertices=[];this.colors=[];this.faces=[];this.faceVertexUvs=[[]];this.morphTargets=[];this.morphNormals=[];this.skinWeights=[];this.skinIndices=[];this.lineDistances=[];this.boundingBox=null;this.boundingSphere=null;this.name=e.name;var s=e.vertices;for(t=0,i=s.length;t<i;t++){this.vertices.push(s[t].clone())}var c=e.colors;for(t=0,i=c.length;t<i;t++){this.colors.push(c[t].clone())}var l=e.faces;for(t=0,i=l.length;t<i;t++){this.faces.push(l[t].clone())}for(t=0,i=e.faceVertexUvs.length;t<i;t++){var u=e.faceVertexUvs[t];if(this.faceVertexUvs[t]===undefined){this.faceVertexUvs[t]=[]}for(r=0,n=u.length;r<n;r++){var h=u[r],f=[];for(a=0,o=h.length;a<o;a++){var d=h[a];f.push(d.clone())}this.faceVertexUvs[t].push(f)}}var p=e.morphTargets;for(t=0,i=p.length;t<i;t++){var m={};m.name=p[t].name;if(p[t].vertices!==undefined){m.vertices=[];for(r=0,n=p[t].vertices.length;r<n;r++){m.vertices.push(p[t].vertices[r].clone())}}if(p[t].normals!==undefined){m.normals=[];for(r=0,n=p[t].normals.length;r<n;r++){m.normals.push(p[t].normals[r].clone())}}this.morphTargets.push(m)}var v=e.morphNormals;for(t=0,i=v.length;t<i;t++){var g={};if(v[t].vertexNormals!==undefined){g.vertexNormals=[];for(r=0,n=v[t].vertexNormals.length;r<n;r++){var y=v[t].vertexNormals[r];var x={};x.a=y.a.clone();x.b=y.b.clone();x.c=y.c.clone();g.vertexNormals.push(x)}}if(v[t].faceNormals!==undefined){g.faceNormals=[];for(r=0,n=v[t].faceNormals.length;r<n;r++){g.faceNormals.push(v[t].faceNormals[r].clone())}}this.morphNormals.push(g)}var _=e.skinWeights;for(t=0,i=_.length;t<i;t++){this.skinWeights.push(_[t].clone())}var b=e.skinIndices;for(t=0,i=b.length;t<i;t++){this.skinIndices.push(b[t].clone())}var w=e.lineDistances;for(t=0,i=w.length;t<i;t++){this.lineDistances.push(w[t])}var M=e.boundingBox;if(M!==null){this.boundingBox=M.clone()}var S=e.boundingSphere;if(S!==null){this.boundingSphere=S.clone()}this.elementsNeedUpdate=e.elementsNeedUpdate;this.verticesNeedUpdate=e.verticesNeedUpdate;this.uvsNeedUpdate=e.uvsNeedUpdate;this.normalsNeedUpdate=e.normalsNeedUpdate;this.colorsNeedUpdate=e.colorsNeedUpdate;this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate;this.groupsNeedUpdate=e.groupsNeedUpdate;return this},dispose:function(){this.dispatchEvent({type:"dispose"})}};Object.assign(vi.prototype,Ht.prototype);function gi(){this.indices=[];this.vertices=[];this.normals=[];this.colors=[];this.uvs=[];this.uvs2=[];this.groups=[];this.morphTargets={};this.skinWeights=[];this.skinIndices=[];this.boundingBox=null;this.boundingSphere=null;this.verticesNeedUpdate=false;this.normalsNeedUpdate=false;this.colorsNeedUpdate=false;this.uvsNeedUpdate=false;this.groupsNeedUpdate=false}Object.assign(gi.prototype,{computeGroups:function(e){var t;var i=[];var r=undefined;var n=e.faces;for(var a=0;a<n.length;a++){var o=n[a];if(o.materialIndex!==r){r=o.materialIndex;if(t!==undefined){t.count=a*3-t.start;i.push(t)}t={start:a*3,materialIndex:r}}}if(t!==undefined){t.count=a*3-t.start;i.push(t)}this.groups=i},fromGeometry:function(e){var t=e.faces;var i=e.vertices;var r=e.faceVertexUvs;var n=r[0]&&r[0].length>0;var a=r[1]&&r[1].length>0;var o=e.morphTargets;var s=o.length;var c;if(s>0){c=[];for(var l=0;l<s;l++){c[l]=[]}this.morphTargets.position=c}var u=e.morphNormals;var h=u.length;var f;if(h>0){f=[];for(var l=0;l<h;l++){f[l]=[]}this.morphTargets.normal=f}var d=e.skinIndices;var p=e.skinWeights;var m=d.length===i.length;var v=p.length===i.length;for(var l=0;l<t.length;l++){var g=t[l];this.vertices.push(i[g.a],i[g.b],i[g.c]);var y=g.vertexNormals;if(y.length===3){this.normals.push(y[0],y[1],y[2])}else{var x=g.normal;this.normals.push(x,x,x)}var _=g.vertexColors;if(_.length===3){this.colors.push(_[0],_[1],_[2])}else{var b=g.color;this.colors.push(b,b,b)}if(n===true){var w=r[0][l];if(w!==undefined){this.uvs.push(w[0],w[1],w[2])}else{console.warn("SZX3D.DirectGeometry.fromGeometry(): Undefined vertexUv ",l);this.uvs.push(new Mt,new Mt,new Mt)}}if(a===true){var w=r[1][l];if(w!==undefined){this.uvs2.push(w[0],w[1],w[2])}else{console.warn("SZX3D.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",l);this.uvs2.push(new Mt,new Mt,new Mt)}}for(var M=0;M<s;M++){var S=o[M].vertices;c[M].push(S[g.a],S[g.b],S[g.c])}for(var M=0;M<h;M++){var T=u[M].vertexNormals[l];f[M].push(T.a,T.b,T.c)}if(m){this.skinIndices.push(d[g.a],d[g.b],d[g.c])}if(v){this.skinWeights.push(p[g.a],p[g.b],p[g.c])}}this.computeGroups(e);this.verticesNeedUpdate=e.verticesNeedUpdate;this.normalsNeedUpdate=e.normalsNeedUpdate;this.colorsNeedUpdate=e.colorsNeedUpdate;this.uvsNeedUpdate=e.uvsNeedUpdate;this.groupsNeedUpdate=e.groupsNeedUpdate;return this}});function yi(){Object.defineProperty(this,"id",{value:mi()});this.uuid=_t.generateUUID();this.name="";this.type="BufferGeometry";this.index=null;this.attributes={};this.morphAttributes={};this.groups=[];this.boundingBox=null;this.boundingSphere=null;this.drawRange={start:0,count:Infinity}}yi.prototype={constructor:yi,isBufferGeometry:true,getIndex:function(){return this.index},setIndex:function(e){if(Array.isArray(e)){this.index=new(xt(e)>65535?si:ai)(e,1)}else{this.index=e}},addAttribute:function(e,t){if((t&&t.isBufferAttribute)===false&&(t&&t.isInterleavedBufferAttribute)===false){console.warn("SZX3D.BufferGeometry: .addAttribute() now expects ( name, attribute ).");this.addAttribute(e,new ei(arguments[1],arguments[2]));return}if(e==="index"){console.warn("SZX3D.BufferGeometry.addAttribute: Use .setIndex() for index attribute.");this.setIndex(t);return}this.attributes[e]=t;return this},getAttribute:function(e){return this.attributes[e]},removeAttribute:function(e){delete this.attributes[e];return this},addGroup:function(e,t,i){this.groups.push({start:e,count:t,materialIndex:i!==undefined?i:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e;this.drawRange.count=t},applyMatrix:function(e){var t=this.attributes.position;if(t!==undefined){e.applyToBufferAttribute(t);t.needsUpdate=true}var i=this.attributes.normal;if(i!==undefined){var r=(new Et).getNormalMatrix(e);r.applyToBufferAttribute(i);i.needsUpdate=true}if(this.boundingBox!==null){this.computeBoundingBox()}if(this.boundingSphere!==null){this.computeBoundingSphere()}return this},rotateX:function(){var e;return function t(i){if(e===undefined)e=new Lt;e.makeRotationX(i);this.applyMatrix(e);return this}}(),rotateY:function(){var e;return function t(i){if(e===undefined)e=new Lt;e.makeRotationY(i);this.applyMatrix(e);return this}}(),rotateZ:function(){var e;return function t(i){if(e===undefined)e=new Lt;e.makeRotationZ(i);this.applyMatrix(e);return this}}(),translate:function(){var e;return function t(i,r,n){if(e===undefined)e=new Lt;e.makeTranslation(i,r,n);this.applyMatrix(e);return this}}(),scale:function(){var e;return function t(i,r,n){if(e===undefined)e=new Lt;e.makeScale(i,r,n);this.applyMatrix(e);return this}}(),lookAt:function(){var e;return function t(i){if(e===undefined)e=new Qt;e.lookAt(i);e.updateMatrix();this.applyMatrix(e.matrix)}}(),center:function(){this.computeBoundingBox();var e=this.boundingBox.getCenter().negate();this.translate(e.x,e.y,e.z);return e},setFromObject:function(e){var t=e.geometry;if(e.isPoints||e.isLine){var i=new ci(t.vertices.length*3,3);var r=new ci(t.colors.length*3,3);this.addAttribute("position",i.copyVector3sArray(t.vertices));this.addAttribute("color",r.copyColorsArray(t.colors));if(t.lineDistances&&t.lineDistances.length===t.vertices.length){var n=new ci(t.lineDistances.length,1);this.addAttribute("lineDistance",n.copyArray(t.lineDistances))}if(t.boundingSphere!==null){this.boundingSphere=t.boundingSphere.clone()}if(t.boundingBox!==null){this.boundingBox=t.boundingBox.clone()}}else if(e.isMesh){if(t&&t.isGeometry){this.fromGeometry(t)}}return this},updateFromObject:function(e){var t=e.geometry;if(e.isMesh){var i=t.__directGeometry;if(t.elementsNeedUpdate===true){i=undefined;t.elementsNeedUpdate=false}if(i===undefined){return this.fromGeometry(t)}i.verticesNeedUpdate=t.verticesNeedUpdate;i.normalsNeedUpdate=t.normalsNeedUpdate;i.colorsNeedUpdate=t.colorsNeedUpdate;i.uvsNeedUpdate=t.uvsNeedUpdate;i.groupsNeedUpdate=t.groupsNeedUpdate;t.verticesNeedUpdate=false;t.normalsNeedUpdate=false;t.colorsNeedUpdate=false;t.uvsNeedUpdate=false;t.groupsNeedUpdate=false;t=i}var r;if(t.verticesNeedUpdate===true){r=this.attributes.position;if(r!==undefined){r.copyVector3sArray(t.vertices);r.needsUpdate=true}t.verticesNeedUpdate=false}if(t.normalsNeedUpdate===true){r=this.attributes.normal;if(r!==undefined){r.copyVector3sArray(t.normals);r.needsUpdate=true}t.normalsNeedUpdate=false}if(t.colorsNeedUpdate===true){r=this.attributes.color;if(r!==undefined){r.copyColorsArray(t.colors);r.needsUpdate=true}t.colorsNeedUpdate=false}if(t.uvsNeedUpdate){r=this.attributes.uv;if(r!==undefined){r.copyVector2sArray(t.uvs);r.needsUpdate=true}t.uvsNeedUpdate=false}if(t.lineDistancesNeedUpdate){r=this.attributes.lineDistance;if(r!==undefined){r.copyArray(t.lineDistances);r.needsUpdate=true}t.lineDistancesNeedUpdate=false}if(t.groupsNeedUpdate){t.computeGroups(e.geometry);this.groups=t.groups;t.groupsNeedUpdate=false}return this},fromGeometry:function(e){e.__directGeometry=(new gi).fromGeometry(e);return this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(e.vertices.length*3);this.addAttribute("position",new ei(t,3).copyVector3sArray(e.vertices));if(e.normals.length>0){var i=new Float32Array(e.normals.length*3);this.addAttribute("normal",new ei(i,3).copyVector3sArray(e.normals))}if(e.colors.length>0){var r=new Float32Array(e.colors.length*3);this.addAttribute("color",new ei(r,3).copyColorsArray(e.colors))}if(e.uvs.length>0){var n=new Float32Array(e.uvs.length*2);this.addAttribute("uv",new ei(n,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){var a=new Float32Array(e.uvs2.length*2);this.addAttribute("uv2",new ei(a,2).copyVector2sArray(e.uvs2))}if(e.indices.length>0){var o=xt(e.indices)>65535?Uint32Array:Uint16Array;var s=new o(e.indices.length*3);this.setIndex(new ei(s,1).copyIndicesArray(e.indices))}this.groups=e.groups;for(var c in e.morphTargets){var l=[];var u=e.morphTargets[c];for(var h=0,f=u.length;h<f;h++){var d=u[h];var p=new ci(d.length*3,3);l.push(p.copyVector3sArray(d))}this.morphAttributes[c]=l}if(e.skinIndices.length>0){var m=new ci(e.skinIndices.length*4,4);this.addAttribute("skinIndex",m.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){var v=new ci(e.skinWeights.length*4,4);this.addAttribute("skinWeight",v.copyVector4sArray(e.skinWeights))}if(e.boundingSphere!==null){this.boundingSphere=e.boundingSphere.clone()}if(e.boundingBox!==null){this.boundingBox=e.boundingBox.clone()}return this},computeBoundingBox:function(){if(this.boundingBox===null){this.boundingBox=new Rt}var e=this.attributes.position;if(e!==undefined){this.boundingBox.setFromBufferAttribute(e)}else{this.boundingBox.makeEmpty()}if(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z)){console.error('SZX3D.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}},computeBoundingSphere:function(){var e=new Rt;var t=new At;return function i(){if(this.boundingSphere===null){this.boundingSphere=new Nt}var r=this.attributes.position;if(r){var n=this.boundingSphere.center;e.setFromBufferAttribute(r);e.getCenter(n);var a=0;for(var o=0,s=r.count;o<s;o++){t.x=r.getX(o);t.y=r.getY(o);t.z=r.getZ(o);a=Math.max(a,n.distanceToSquared(t))}this.boundingSphere.radius=Math.sqrt(a);if(isNaN(this.boundingSphere.radius)){console.error('SZX3D.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index;var t=this.attributes;var i=this.groups;if(t.position){var r=t.position.array;if(t.normal===undefined){this.addAttribute("normal",new ei(new Float32Array(r.length),3))}else{var n=t.normal.array;for(var a=0,o=n.length;a<o;a++){n[a]=0}}var s=t.normal.array;var c,l,u;var h=new At,f=new At,d=new At;var p=new At,m=new At;if(e){var v=e.array;if(i.length===0){this.addGroup(0,v.length)}for(var g=0,y=i.length;g<y;++g){var x=i[g];var _=x.start;var b=x.count;for(var a=_,o=_+b;a<o;a+=3){c=v[a+0]*3;l=v[a+1]*3;u=v[a+2]*3;h.fromArray(r,c);f.fromArray(r,l);d.fromArray(r,u);p.subVectors(d,f);m.subVectors(h,f);p.cross(m);s[c]+=p.x;s[c+1]+=p.y;s[c+2]+=p.z;s[l]+=p.x;s[l+1]+=p.y;s[l+2]+=p.z;s[u]+=p.x;s[u+1]+=p.y;s[u+2]+=p.z}}}else{for(var a=0,o=r.length;a<o;a+=9){h.fromArray(r,a);f.fromArray(r,a+3);d.fromArray(r,a+6);p.subVectors(d,f);m.subVectors(h,f);p.cross(m);s[a]=p.x;s[a+1]=p.y;s[a+2]=p.z;s[a+3]=p.x;s[a+4]=p.y;s[a+5]=p.z;s[a+6]=p.x;s[a+7]=p.y;s[a+8]=p.z}}this.normalizeNormals();t.normal.needsUpdate=true}},merge:function(e,t){if((e&&e.isBufferGeometry)===false){console.error("SZX3D.BufferGeometry.merge(): geometry not an instance of SZX3D.BufferGeometry.",e);return}if(t===undefined)t=0;var i=this.attributes;for(var r in i){if(e.attributes[r]===undefined)continue;var n=i[r];var a=n.array;var o=e.attributes[r];var s=o.array;var c=o.itemSize;for(var l=0,u=c*t;l<s.length;l++,u++){a[u]=s[l]}}return this},normalizeNormals:function(){var e=this.attributes.normal.array;var t,i,r,n;for(var a=0,o=e.length;a<o;a+=3){t=e[a];i=e[a+1];r=e[a+2];n=1/Math.sqrt(t*t+i*i+r*r);e[a]*=n;e[a+1]*=n;e[a+2]*=n}},toNonIndexed:function(){if(this.index===null){console.warn("SZX3D.BufferGeometry.toNonIndexed(): Geometry is already non-indexed.");return this}var e=new yi;var t=this.index.array;var i=this.attributes;for(var r in i){var n=i[r];var a=n.array;var o=n.itemSize;var s=new a.constructor(t.length*o);var c=0,l=0;for(var u=0,h=t.length;u<h;u++){c=t[u]*o;for(var f=0;f<o;f++){s[l++]=a[c++]}}e.addAttribute(r,new ei(s,o))}return e},toJSON:function(){var e={metadata:{version:4.4,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};e.uuid=this.uuid;e.type=this.type;if(this.name!=="")e.name=this.name;if(this.parameters!==undefined){var t=this.parameters;for(var i in t){if(t[i]!==undefined)e[i]=t[i]}return e}e.data={attributes:{}};var r=this.index;if(r!==null){var n=Array.prototype.slice.call(r.array);e.data.index={type:r.array.constructor.name,array:n}}var a=this.attributes;for(var i in a){var o=a[i];var n=Array.prototype.slice.call(o.array);e.data.attributes[i]={itemSize:o.itemSize,type:o.array.constructor.name,array:n,normalized:o.normalized}}var s=this.groups;if(s.length>0){e.data.groups=JSON.parse(JSON.stringify(s))}var c=this.boundingSphere;if(c!==null){e.data.boundingSphere={center:c.center.toArray(),radius:c.radius}}return e},clone:function(){return(new yi).copy(this)},copy:function(e){var t,i,r;this.index=null;this.attributes={};this.morphAttributes={};this.groups=[];this.boundingBox=null;this.boundingSphere=null;this.name=e.name;var n=e.index;if(n!==null){this.setIndex(n.clone())}var a=e.attributes;for(t in a){var o=a[t];this.addAttribute(t,o.clone())}var s=e.morphAttributes;for(t in s){var c=[];var l=s[t];for(i=0,r=l.length;i<r;i++){c.push(l[i].clone())}this.morphAttributes[t]=c}var u=e.groups;for(i=0,r=u.length;i<r;i++){var h=u[i];this.addGroup(h.start,h.count,h.materialIndex)}var f=e.boundingBox;if(f!==null){this.boundingBox=f.clone()}var d=e.boundingSphere;if(d!==null){this.boundingSphere=d.clone()}this.drawRange.start=e.drawRange.start;this.drawRange.count=e.drawRange.count;return this},dispose:function(){this.dispatchEvent({type:"dispose"})}};yi.MaxIndex=65535;Object.assign(yi.prototype,Ht.prototype);function xi(){yi.call(this);this.type="InstancedBufferGeometry";this.maxInstancedCount=undefined}xi.prototype=Object.create(yi.prototype);xi.prototype.constructor=xi;xi.prototype.isInstancedBufferGeometry=true;xi.prototype.addGroup=function(e,t,i){this.groups.push({start:e,count:t,materialIndex:i})};xi.prototype.copy=function(e){var t=e.index;if(t!==null){this.setIndex(t.clone())}var i=e.attributes;for(var r in i){var n=i[r];this.addAttribute(r,n.clone())}var a=e.groups;for(var o=0,s=a.length;o<s;o++){var c=a[o];this.addGroup(c.start,c.count,c.materialIndex)}return this};function _i(e){if(typeof e==="string"){console.warn("SZX3D.Uniform: Type parameter is no longer needed.");e=arguments[1]}this.value=e}_i.prototype.clone=function(){return new _i(this.value.clone===undefined?this.value:this.value.clone())};function bi(e,t,i){this._mixer=e;this._clip=t;this._localRoot=i||null;var r=t.tracks,n=r.length,a=new Array(n);var o={endingStart:it,endingEnd:it};for(var s=0;s!==n;++s){var c=r[s].createInterpolant(null);a[s]=c;c.settings=o}this._interpolantSettings=o;this._interpolants=a;this._propertyBindings=new Array(n);this._cacheIndex=null;this._byClipCacheIndex=null;this._timeScaleInterpolant=null;this._weightInterpolant=null;this.loop=Ke;this._loopCount=-1;this._startTime=null;this.time=0;this.timeScale=1;this._effectiveTimeScale=1;this.weight=1;this._effectiveWeight=1;this.repetitions=Infinity;this.paused=false;this.enabled=true;this.clampWhenFinished=false;this.zeroSlopeAtStart=true;this.zeroSlopeAtEnd=true}bi.prototype={constructor:bi,play:function(){this._mixer._activateAction(this);return this},stop:function(){this._mixer._deactivateAction(this);return this.reset()},reset:function(){this.paused=false;this.enabled=true;this.time=0;this._loopCount=-1;this._startTime=null;return this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){this._startTime=e;return this},setLoop:function(e,t){this.loop=e;this.repetitions=t;return this},setEffectiveWeight:function(e){this.weight=e;this._effectiveWeight=this.enabled?e:0;return this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,i){e.fadeOut(t);this.fadeIn(t);if(i){var r=this._clip.duration,n=e._clip.duration,a=n/r,o=r/n;e.warp(1,a,t);this.warp(o,1,t)}return this},crossFadeTo:function(e,t,i){return e.crossFadeFrom(this,t,i)},stopFading:function(){var e=this._weightInterpolant;if(e!==null){this._weightInterpolant=null;this._mixer._takeBackControlInterpolant(e)}return this},setEffectiveTimeScale:function(e){this.timeScale=e;this._effectiveTimeScale=this.paused?0:e;return this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){this.timeScale=this._clip.duration/e;return this.stopWarping()},syncWith:function(e){this.time=e.time;this.timeScale=e.timeScale;return this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,i){var r=this._mixer,n=r.time,a=this._timeScaleInterpolant,o=this.timeScale;if(a===null){a=r._lendControlInterpolant();this._timeScaleInterpolant=a}var s=a.parameterPositions,c=a.sampleValues;s[0]=n;s[1]=n+i;c[0]=e/o;c[1]=t/o;return this},stopWarping:function(){var e=this._timeScaleInterpolant;if(e!==null){this._timeScaleInterpolant=null;this._mixer._takeBackControlInterpolant(e)}return this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,i,r){var n=this._startTime;if(n!==null){var a=(e-n)*i;if(a<0||i===0){return}this._startTime=null;t=i*a}t*=this._updateTimeScale(e);var o=this._updateTime(t);var s=this._updateWeight(e);if(s>0){var c=this._interpolants;var l=this._propertyBindings;for(var u=0,h=c.length;u!==h;++u){c[u].evaluate(o);l[u].accumulate(r,s)}}},_updateWeight:function(e){var t=0;if(this.enabled){t=this.weight;var i=this._weightInterpolant;if(i!==null){var r=i.evaluate(e)[0];t*=r;if(e>i.parameterPositions[1]){this.stopFading();if(r===0){this.enabled=false}}}}this._effectiveWeight=t;return t},_updateTimeScale:function(e){var t=0;if(!this.paused){t=this.timeScale;var i=this._timeScaleInterpolant;if(i!==null){var r=i.evaluate(e)[0];t*=r;if(e>i.parameterPositions[1]){this.stopWarping();if(t===0){this.paused=true}else{this.timeScale=t}}}}this._effectiveTimeScale=t;return t},_updateTime:function(e){var t=this.time+e;if(e===0)return t;var i=this._clip.duration,r=this.loop,n=this._loopCount;if(r===Je){if(n===-1){this._loopCount=0;this._setEndings(true,true,false)}e:{if(t>=i){t=i}else if(t<0){t=0}else break e;if(this.clampWhenFinished)this.paused=true;else this.enabled=false;this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{var a=r===Qe;if(n===-1){if(e>=0){n=0;this._setEndings(true,this.repetitions===0,a)}else{this._setEndings(this.repetitions===0,true,a)}}if(t>=i||t<0){var o=Math.floor(t/i);t-=i*o;n+=Math.abs(o);var s=this.repetitions-n;if(s<0){if(this.clampWhenFinished)this.paused=true;else this.enabled=false;t=e>0?i:0;this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1})}else{if(s===0){var c=e<0;this._setEndings(c,!c,a)}else{this._setEndings(false,false,a)}this._loopCount=n;this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}if(a&&(n&1)===1){this.time=t;return i-t}}this.time=t;return t},_setEndings:function(e,t,i){var r=this._interpolantSettings;if(i){r.endingStart=rt;r.endingEnd=rt}else{if(e){r.endingStart=this.zeroSlopeAtStart?rt:it}else{r.endingStart=nt}if(t){r.endingEnd=this.zeroSlopeAtEnd?rt:it}else{r.endingEnd=nt}}},_scheduleFading:function(e,t,i){var r=this._mixer,n=r.time,a=this._weightInterpolant;if(a===null){a=r._lendControlInterpolant();this._weightInterpolant=a}var o=a.parameterPositions,s=a.sampleValues;o[0]=n;s[0]=t;o[1]=n+e;s[1]=i;return this}};var wi={arraySlice:function(e,t,i){if(wi.isTypedArray(e)){return new e.constructor(e.subarray(t,i))}return e.slice(t,i)},convertArray:function(e,t,i){if(!e||!i&&e.constructor===t)return e;if(typeof t.BYTES_PER_ELEMENT==="number"){return new t(e)}return Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){function t(t,i){return e[t]-e[i]}var i=e.length;var r=new Array(i);for(var n=0;n!==i;++n)r[n]=n;r.sort(t);return r},sortedArray:function(e,t,i){var r=e.length;var n=new e.constructor(r);for(var a=0,o=0;o!==r;++a){var s=i[a]*t;for(var c=0;c!==t;++c){n[o++]=e[s+c]}}return n},flattenJSON:function(e,t,i,r){var n=1,a=e[0];while(a!==undefined&&a[r]===undefined){a=e[n++]}if(a===undefined)return;var o=a[r];if(o===undefined)return;if(Array.isArray(o)){do{o=a[r];if(o!==undefined){t.push(a.time);i.push.apply(i,o)}a=e[n++]}while(a!==undefined)}else if(o.toArray!==undefined){do{o=a[r];if(o!==undefined){t.push(a.time);o.toArray(i,i.length)}a=e[n++]}while(a!==undefined)}else{do{o=a[r];if(o!==undefined){t.push(a.time);i.push(o)}a=e[n++]}while(a!==undefined)}}};function Mi(e,t,i,r){if(e===undefined)throw new Error("track name is undefined");if(t===undefined||t.length===0){throw new Error("no keyframes in track named "+e)}this.name=e;this.times=wi.convertArray(t,this.TimeBufferType);this.values=wi.convertArray(i,this.ValueBufferType);this.setInterpolation(r||this.DefaultInterpolation);this.validate();this.optimize()}e.KeyframeTrackPrototype={TimeBufferType:Float32Array,
ValueBufferType:Float32Array,DefaultInterpolation:et,InterpolantFactoryMethodDiscrete:function(e){return new Vt(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new jt(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new Gt(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var t;switch(e){case $e:t=this.InterpolantFactoryMethodDiscrete;break;case et:t=this.InterpolantFactoryMethodLinear;break;case tt:t=this.InterpolantFactoryMethodSmooth;break}if(t===undefined){var i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===undefined){if(e!==this.DefaultInterpolation){this.setInterpolation(this.DefaultInterpolation)}else{throw new Error(i)}}console.warn(i);return}this.createInterpolant=t},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return $e;case this.InterpolantFactoryMethodLinear:return et;case this.InterpolantFactoryMethodSmooth:return tt}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(e!==0){var t=this.times;for(var i=0,r=t.length;i!==r;++i){t[i]+=e}}return this},scale:function(e){if(e!==1){var t=this.times;for(var i=0,r=t.length;i!==r;++i){t[i]*=e}}return this},trim:function(e,t){var i=this.times,r=i.length,n=0,a=r-1;while(n!==r&&i[n]<e)++n;while(a!==-1&&i[a]>t)--a;++a;if(n!==0||a!==r){if(n>=a)a=Math.max(a,1),n=a-1;var o=this.getValueSize();this.times=wi.arraySlice(i,n,a);this.values=wi.arraySlice(this.values,n*o,a*o)}return this},validate:function(){var e=true;var t=this.getValueSize();if(t-Math.floor(t)!==0){console.error("invalid value size in track",this);e=false}var i=this.times,r=this.values,n=i.length;if(n===0){console.error("track is empty",this);e=false}var a=null;for(var o=0;o!==n;o++){var s=i[o];if(typeof s==="number"&&isNaN(s)){console.error("time is not a valid number",this,o,s);e=false;break}if(a!==null&&a>s){console.error("out of order keys",this,o,s,a);e=false;break}a=s}if(r!==undefined){if(wi.isTypedArray(r)){for(var o=0,c=r.length;o!==c;++o){var l=r[o];if(isNaN(l)){console.error("value is not a valid number",this,o,l);e=false;break}}}}return e},optimize:function(){var e=this.times,t=this.values,i=this.getValueSize(),r=this.getInterpolation()===tt,n=1,a=e.length-1;for(var o=1;o<a;++o){var s=false;var c=e[o];var l=e[o+1];if(c!==l&&(o!==1||c!==c[0])){if(!r){var u=o*i,h=u-i,f=u+i;for(var d=0;d!==i;++d){var p=t[u+d];if(p!==t[h+d]||p!==t[f+d]){s=true;break}}}else s=true}if(s){if(o!==n){e[n]=e[o];var m=o*i,v=n*i;for(var d=0;d!==i;++d)t[v+d]=t[m+d]}++n}}if(a>0){e[n]=e[a];for(var m=a*i,v=n*i,d=0;d!==i;++d)t[v+d]=t[m+d];++n}if(n!==e.length){this.times=wi.arraySlice(e,0,n);this.values=wi.arraySlice(t,0,n*i)}return this}};function Si(e,t,i){Mi.call(this,e,t,i)}Si.prototype=Object.assign(Object.create(e.KeyframeTrackPrototype),{constructor:Si,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:$e,InterpolantFactoryMethodLinear:undefined,InterpolantFactoryMethodSmooth:undefined});function Ti(e,t,i,r){Mi.call(this,e,t,i,r)}Ti.prototype=Object.assign(Object.create(e.KeyframeTrackPrototype),{constructor:Ti,ValueTypeName:"color"});function Ai(e,t,i,r){Mi.call(this,e,t,i,r)}Ai.prototype=Object.assign(Object.create(e.KeyframeTrackPrototype),{constructor:Ai,ValueTypeName:"number"});function Li(e,t,i,r){Mi.call(this,e,t,i,r)}Li.prototype=Object.assign(Object.create(e.KeyframeTrackPrototype),{constructor:Li,ValueTypeName:"quaternion",DefaultInterpolation:et,InterpolantFactoryMethodLinear:function(e){return new Xt(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:undefined});function Ei(e,t,i,r){Mi.call(this,e,t,i,r)}Ei.prototype=Object.assign(Object.create(e.KeyframeTrackPrototype),{constructor:Ei,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:$e,InterpolantFactoryMethodLinear:undefined,InterpolantFactoryMethodSmooth:undefined});function Pi(e,t,i,r){Mi.call(this,e,t,i,r)}Pi.prototype=Object.assign(Object.create(e.KeyframeTrackPrototype),{constructor:Pi,ValueTypeName:"vector"});function Ci(e,t,i,r){Mi.apply(this,arguments)}Ci.prototype=e.KeyframeTrackPrototype;e.KeyframeTrackPrototype.constructor=Ci;Object.assign(Ci,{parse:function(e){if(e.type===undefined){throw new Error("track type undefined, can not parse")}var t=Ci._getTrackTypeForValueTypeName(e.type);if(e.times===undefined){var i=[],r=[];wi.flattenJSON(e.keys,i,r,"value");e.times=i;e.values=r}if(t.parse!==undefined){return t.parse(e)}else{return new t(e.name,e.times,e.values,e.interpolation)}},toJSON:function(e){var t=e.constructor;var i;if(t.toJSON!==undefined){i=t.toJSON(e)}else{i={name:e.name,times:wi.convertArray(e.times,Array),values:wi.convertArray(e.values,Array)};var r=e.getInterpolation();if(r!==e.DefaultInterpolation){i.interpolation=r}}i.type=e.ValueTypeName;return i},_getTrackTypeForValueTypeName:function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Ai;case"vector":case"vector2":case"vector3":case"vector4":return Pi;case"color":return Ti;case"quaternion":return Li;case"bool":case"boolean":return Si;case"string":return Ei}throw new Error("Unsupported typeName: "+e)}});function Ii(e,t,i){this.name=e;this.tracks=i;this.duration=t!==undefined?t:-1;this.uuid=_t.generateUUID();if(this.duration<0){this.resetDuration()}this.optimize()}Ii.prototype={constructor:Ii,resetDuration:function(){var e=this.tracks,t=0;for(var i=0,r=e.length;i!==r;++i){var n=this.tracks[i];t=Math.max(t,n.times[n.times.length-1])}this.duration=t},trim:function(){for(var e=0;e<this.tracks.length;e++){this.tracks[e].trim(0,this.duration)}return this},optimize:function(){for(var e=0;e<this.tracks.length;e++){this.tracks[e].optimize()}return this}};Object.assign(Ii,{parse:function(e){var t=[],i=e.tracks,r=1/(e.fps||1);for(var n=0,a=i.length;n!==a;++n){t.push(Ci.parse(i[n]).scale(r))}return new Ii(e.name,e.duration,t)},toJSON:function(e){var t=[],i=e.tracks;var r={name:e.name,duration:e.duration,tracks:t};for(var n=0,a=i.length;n!==a;++n){t.push(Ci.toJSON(i[n]))}return r},CreateFromMorphTargetSequence:function(e,t,i,r){var n=t.length;var a=[];for(var o=0;o<n;o++){var s=[];var c=[];s.push((o+n-1)%n,o,(o+1)%n);c.push(0,1,0);var l=wi.getKeyframeOrder(s);s=wi.sortedArray(s,1,l);c=wi.sortedArray(c,1,l);if(!r&&s[0]===0){s.push(n);c.push(c[0])}a.push(new Ai(".morphTargetInfluences["+t[o].name+"]",s,c).scale(1/i))}return new Ii(e,-1,a)},findByName:function(e,t){var i=e;if(!Array.isArray(e)){var r=e;i=r.geometry&&r.geometry.animations||r.animations}for(var n=0;n<i.length;n++){if(i[n].name===t){return i[n]}}return null},CreateClipsFromMorphTargetSequences:function(e,t,i){var r={};var n=/^([\w-]*?)([\d]+)$/;for(var a=0,o=e.length;a<o;a++){var s=e[a];var c=s.name.match(n);if(c&&c.length>1){var l=c[1];var u=r[l];if(!u){r[l]=u=[]}u.push(s)}}var h=[];for(var l in r){h.push(Ii.CreateFromMorphTargetSequence(l,r[l],t,i))}return h},parseAnimation:function(e,t){if(!e){console.error("  no animation in JSONLoader data");return null}var i=function(e,t,i,r,n){if(i.length!==0){var a=[];var o=[];wi.flattenJSON(i,a,o,r);if(a.length!==0){n.push(new e(t,a,o))}}};var r=[];var n=e.name||"default";var a=e.length||-1;var o=e.fps||30;var s=e.hierarchy||[];for(var c=0;c<s.length;c++){var l=s[c].keys;if(!l||l.length===0)continue;if(l[0].morphTargets){var u={};for(var h=0;h<l.length;h++){if(l[h].morphTargets){for(var f=0;f<l[h].morphTargets.length;f++){u[l[h].morphTargets[f]]=-1}}}for(var d in u){var p=[];var m=[];for(var f=0;f!==l[h].morphTargets.length;++f){var v=l[h];p.push(v.time);m.push(v.morphTarget===d?1:0)}r.push(new Ai(".morphTargetInfluence["+d+"]",p,m))}a=u.length*(o||1)}else{var g=".bones["+t[c].name+"]";i(Pi,g+".position",l,"pos",r);i(Li,g+".quaternion",l,"rot",r);i(Pi,g+".scale",l,"scl",r)}}if(r.length===0){return null}var y=new Ii(n,a,r);return y}});function Ri(e,t,i){this.path=t;this.parsedPath=i||Ri.parseTrackName(t);this.node=Ri.findNode(e,this.parsedPath.nodeName)||e;this.rootNode=e}Ri.prototype={constructor:Ri,getValue:function e(t,i){this.bind();this.getValue(t,i)},setValue:function e(t,i){this.bind();this.setValue(t,i)},bind:function(){var e=this.node,t=this.parsedPath,i=t.objectName,r=t.propertyName,n=t.propertyIndex;if(!e){e=Ri.findNode(this.rootNode,t.nodeName)||this.rootNode;this.node=e}this.getValue=this._getValue_unavailable;this.setValue=this._setValue_unavailable;if(!e){console.error("  trying to update node for track: "+this.path+" but it wasn't found.");return}if(i){var a=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("  can not bind to material as node does not have a material",this);return}if(!e.material.materials){console.error("  can not bind to material.materials as node.material does not have a materials array",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("  can not bind to bones as node does not have a skeleton",this);return}e=e.skeleton.bones;for(var o=0;o<e.length;o++){if(e[o].name===a){a=o;break}}break;default:if(e[i]===undefined){console.error("  can not bind to objectName of node, undefined",this);return}e=e[i]}if(a!==undefined){if(e[a]===undefined){console.error("  trying to bind to objectIndex of objectName, but is undefined:",this,e);return}e=e[a]}}var s=e[r];if(s===undefined){var c=t.nodeName;console.error("  trying to update property for track: "+c+"."+r+" but it wasn't found.",e);return}var l=this.Versioning.None;if(e.needsUpdate!==undefined){l=this.Versioning.NeedsUpdate;this.targetObject=e}else if(e.matrixWorldNeedsUpdate!==undefined){l=this.Versioning.MatrixWorldNeedsUpdate;this.targetObject=e}var u=this.BindingType.Direct;if(n!==undefined){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry",this);return}if(!e.geometry.morphTargets){console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry.morphTargets",this);return}for(var o=0;o<this.node.geometry.morphTargets.length;o++){if(e.geometry.morphTargets[o].name===n){n=o;break}}}u=this.BindingType.ArrayElement;this.resolvedProperty=s;this.propertyIndex=n}else if(s.fromArray!==undefined&&s.toArray!==undefined){u=this.BindingType.HasFromToArray;this.resolvedProperty=s}else if(s.length!==undefined){u=this.BindingType.EntireArray;this.resolvedProperty=s}else{this.propertyName=r}this.getValue=this.GetterByBindingType[u];this.setValue=this.SetterByBindingTypeAndVersioning[u][l]},unbind:function(){this.node=null;this.getValue=this._getValue_unbound;this.setValue=this._setValue_unbound}};Object.assign(Ri.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},_getValue_unbound:Ri.prototype.getValue,_setValue_unbound:Ri.prototype.setValue,BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function e(t,i){t[i]=this.node[this.propertyName]},function e(t,i){var r=this.resolvedProperty;for(var n=0,a=r.length;n!==a;++n){t[i++]=r[n]}},function e(t,i){t[i]=this.resolvedProperty[this.propertyIndex]},function e(t,i){this.resolvedProperty.toArray(t,i)}],SetterByBindingTypeAndVersioning:[[function e(t,i){this.node[this.propertyName]=t[i]},function e(t,i){this.node[this.propertyName]=t[i];this.targetObject.needsUpdate=true},function e(t,i){this.node[this.propertyName]=t[i];this.targetObject.matrixWorldNeedsUpdate=true}],[function e(t,i){var r=this.resolvedProperty;for(var n=0,a=r.length;n!==a;++n){r[n]=t[i++]}},function e(t,i){var r=this.resolvedProperty;for(var n=0,a=r.length;n!==a;++n){r[n]=t[i++]}this.targetObject.needsUpdate=true},function e(t,i){var r=this.resolvedProperty;for(var n=0,a=r.length;n!==a;++n){r[n]=t[i++]}this.targetObject.matrixWorldNeedsUpdate=true}],[function e(t,i){this.resolvedProperty[this.propertyIndex]=t[i]},function e(t,i){this.resolvedProperty[this.propertyIndex]=t[i];this.targetObject.needsUpdate=true},function e(t,i){this.resolvedProperty[this.propertyIndex]=t[i];this.targetObject.matrixWorldNeedsUpdate=true}],[function e(t,i){this.resolvedProperty.fromArray(t,i)},function e(t,i){this.resolvedProperty.fromArray(t,i);this.targetObject.needsUpdate=true},function e(t,i){this.resolvedProperty.fromArray(t,i);this.targetObject.matrixWorldNeedsUpdate=true}]]});Ri.Composite=function(e,t,i){var r=i||Ri.parseTrackName(t);this._targetGroup=e;this._bindings=e.subscribe_(t,r)};Ri.Composite.prototype={constructor:Ri.Composite,getValue:function(e,t){this.bind();var i=this._targetGroup.nCachedObjects_,r=this._bindings[i];if(r!==undefined)r.getValue(e,t)},setValue:function(e,t){var i=this._bindings;for(var r=this._targetGroup.nCachedObjects_,n=i.length;r!==n;++r){i[r].setValue(e,t)}},bind:function(){var e=this._bindings;for(var t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t){e[t].bind()}},unbind:function(){var e=this._bindings;for(var t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t){e[t].unbind()}}};Ri.create=function(e,t,i){if(!(e&&e.isAnimationObjectGroup)){return new Ri(e,t,i)}else{return new Ri.Composite(e,t,i)}};Ri.parseTrackName=function(e){var t=/^((?:[\w-]+[\/:])*)([\w-]+)?(?:\.([\w-]+)(?:\[(.+)\])?)?\.([\w-]+)(?:\[(.+)\])?$/;var i=t.exec(e);if(!i){throw new Error("cannot parse trackName at all: "+e)}var r={nodeName:i[2],objectName:i[3],objectIndex:i[4],propertyName:i[5],propertyIndex:i[6]};if(r.propertyName===null||r.propertyName.length===0){throw new Error("can not parse propertyName from trackName: "+e)}return r};Ri.findNode=function(e,t){if(!t||t===""||t==="root"||t==="."||t===-1||t===e.name||t===e.uuid){return e}if(e.skeleton){var i=function(e){for(var i=0;i<e.bones.length;i++){var r=e.bones[i];if(r.name===t){return r}}return null};var r=i(e.skeleton);if(r){return r}}if(e.children){var n=function(e){for(var i=0;i<e.length;i++){var r=e[i];if(r.name===t||r.uuid===t){return r}var a=n(r.children);if(a)return a}return null};var a=n(e.children);if(a){return a}}return null};function Ni(e,t,i){this.binding=e;this.valueSize=i;var r=Float64Array,n;switch(t){case"quaternion":n=this._slerp;break;case"string":case"bool":r=Array;n=this._select;break;default:n=this._lerp}this.buffer=new r(i*4);this._mixBufferRegion=n;this.cumulativeWeight=0;this.useCount=0;this.referenceCount=0}Ni.prototype={constructor:Ni,accumulate:function(e,t){var i=this.buffer,r=this.valueSize,n=e*r+r,a=this.cumulativeWeight;if(a===0){for(var o=0;o!==r;++o){i[n+o]=i[o]}a=t}else{a+=t;var s=t/a;this._mixBufferRegion(i,n,0,s,r)}this.cumulativeWeight=a},apply:function(e){var t=this.valueSize,i=this.buffer,r=e*t+t,n=this.cumulativeWeight,a=this.binding;this.cumulativeWeight=0;if(n<1){var o=t*3;this._mixBufferRegion(i,r,o,1-n,t)}for(var s=t,c=t+t;s!==c;++s){if(i[s]!==i[s+t]){a.setValue(i,r);break}}},saveOriginalState:function(){var e=this.binding;var t=this.buffer,i=this.valueSize,r=i*3;e.getValue(t,r);for(var n=i,a=r;n!==a;++n){t[n]=t[r+n%i]}this.cumulativeWeight=0},restoreOriginalState:function(){var e=this.valueSize*3;this.binding.setValue(this.buffer,e)},_select:function(e,t,i,r,n){if(r>=.5){for(var a=0;a!==n;++a){e[t+a]=e[i+a]}}},_slerp:function(e,t,i,r,n){Tt.slerpFlat(e,t,e,t,e,i,r)},_lerp:function(e,t,i,r,n){var a=1-r;for(var o=0;o!==n;++o){var s=t+o;e[s]=e[s]*a+e[i+o]*r}}};function Di(e){this._root=e;this._initMemoryManager();this._accuIndex=0;this.time=0;this.timeScale=1}Di.prototype={constructor:Di,clipAction:function(e,t){var i=t||this._root,r=i.uuid,n=typeof e==="string"?Ii.findByName(i,e):e,a=n!==null?n.uuid:e,o=this._actionsByClip[a],s=null;if(o!==undefined){var c=o.actionByRoot[r];if(c!==undefined){return c}s=o.knownActions[0];if(n===null)n=s._clip}if(n===null)return null;var l=new bi(this,n,t);this._bindAction(l,s);this._addInactiveAction(l,a,r);return l},existingAction:function(e,t){var i=t||this._root,r=i.uuid,n=typeof e==="string"?Ii.findByName(i,e):e,a=n?n.uuid:e,o=this._actionsByClip[a];if(o!==undefined){return o.actionByRoot[r]||null}return null},stopAllAction:function(){var e=this._actions,t=this._nActiveActions,i=this._bindings,r=this._nActiveBindings;this._nActiveActions=0;this._nActiveBindings=0;for(var n=0;n!==t;++n){e[n].reset()}for(var n=0;n!==r;++n){i[n].useCount=0}return this},update:function(e){e*=this.timeScale;var t=this._actions,i=this._nActiveActions,r=this.time+=e,n=Math.sign(e),a=this._accuIndex^=1;for(var o=0;o!==i;++o){var s=t[o];if(s.enabled){s._update(r,e,n,a)}}var c=this._bindings,l=this._nActiveBindings;for(var o=0;o!==l;++o){c[o].apply(a)}return this},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions,i=e.uuid,r=this._actionsByClip,n=r[i];if(n!==undefined){var a=n.knownActions;for(var o=0,s=a.length;o!==s;++o){var c=a[o];this._deactivateAction(c);var l=c._cacheIndex,u=t[t.length-1];c._cacheIndex=null;c._byClipCacheIndex=null;u._cacheIndex=l;t[l]=u;t.pop();this._removeInactiveBindingsForAction(c)}delete r[i]}},uncacheRoot:function(e){var t=e.uuid,i=this._actionsByClip;for(var r in i){var n=i[r].actionByRoot,a=n[t];if(a!==undefined){this._deactivateAction(a);this._removeInactiveAction(a)}}var o=this._bindingsByRootAndName,s=o[t];if(s!==undefined){for(var c in s){var l=s[c];l.restoreOriginalState();this._removeInactiveBinding(l)}}},uncacheAction:function(e,t){var i=this.existingAction(e,t);if(i!==null){this._deactivateAction(i);this._removeInactiveAction(i)}}};Object.assign(Di.prototype,{_bindAction:function(e,t){var i=e._localRoot||this._root,r=e._clip.tracks,n=r.length,a=e._propertyBindings,o=e._interpolants,s=i.uuid,c=this._bindingsByRootAndName,l=c[s];if(l===undefined){l={};c[s]=l}for(var u=0;u!==n;++u){var h=r[u],f=h.name,d=l[f];if(d!==undefined){a[u]=d}else{d=a[u];if(d!==undefined){if(d._cacheIndex===null){++d.referenceCount;this._addInactiveBinding(d,s,f)}continue}var p=t&&t._propertyBindings[u].binding.parsedPath;d=new Ni(Ri.create(i,f,p),h.ValueTypeName,h.getValueSize());++d.referenceCount;this._addInactiveBinding(d,s,f);a[u]=d}o[u].resultBuffer=d.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){var t=(e._localRoot||this._root).uuid,i=e._clip.uuid,r=this._actionsByClip[i];this._bindAction(e,r&&r.knownActions[0]);this._addInactiveAction(e,i,t)}var n=e._propertyBindings;for(var a=0,o=n.length;a!==o;++a){var s=n[a];if(s.useCount++===0){this._lendBinding(s);s.saveOriginalState()}}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){var t=e._propertyBindings;for(var i=0,r=t.length;i!==r;++i){var n=t[i];if(--n.useCount===0){n.restoreOriginalState();this._takeBackBinding(n)}}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[];this._nActiveActions=0;this._actionsByClip={};this._bindings=[];this._nActiveBindings=0;this._bindingsByRootAndName={};this._controlInterpolants=[];this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){var t=e._cacheIndex;return t!==null&&t<this._nActiveActions},_addInactiveAction:function(e,t,i){var r=this._actions,n=this._actionsByClip,a=n[t];if(a===undefined){a={knownActions:[e],actionByRoot:{}};e._byClipCacheIndex=0;n[t]=a}else{var o=a.knownActions;e._byClipCacheIndex=o.length;o.push(e)}e._cacheIndex=r.length;r.push(e);a.actionByRoot[i]=e},_removeInactiveAction:function(e){var t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r;t[r]=i;t.pop();e._cacheIndex=null;var n=e._clip.uuid,a=this._actionsByClip,o=a[n],s=o.knownActions,c=s[s.length-1],l=e._byClipCacheIndex;c._byClipCacheIndex=l;s[l]=c;s.pop();e._byClipCacheIndex=null;var u=o.actionByRoot,h=(t._localRoot||this._root).uuid;delete u[h];if(s.length===0){delete a[n]}this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){var t=e._propertyBindings;for(var i=0,r=t.length;i!==r;++i){var n=t[i];if(--n.referenceCount===0){this._removeInactiveBinding(n)}}},_lendAction:function(e){var t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,n=t[r];e._cacheIndex=r;t[r]=e;n._cacheIndex=i;t[i]=n},_takeBackAction:function(e){var t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,n=t[r];e._cacheIndex=r;t[r]=e;n._cacheIndex=i;t[i]=n},_addInactiveBinding:function(e,t,i){var r=this._bindingsByRootAndName,n=r[t],a=this._bindings;if(n===undefined){n={};r[t]=n}n[i]=e;e._cacheIndex=a.length;a.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,i=e.binding,r=i.rootNode.uuid,n=i.path,a=this._bindingsByRootAndName,o=a[r],s=t[t.length-1],c=e._cacheIndex;s._cacheIndex=c;t[c]=s;t.pop();delete o[n];e:{for(var l in o)break e;delete a[r]}},_lendBinding:function(e){var t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,n=t[r];e._cacheIndex=r;t[r]=e;n._cacheIndex=i;t[i]=n},_takeBackBinding:function(e){var t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,n=t[r];e._cacheIndex=r;t[r]=e;n._cacheIndex=i;t[i]=n},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,i=e[t];if(i===undefined){i=new jt(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer);i.__cacheIndex=t;e[t]=i}return i},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,n=t[r];e.__cacheIndex=r;t[r]=e;n.__cacheIndex=i;t[i]=n},_controlInterpolantsResultBuffer:new Float32Array(1)});Object.assign(Di.prototype,Ht.prototype);function Ui(e){this.uuid=_t.generateUUID();this._objects=Array.prototype.slice.call(arguments);this.nCachedObjects_=0;var t={};this._indicesByUUID=t;for(var i=0,r=arguments.length;i!==r;++i){t[arguments[i].uuid]=i}this._paths=[];this._parsedPaths=[];this._bindings=[];this._bindingsIndicesByPath={};var n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}Ui.prototype={constructor:Ui,isAnimationObjectGroup:true,add:function(e){var t=this._objects,i=t.length,r=this.nCachedObjects_,n=this._indicesByUUID,a=this._paths,o=this._parsedPaths,s=this._bindings,c=s.length;for(var l=0,u=arguments.length;l!==u;++l){var h=arguments[l],f=h.uuid,d=n[f],p=undefined;if(d===undefined){d=i++;n[f]=d;t.push(h);for(var m=0,v=c;m!==v;++m){s[m].push(new Ri(h,a[m],o[m]))}}else if(d<r){p=t[d];var g=--r,y=t[g];n[y.uuid]=d;t[d]=y;n[f]=g;t[g]=h;for(var m=0,v=c;m!==v;++m){var x=s[m],_=x[g],b=x[d];x[d]=_;if(b===undefined){b=new Ri(h,a[m],o[m])}x[g]=b}}else if(t[d]!==p){console.error("Different objects with the same UUID "+"detected. Clean the caches or recreate your "+"infrastructure when reloading scenes...")}}this.nCachedObjects_=r},remove:function(e){var t=this._objects,i=this.nCachedObjects_,r=this._indicesByUUID,n=this._bindings,a=n.length;for(var o=0,s=arguments.length;o!==s;++o){var c=arguments[o],l=c.uuid,u=r[l];if(u!==undefined&&u>=i){var h=i++,f=t[h];r[f.uuid]=u;t[u]=f;r[l]=h;t[h]=c;for(var d=0,p=a;d!==p;++d){var m=n[d],v=m[h],g=m[u];m[u]=v;m[h]=g}}}this.nCachedObjects_=i},uncache:function(e){var t=this._objects,i=t.length,r=this.nCachedObjects_,n=this._indicesByUUID,a=this._bindings,o=a.length;for(var s=0,c=arguments.length;s!==c;++s){var l=arguments[s],u=l.uuid,h=n[u];if(h!==undefined){delete n[u];if(h<r){var f=--r,d=t[f],p=--i,m=t[p];n[d.uuid]=h;t[h]=d;n[m.uuid]=f;t[f]=m;t.pop();for(var v=0,g=o;v!==g;++v){var y=a[v],x=y[f],_=y[p];y[h]=x;y[f]=_;y.pop()}}else{var p=--i,m=t[p];n[m.uuid]=h;t[h]=m;t.pop();for(var v=0,g=o;v!==g;++v){var y=a[v];y[h]=y[p];y.pop()}}}}this.nCachedObjects_=r},subscribe_:function(e,t){var i=this._bindingsIndicesByPath,r=i[e],n=this._bindings;if(r!==undefined)return n[r];var a=this._paths,o=this._parsedPaths,s=this._objects,c=s.length,l=this.nCachedObjects_,u=new Array(c);r=n.length;i[e]=r;a.push(e);o.push(t);n.push(u);for(var h=l,f=s.length;h!==f;++h){var d=s[h];u[h]=new Ri(d,e,t)}return u},unsubscribe_:function(e){var t=this._bindingsIndicesByPath,i=t[e];if(i!==undefined){var r=this._paths,n=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o],c=e[o];t[c]=i;a[i]=s;a.pop();n[i]=n[o];n.pop();r[i]=r[o];r.pop()}}};function Oi(e){Qt.call(this);this.type="Audio";this.context=e.context;this.gain=this.context.createGain();this.gain.connect(e.getInput());this.autoplay=false;this.buffer=null;this.loop=false;this.startTime=0;this.playbackRate=1;this.isPlaying=false;this.hasPlaybackControl=true;this.sourceType="empty";this.filters=[]}Oi.prototype=Object.assign(Object.create(Qt.prototype),{constructor:Oi,getOutput:function(){return this.gain},setNodeSource:function(e){this.hasPlaybackControl=false;this.sourceType="audioNode";this.source=e;this.connect();return this},setBuffer:function(e){this.buffer=e;this.sourceType="buffer";if(this.autoplay)this.play();return this},play:function(){if(this.isPlaying===true){console.warn("SZX3D.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===false){console.warn("SZX3D.Audio: this Audio has no playback control.");return}var e=this.context.createBufferSource();e.buffer=this.buffer;e.loop=this.loop;e.onended=this.onEnded.bind(this);e.playbackRate.setValueAtTime(this.playbackRate,this.startTime);e.start(0,this.startTime);this.isPlaying=true;this.source=e;return this.connect()},pause:function(){if(this.hasPlaybackControl===false){console.warn("SZX3D.Audio: this Audio has no playback control.");return}this.source.stop();this.startTime=this.context.currentTime;this.isPlaying=false;return this},stop:function(){if(this.hasPlaybackControl===false){console.warn("SZX3D.Audio: this Audio has no playback control.");return}this.source.stop();this.startTime=0;this.isPlaying=false;return this},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++){this.filters[e-1].connect(this.filters[e])}this.filters[this.filters.length-1].connect(this.getOutput())}else{this.source.connect(this.getOutput())}return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++){this.filters[e-1].disconnect(this.filters[e])}this.filters[this.filters.length-1].disconnect(this.getOutput())}else{this.source.disconnect(this.getOutput())}return this},getFilters:function(){return this.filters},setFilters:function(e){if(!e)e=[];if(this.isPlaying===true){this.disconnect();this.filters=e;this.connect()}else{this.filters=e}return this},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){if(this.hasPlaybackControl===false){console.warn("SZX3D.Audio: this Audio has no playback control.");return}this.playbackRate=e;if(this.isPlaying===true){this.source.playbackRate.setValueAtTime(this.playbackRate,this.context.currentTime)}return this},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=false},getLoop:function(){if(this.hasPlaybackControl===false){console.warn("SZX3D.Audio: this Audio has no playback control.");return false}return this.loop},setLoop:function(e){if(this.hasPlaybackControl===false){console.warn("SZX3D.Audio: this Audio has no playback control.");return}this.loop=e;if(this.isPlaying===true){this.source.loop=this.loop}return this},getVolume:function(){return this.gain.gain.value},setVolume:function(e){this.gain.gain.value=e;return this}});function zi(e,t){this.analyser=e.context.createAnalyser();this.analyser.fftSize=t!==undefined?t:2048;this.data=new Uint8Array(this.analyser.frequencyBinCount);e.getOutput().connect(this.analyser)}Object.assign(zi.prototype,{getFrequencyData:function(){this.analyser.getByteFrequencyData(this.data);return this.data},getAverageFrequency:function(){var e=0,t=this.getFrequencyData();for(var i=0;i<t.length;i++){e+=t[i]}return e/t.length}});var Bi;var Fi={getContext:function(){if(Bi===undefined){Bi=new(window.AudioContext||window.webkitAudioContext)}return Bi},setContext:function(e){Bi=e}};function ki(e){Oi.call(this,e);this.panner=this.context.createPanner();this.panner.connect(this.gain)}ki.prototype=Object.assign(Object.create(Oi.prototype),{constructor:ki,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){this.panner.refDistance=e},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){this.panner.rolloffFactor=e},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){this.panner.distanceModel=e},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){this.panner.maxDistance=e},updateMatrixWorld:function(){var e=new At;return function t(i){Qt.prototype.updateMatrixWorld.call(this,i);e.setFromMatrixPosition(this.matrixWorld);this.panner.setPosition(e.x,e.y,e.z)}}()});function Gi(){Qt.call(this);this.type="AudioListener";this.context=Fi.getContext();this.gain=this.context.createGain();this.gain.connect(this.context.destination);this.filter=null}Gi.prototype=Object.assign(Object.create(Qt.prototype),{constructor:Gi,getInput:function(){return this.gain},removeFilter:function(){if(this.filter!==null){this.gain.disconnect(this.filter);this.filter.disconnect(this.context.destination);this.gain.connect(this.context.destination);this.filter=null}},getFilter:function(){return this.filter},setFilter:function(e){if(this.filter!==null){this.gain.disconnect(this.filter);this.filter.disconnect(this.context.destination)}else{this.gain.disconnect(this.context.destination)}this.filter=e;this.gain.connect(this.filter);this.filter.connect(this.context.destination)},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){this.gain.gain.value=e},updateMatrixWorld:function(){var e=new At;var t=new Tt;var i=new At;var r=new At;return function n(a){Qt.prototype.updateMatrixWorld.call(this,a);var o=this.context.listener;var s=this.up;this.matrixWorld.decompose(e,t,i);r.set(0,0,-1).applyQuaternion(t);if(o.positionX){o.positionX.setValueAtTime(e.x,this.context.currentTime);o.positionY.setValueAtTime(e.y,this.context.currentTime);o.positionZ.setValueAtTime(e.z,this.context.currentTime);o.forwardX.setValueAtTime(r.x,this.context.currentTime);o.forwardY.setValueAtTime(r.y,this.context.currentTime);o.forwardZ.setValueAtTime(r.z,this.context.currentTime);o.upX.setValueAtTime(s.x,this.context.currentTime);o.upY.setValueAtTime(s.y,this.context.currentTime);o.upZ.setValueAtTime(s.z,this.context.currentTime)}else{o.setPosition(e.x,e.y,e.z);o.setOrientation(r.x,r.y,r.z,s.x,s.y,s.z)}}}()});function Vi(e,t,i,r,n,a){vi.call(this);this.type="BoxGeometry";this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:n,depthSegments:a};this.fromBufferGeometry(new ji(e,t,i,r,n,a));this.mergeVertices()}Vi.prototype=Object.create(vi.prototype);Vi.prototype.constructor=Vi;function ji(e,t,i,r,n,a){yi.call(this);this.type="BoxBufferGeometry";this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:n,depthSegments:a};var o=this;r=Math.floor(r)||1;n=Math.floor(n)||1;a=Math.floor(a)||1;var s=[];var c=[];var l=[];var u=[];var h=0;var f=0;d("z","y","x",-1,-1,i,t,e,a,n,0);d("z","y","x",1,-1,i,t,-e,a,n,1);d("x","z","y",1,1,e,i,t,r,a,2);d("x","z","y",1,-1,e,i,-t,r,a,3);d("x","y","z",1,-1,e,t,i,r,n,4);d("x","y","z",-1,-1,e,t,-i,r,n,5);this.setIndex(s);this.addAttribute("position",new ci(c,3));this.addAttribute("normal",new ci(l,3));this.addAttribute("uv",new ci(u,2));function d(e,t,i,r,n,a,d,p,m,v,g){var y=a/m;var x=d/v;var _=a/2;var b=d/2;var w=p/2;var M=m+1;var S=v+1;var T=0;var A=0;var L,E;var P=new At;for(E=0;E<S;E++){
var C=E*x-b;for(L=0;L<M;L++){var I=L*y-_;P[e]=I*r;P[t]=C*n;P[i]=w;c.push(P.x,P.y,P.z);P[e]=0;P[t]=0;P[i]=p>0?1:-1;l.push(P.x,P.y,P.z);u.push(L/m);u.push(1-E/v);T+=1}}for(E=0;E<v;E++){for(L=0;L<m;L++){var R=h+L+M*E;var N=h+L+M*(E+1);var D=h+(L+1)+M*(E+1);var U=h+(L+1)+M*E;s.push(R,N,U);s.push(N,D,U);A+=6}}o.addGroup(f,A,g);f+=A;h+=T}}ji.prototype=Object.create(yi.prototype);ji.prototype.constructor=ji;function Xi(e,t,i,r){vi.call(this);this.type="CircleGeometry";this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r};this.fromBufferGeometry(new Wi(e,t,i,r))}Xi.prototype=Object.create(vi.prototype);Xi.prototype.constructor=Xi;function Wi(e,t,i,r){yi.call(this);this.type="CircleBufferGeometry";this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r};e=e||50;t=t!==undefined?Math.max(3,t):8;i=i!==undefined?i:0;r=r!==undefined?r:Math.PI*2;var n=[];var a=[];var o=[];var s=[];var c,l;var u=new At;var h=new Mt;a.push(0,0,0);o.push(0,0,1);s.push(.5,.5);for(l=0,c=3;l<=t;l++,c+=3){var f=i+l/t*r;u.x=e*Math.cos(f);u.y=e*Math.sin(f);a.push(u.x,u.y,u.z);o.push(0,0,1);h.x=(a[c]/e+1)/2;h.y=(a[c+1]/e+1)/2;s.push(h.x,h.y)}for(c=1;c<=t;c++){n.push(c,c+1,0)}this.setIndex(n);this.addAttribute("position",new ci(a,3));this.addAttribute("normal",new ci(o,3));this.addAttribute("uv",new ci(s,2))}Wi.prototype=Object.create(yi.prototype);Wi.prototype.constructor=Wi;function Hi(e,t,i,r,n,a,o,s){vi.call(this);this.type="CylinderGeometry";this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:n,openEnded:a,thetaStart:o,thetaLength:s};this.fromBufferGeometry(new Zi(e,t,i,r,n,a,o,s));this.mergeVertices()}Hi.prototype=Object.create(vi.prototype);Hi.prototype.constructor=Hi;function Zi(e,t,i,r,n,a,o,s){yi.call(this);this.type="CylinderBufferGeometry";this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:n,openEnded:a,thetaStart:o,thetaLength:s};var c=this;e=e!==undefined?e:20;t=t!==undefined?t:20;i=i!==undefined?i:100;r=Math.floor(r)||8;n=Math.floor(n)||1;a=a!==undefined?a:false;o=o!==undefined?o:0;s=s!==undefined?s:2*Math.PI;var l=[];var u=[];var h=[];var f=[];var d=0;var p=0;var m=[];var v=i/2;var g=0;y();if(a===false){if(e>0)x(true);if(t>0)x(false)}this.setIndex(l);this.addAttribute("position",new ci(u,3));this.addAttribute("normal",new ci(h,3));this.addAttribute("uv",new ci(f,2));function y(){var a,p;var y=new At;var x=new At;var _=0;var b=(t-e)/i;for(p=0;p<=n;p++){var w=[];var M=p/n;var S=M*(t-e)+e;for(a=0;a<=r;a++){var T=a/r;var A=T*s+o;var L=Math.sin(A);var E=Math.cos(A);x.x=S*L;x.y=-M*i+v;x.z=S*E;u.push(x.x,x.y,x.z);y.set(L,b,E).normalize();h.push(y.x,y.y,y.z);f.push(T,1-M);w.push(d++)}m.push(w)}for(a=0;a<r;a++){for(p=0;p<n;p++){var P=m[p][a];var C=m[p+1][a];var I=m[p+1][a+1];var R=m[p][a+1];l.push(P,C,R);l.push(C,I,R);_+=6}}c.addGroup(g,_,0);g+=_}function x(i){var n,a,p;var m=new Mt;var y=new At;var x=0;var _=i===true?e:t;var b=i===true?1:-1;a=d;for(n=1;n<=r;n++){u.push(0,v*b,0);h.push(0,b,0);f.push(.5,.5);d++}p=d;for(n=0;n<=r;n++){var w=n/r;var M=w*s+o;var S=Math.cos(M);var T=Math.sin(M);y.x=_*T;y.y=v*b;y.z=_*S;u.push(y.x,y.y,y.z);h.push(0,b,0);m.x=S*.5+.5;m.y=T*.5*b+.5;f.push(m.x,m.y);d++}for(n=0;n<r;n++){var A=a+n;var L=p+n;if(i===true){l.push(L,L+1,A)}else{l.push(L+1,L,A)}x+=3}c.addGroup(g,x,i===true?1:2);g+=x}}Zi.prototype=Object.create(yi.prototype);Zi.prototype.constructor=Zi;function Yi(e,t,i,r,n,a,o){Hi.call(this,0,e,t,i,r,n,a,o);this.type="ConeGeometry";this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:n,thetaStart:a,thetaLength:o}}Yi.prototype=Object.create(Hi.prototype);Yi.prototype.constructor=Yi;function qi(e,t,i,r,n,a,o){Zi.call(this,0,e,t,i,r,n,a,o);this.type="ConeBufferGeometry";this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:n,thetaStart:a,thetaLength:o}}qi.prototype=Object.create(Zi.prototype);qi.prototype.constructor=qi;function Ji(e,t){yi.call(this);this.type="EdgesGeometry";this.parameters={thresholdAngle:t};t=t!==undefined?t:1;var i=[];var r=Math.cos(_t.DEG2RAD*t);var n=[0,0],a={};var o,s=["a","b","c"];var c;if(e.isBufferGeometry){c=new vi;c.fromBufferGeometry(e)}else{c=e.clone()}c.mergeVertices();c.computeFaceNormals();var l=c.vertices;var u=c.faces;for(var h=0,f=u.length;h<f;h++){var d=u[h];for(var p=0;p<3;p++){n[0]=d[s[p]];n[1]=d[s[(p+1)%3]];n.sort(g);o=n.toString();if(a[o]===undefined){a[o]={index1:n[0],index2:n[1],face1:h,face2:undefined}}else{a[o].face2=h}}}for(o in a){var m=a[o];if(m.face2===undefined||u[m.face1].normal.dot(u[m.face2].normal)<=r){var v=l[m.index1];i.push(v.x,v.y,v.z);v=l[m.index2];i.push(v.x,v.y,v.z)}}this.addAttribute("position",new ci(i,3));function g(e,t){return e-t}}Ji.prototype=Object.create(yi.prototype);Ji.prototype.constructor=Ji;var Ki={area:function(e){var t=e.length;var i=0;for(var r=t-1,n=0;n<t;r=n++){i+=e[r].x*e[n].y-e[n].x*e[r].y}return i*.5},triangulate:function(){function e(e,t,i,r,n,a){var o;var s,c,l,u;var h,f,d,p;s=e[a[t]].x;c=e[a[t]].y;l=e[a[i]].x;u=e[a[i]].y;h=e[a[r]].x;f=e[a[r]].y;if((l-s)*(f-c)-(u-c)*(h-s)<=0)return false;var m,v,g,y,x,_;var b,w,M,S,T,A;var L,E,P;m=h-l;v=f-u;g=s-h;y=c-f;x=l-s;_=u-c;for(o=0;o<n;o++){d=e[a[o]].x;p=e[a[o]].y;if(d===s&&p===c||d===l&&p===u||d===h&&p===f)continue;b=d-s;w=p-c;M=d-l;S=p-u;T=d-h;A=p-f;P=m*S-v*M;L=x*w-_*b;E=g*A-y*T;if(P>=-Number.EPSILON&&E>=-Number.EPSILON&&L>=-Number.EPSILON)return false}return true}return function t(i,r){var n=i.length;if(n<3)return null;var a=[],o=[],s=[];var c,l,u;if(Ki.area(i)>0){for(l=0;l<n;l++)o[l]=l}else{for(l=0;l<n;l++)o[l]=n-1-l}var h=n;var f=2*h;for(l=h-1;h>2;){if(f--<=0){console.warn("SZX3D.ShapeUtils: Unable to triangulate polygon! in triangulate()");if(r)return s;return a}c=l;if(h<=c)c=0;l=c+1;if(h<=l)l=0;u=l+1;if(h<=u)u=0;if(e(i,c,l,u,h,o)){var d,p,m,v,g;d=o[c];p=o[l];m=o[u];a.push([i[d],i[p],i[m]]);s.push([o[c],o[l],o[u]]);for(v=l,g=l+1;g<h;v++,g++){o[v]=o[g]}h--;f=2*h}}if(r)return s;return a}}(),triangulateShape:function(e,t){function i(e){var t=e.length;if(t>2&&e[t-1].equals(e[0])){e.pop()}}i(e);t.forEach(i);function r(e,t,i){if(e.x!==t.x){if(e.x<t.x){return e.x<=i.x&&i.x<=t.x}else{return t.x<=i.x&&i.x<=e.x}}else{if(e.y<t.y){return e.y<=i.y&&i.y<=t.y}else{return t.y<=i.y&&i.y<=e.y}}}function n(e,t,i,n,a){var o=t.x-e.x,s=t.y-e.y;var c=n.x-i.x,l=n.y-i.y;var u=e.x-i.x;var h=e.y-i.y;var f=s*c-o*l;var d=s*u-o*h;if(Math.abs(f)>Number.EPSILON){var p;if(f>0){if(d<0||d>f)return[];p=l*u-c*h;if(p<0||p>f)return[]}else{if(d>0||d<f)return[];p=l*u-c*h;if(p>0||p<f)return[]}if(p===0){if(a&&(d===0||d===f))return[];return[e]}if(p===f){if(a&&(d===0||d===f))return[];return[t]}if(d===0)return[i];if(d===f)return[n];var m=p/f;return[{x:e.x+m*o,y:e.y+m*s}]}else{if(d!==0||l*u!==c*h)return[];var v=o===0&&s===0;var g=c===0&&l===0;if(v&&g){if(e.x!==i.x||e.y!==i.y)return[];return[e]}if(v){if(!r(i,n,e))return[];return[e]}if(g){if(!r(e,t,i))return[];return[i]}var y,x,_,b;var w,M,S,T;if(o!==0){if(e.x<t.x){y=e;_=e.x;x=t;b=t.x}else{y=t;_=t.x;x=e;b=e.x}if(i.x<n.x){w=i;S=i.x;M=n;T=n.x}else{w=n;S=n.x;M=i;T=i.x}}else{if(e.y<t.y){y=e;_=e.y;x=t;b=t.y}else{y=t;_=t.y;x=e;b=e.y}if(i.y<n.y){w=i;S=i.y;M=n;T=n.y}else{w=n;S=n.y;M=i;T=i.y}}if(_<=S){if(b<S)return[];if(b===S){if(a)return[];return[w]}if(b<=T)return[w,x];return[w,M]}else{if(_>T)return[];if(_===T){if(a)return[];return[y]}if(b<=T)return[y,x];return[y,M]}}}function a(e,t,i,r){var n=t.x-e.x,a=t.y-e.y;var o=i.x-e.x,s=i.y-e.y;var c=r.x-e.x,l=r.y-e.y;var u=n*s-a*o;var h=n*l-a*c;if(Math.abs(u)>Number.EPSILON){var f=c*s-l*o;if(u>0){return h>=0&&f>=0}else{return h>=0||f>=0}}else{return h>0}}function o(e,t){var i=e.concat();var r;function o(e,t){var n=i.length-1;var o=e-1;if(o<0)o=n;var s=e+1;if(s>n)s=0;var c=a(i[e],i[o],i[s],r[t]);if(!c){return false}var l=r.length-1;var u=t-1;if(u<0)u=l;var h=t+1;if(h>l)h=0;c=a(r[t],r[u],r[h],i[e]);if(!c){return false}return true}function s(e,t){var r,a,o;for(r=0;r<i.length;r++){a=r+1;a%=i.length;o=n(e,t,i[r],i[a],true);if(o.length>0)return true}return false}var c=[];function l(e,i){var r,a,o,s,l;for(r=0;r<c.length;r++){a=t[c[r]];for(o=0;o<a.length;o++){s=o+1;s%=a.length;l=n(e,i,a[o],a[s],true);if(l.length>0)return true}}return false}var u,h,f,d,p,m,v=[],g,y,x,_;for(var b=0,w=t.length;b<w;b++){c.push(b)}var M=0;var S=c.length*2;while(c.length>0){S--;if(S<0){console.log("Infinite Loop! Holes left:"+c.length+", Probably Hole outside Shape!");break}for(h=M;h<i.length;h++){f=i[h];u=-1;for(var b=0;b<c.length;b++){p=c[b];m=f.x+":"+f.y+":"+p;if(v[m]!==undefined)continue;r=t[p];for(var T=0;T<r.length;T++){d=r[T];if(!o(h,T))continue;if(s(f,d))continue;if(l(f,d))continue;u=T;c.splice(b,1);g=i.slice(0,h+1);y=i.slice(h);x=r.slice(u);_=r.slice(0,u+1);i=g.concat(x).concat(_).concat(y);M=h;break}if(u>=0)break;v[m]=true}if(u>=0)break}}return i}var s,c,l,u,h,f,d={};var p=e.concat();for(var m=0,v=t.length;m<v;m++){Array.prototype.push.apply(p,t[m])}for(s=0,c=p.length;s<c;s++){h=p[s].x+":"+p[s].y;if(d[h]!==undefined){console.warn("SZX3D.ShapeUtils: Duplicate point",h,s)}d[h]=s}var g=o(e,t);var y=Ki.triangulate(g,false);for(s=0,c=y.length;s<c;s++){u=y[s];for(l=0;l<3;l++){h=u[l].x+":"+u[l].y;f=d[h];if(f!==undefined){u[l]=f}}}return y.concat()},isClockWise:function(e){return Ki.area(e)<0}};function Qi(e,t){if(typeof e==="undefined"){e=[];return}vi.call(this);this.type="ExtrudeGeometry";e=Array.isArray(e)?e:[e];this.addShapeList(e,t);this.computeFaceNormals()}Qi.prototype=Object.create(vi.prototype);Qi.prototype.constructor=Qi;Qi.prototype.addShapeList=function(e,t){var i=e.length;for(var r=0;r<i;r++){var n=e[r];this.addShape(n,t)}};Qi.prototype.addShape=function(e,t){var i=t.amount!==undefined?t.amount:100;var r=t.bevelThickness!==undefined?t.bevelThickness:6;var n=t.bevelSize!==undefined?t.bevelSize:r-2;var a=t.bevelSegments!==undefined?t.bevelSegments:3;var o=t.bevelEnabled!==undefined?t.bevelEnabled:true;var s=t.curveSegments!==undefined?t.curveSegments:12;var c=t.steps!==undefined?t.steps:1;var l=t.extrudePath;var u,h=false;var f=t.UVGenerator!==undefined?t.UVGenerator:Qi.WorldUVGenerator;var d,p,m,v;if(l){u=l.getSpacedPoints(c);h=true;o=false;d=t.frames!==undefined?t.frames:l.computeFrenetFrames(c,false);p=new At;m=new At;v=new At}if(!o){a=0;r=0;n=0}var g,y,x;var _=this;var b=this.vertices.length;var w=e.extractPoints(s);var M=w.shape;var S=w.holes;var T=!Ki.isClockWise(M);if(T){M=M.reverse();for(y=0,x=S.length;y<x;y++){g=S[y];if(Ki.isClockWise(g)){S[y]=g.reverse()}}T=false}var A=Ki.triangulateShape(M,S);var L=M;for(y=0,x=S.length;y<x;y++){g=S[y];M=M.concat(g)}function E(e,t,i){if(!t)console.error("SZX3D.ExtrudeGeometry: vec does not exist");return t.clone().multiplyScalar(i).add(e)}var P,C,I,R,N,D=M.length,U,O=A.length;function z(e,t,i){var r,n,a=1;var o=e.x-t.x,s=e.y-t.y;var c=i.x-e.x,l=i.y-e.y;var u=o*o+s*s;var h=o*l-s*c;if(Math.abs(h)>Number.EPSILON){var f=Math.sqrt(u);var d=Math.sqrt(c*c+l*l);var p=t.x-s/f;var m=t.y+o/f;var v=i.x-l/d;var g=i.y+c/d;var y=((v-p)*l-(g-m)*c)/(o*l-s*c);r=p+o*y-e.x;n=m+s*y-e.y;var x=r*r+n*n;if(x<=2){return new Mt(r,n)}else{a=Math.sqrt(x/2)}}else{var _=false;if(o>Number.EPSILON){if(c>Number.EPSILON){_=true}}else{if(o<-Number.EPSILON){if(c<-Number.EPSILON){_=true}}else{if(Math.sign(s)===Math.sign(l)){_=true}}}if(_){r=-s;n=o;a=Math.sqrt(u)}else{r=o;n=s;a=Math.sqrt(u/2)}}return new Mt(r/a,n/a)}var B=[];for(var F=0,k=L.length,G=k-1,V=F+1;F<k;F++,G++,V++){if(G===k)G=0;if(V===k)V=0;B[F]=z(L[F],L[G],L[V])}var j=[],X,W=B.concat();for(y=0,x=S.length;y<x;y++){g=S[y];X=[];for(F=0,k=g.length,G=k-1,V=F+1;F<k;F++,G++,V++){if(G===k)G=0;if(V===k)V=0;X[F]=z(g[F],g[G],g[V])}j.push(X);W=W.concat(X)}for(P=0;P<a;P++){I=P/a;R=r*Math.cos(I*Math.PI/2);C=n*Math.sin(I*Math.PI/2);for(F=0,k=L.length;F<k;F++){N=E(L[F],B[F],C);J(N.x,N.y,-R)}for(y=0,x=S.length;y<x;y++){g=S[y];X=j[y];for(F=0,k=g.length;F<k;F++){N=E(g[F],X[F],C);J(N.x,N.y,-R)}}}C=n;for(F=0;F<D;F++){N=o?E(M[F],W[F],C):M[F];if(!h){J(N.x,N.y,0)}else{m.copy(d.normals[0]).multiplyScalar(N.x);p.copy(d.binormals[0]).multiplyScalar(N.y);v.copy(u[0]).add(m).add(p);J(v.x,v.y,v.z)}}var H;for(H=1;H<=c;H++){for(F=0;F<D;F++){N=o?E(M[F],W[F],C):M[F];if(!h){J(N.x,N.y,i/c*H)}else{m.copy(d.normals[H]).multiplyScalar(N.x);p.copy(d.binormals[H]).multiplyScalar(N.y);v.copy(u[H]).add(m).add(p);J(v.x,v.y,v.z)}}}for(P=a-1;P>=0;P--){I=P/a;R=r*Math.cos(I*Math.PI/2);C=n*Math.sin(I*Math.PI/2);for(F=0,k=L.length;F<k;F++){N=E(L[F],B[F],C);J(N.x,N.y,i+R)}for(y=0,x=S.length;y<x;y++){g=S[y];X=j[y];for(F=0,k=g.length;F<k;F++){N=E(g[F],X[F],C);if(!h){J(N.x,N.y,i+R)}else{J(N.x,N.y+u[c-1].y,u[c-1].x+R)}}}}Z();Y();function Z(){if(o){var e=0;var t=D*e;for(F=0;F<O;F++){U=A[F];K(U[2]+t,U[1]+t,U[0]+t)}e=c+a*2;t=D*e;for(F=0;F<O;F++){U=A[F];K(U[0]+t,U[1]+t,U[2]+t)}}else{for(F=0;F<O;F++){U=A[F];K(U[2],U[1],U[0])}for(F=0;F<O;F++){U=A[F];K(U[0]+D*c,U[1]+D*c,U[2]+D*c)}}}function Y(){var e=0;q(L,e);e+=L.length;for(y=0,x=S.length;y<x;y++){g=S[y];q(g,e);e+=g.length}}function q(e,t){var i,r;F=e.length;while(--F>=0){i=F;r=F-1;if(r<0)r=e.length-1;var n=0,o=c+a*2;for(n=0;n<o;n++){var s=D*n;var l=D*(n+1);var u=t+i+s,h=t+r+s,f=t+r+l,d=t+i+l;Q(u,h,f,d,e,n,o,i,r)}}}function J(e,t,i){_.vertices.push(new At(e,t,i))}function K(e,t,i){e+=b;t+=b;i+=b;_.faces.push(new $t(e,t,i,null,null,0));var r=f.generateTopUV(_,e,t,i);_.faceVertexUvs[0].push(r)}function Q(e,t,i,r,n,a,o,s,c){e+=b;t+=b;i+=b;r+=b;_.faces.push(new $t(e,t,r,null,null,1));_.faces.push(new $t(t,i,r,null,null,1));var l=f.generateSideWallUV(_,e,t,i,r);_.faceVertexUvs[0].push([l[0],l[1],l[3]]);_.faceVertexUvs[0].push([l[1],l[2],l[3]])}};Qi.WorldUVGenerator={generateTopUV:function(e,t,i,r){var n=e.vertices;var a=n[t];var o=n[i];var s=n[r];return[new Mt(a.x,a.y),new Mt(o.x,o.y),new Mt(s.x,s.y)]},generateSideWallUV:function(e,t,i,r,n){var a=e.vertices;var o=a[t];var s=a[i];var c=a[r];var l=a[n];if(Math.abs(o.y-s.y)<.01){return[new Mt(o.x,1-o.z),new Mt(s.x,1-s.z),new Mt(c.x,1-c.z),new Mt(l.x,1-l.z)]}else{return[new Mt(o.y,1-o.z),new Mt(s.y,1-s.z),new Mt(c.y,1-c.z),new Mt(l.y,1-l.z)]}}};function $i(e,t){vi.call(this);this.type="ShapeGeometry";if(typeof t==="object"){console.warn("SZX3D.ShapeGeometry: Options parameter has been removed.");t=t.curveSegments}this.parameters={shapes:e,curveSegments:t};this.fromBufferGeometry(new er(e,t));this.mergeVertices()}$i.prototype=Object.create(vi.prototype);$i.prototype.constructor=$i;function er(e,t){yi.call(this);this.type="ShapeBufferGeometry";this.parameters={shapes:e,curveSegments:t};t=t||12;var i=[];var r=[];var n=[];var a=[];var o=0;var s=0;if(Array.isArray(e)===false){l(e)}else{for(var c=0;c<e.length;c++){l(e[c]);this.addGroup(o,s,c);o+=s;s=0}}this.setIndex(i);this.addAttribute("position",new ci(r,3));this.addAttribute("normal",new ci(n,3));this.addAttribute("uv",new ci(a,2));function l(e){var o,c,l;var u=r.length/3;var h=e.extractPoints(t);var f=h.shape;var d=h.holes;if(Ki.isClockWise(f)===false){f=f.reverse();for(o=0,c=d.length;o<c;o++){l=d[o];if(Ki.isClockWise(l)===true){d[o]=l.reverse()}}}var p=Ki.triangulateShape(f,d);for(o=0,c=d.length;o<c;o++){l=d[o];f=f.concat(l)}for(o=0,c=f.length;o<c;o++){var m=f[o];r.push(m.x,m.y,0);n.push(0,0,1);a.push(m.x,m.y)}for(o=0,c=p.length;o<c;o++){var v=p[o];var g=v[0]+u;var y=v[1]+u;var x=v[2]+u;i.push(g,y,x);s+=3}}}er.prototype=Object.create(yi.prototype);er.prototype.constructor=er;function tr(e,t,i,r){vi.call(this);this.type="LatheGeometry";this.parameters={points:e,segments:t,phiStart:i,phiLength:r};this.fromBufferGeometry(new ir(e,t,i,r));this.mergeVertices()}tr.prototype=Object.create(vi.prototype);tr.prototype.constructor=tr;function ir(e,t,i,r){yi.call(this);this.type="LatheBufferGeometry";this.parameters={points:e,segments:t,phiStart:i,phiLength:r};t=Math.floor(t)||12;i=i||0;r=r||Math.PI*2;r=_t.clamp(r,0,Math.PI*2);var n=[];var a=[];var o=[];var s;var c=1/t;var l=new At;var u=new Mt;var h,f;for(h=0;h<=t;h++){var d=i+h*c*r;var p=Math.sin(d);var m=Math.cos(d);for(f=0;f<=e.length-1;f++){l.x=e[f].x*p;l.y=e[f].y;l.z=e[f].x*m;a.push(l.x,l.y,l.z);u.x=h/t;u.y=f/(e.length-1);o.push(u.x,u.y)}}for(h=0;h<t;h++){for(f=0;f<e.length-1;f++){s=f+h*e.length;var v=s;var g=s+e.length;var y=s+e.length+1;var x=s+1;n.push(v,g,x);n.push(g,y,x)}}this.setIndex(n);this.addAttribute("position",new ci(a,3));this.addAttribute("uv",new ci(o,2));this.computeVertexNormals();if(r===Math.PI*2){var _=this.attributes.normal.array;var b=new At;var w=new At;var M=new At;s=t*e.length*3;for(h=0,f=0;h<e.length;h++,f+=3){b.x=_[f+0];b.y=_[f+1];b.z=_[f+2];w.x=_[s+f+0];w.y=_[s+f+1];w.z=_[s+f+2];M.addVectors(b,w).normalize();_[f+0]=_[s+f+0]=M.x;_[f+1]=_[s+f+1]=M.y;_[f+2]=_[s+f+2]=M.z}}}ir.prototype=Object.create(yi.prototype);ir.prototype.constructor=ir;function rr(e,t,i,r){vi.call(this);this.type="PlaneGeometry";this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};this.fromBufferGeometry(new nr(e,t,i,r))}rr.prototype=Object.create(vi.prototype);rr.prototype.constructor=rr;function nr(e,t,i,r){yi.call(this);this.type="PlaneBufferGeometry";this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};var n=e/2;var a=t/2;var o=Math.floor(i)||1;var s=Math.floor(r)||1;var c=o+1;var l=s+1;var u=e/o;var h=t/s;var f,d;var p=[];var m=[];var v=[];var g=[];for(d=0;d<l;d++){var y=d*h-a;for(f=0;f<c;f++){var x=f*u-n;m.push(x,-y,0);v.push(0,0,1);g.push(f/o);g.push(1-d/s)}}for(d=0;d<s;d++){for(f=0;f<o;f++){var _=f+c*d;var b=f+c*(d+1);var w=f+1+c*(d+1);var M=f+1+c*d;p.push(_,b,M);p.push(b,w,M)}}this.setIndex(p);this.addAttribute("position",new ci(m,3));this.addAttribute("normal",new ci(v,3));this.addAttribute("uv",new ci(g,2))}nr.prototype=Object.create(yi.prototype);nr.prototype.constructor=nr;function ar(e,t,i,r,n,a){vi.call(this);this.type="RingGeometry";this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:n,thetaLength:a};this.fromBufferGeometry(new or(e,t,i,r,n,a))}ar.prototype=Object.create(vi.prototype);ar.prototype.constructor=ar;function or(e,t,i,r,n,a){yi.call(this);this.type="RingBufferGeometry";this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:n,thetaLength:a};e=e||20;t=t||50;n=n!==undefined?n:0;a=a!==undefined?a:Math.PI*2;i=i!==undefined?Math.max(3,i):8;r=r!==undefined?Math.max(1,r):1;var o=[];var s=[];var c=[];var l=[];var u;var h=e;var f=(t-e)/r;var d=new At;var p=new Mt;var m,v;for(m=0;m<=r;m++){for(v=0;v<=i;v++){u=n+v/i*a;d.x=h*Math.cos(u);d.y=h*Math.sin(u);s.push(d.x,d.y,d.z);c.push(0,0,1);p.x=(d.x/t+1)/2;p.y=(d.y/t+1)/2;l.push(p.x,p.y)}h+=f}for(m=0;m<r;m++){var g=m*(i+1);for(v=0;v<i;v++){u=v+g;var y=u;var x=u+i+1;var _=u+i+2;var b=u+1;o.push(y,x,b);o.push(x,_,b)}}this.setIndex(o);this.addAttribute("position",new ci(s,3));this.addAttribute("normal",new ci(c,3));this.addAttribute("uv",new ci(l,2))}or.prototype=Object.create(yi.prototype);or.prototype.constructor=or;function sr(e,t,i,r,n,a,o){vi.call(this);this.type="SphereGeometry";this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:n,thetaStart:a,thetaLength:o};this.fromBufferGeometry(new cr(e,t,i,r,n,a,o))}sr.prototype=Object.create(vi.prototype);sr.prototype.constructor=sr;function cr(e,t,i,r,n,a,o){yi.call(this);this.type="SphereBufferGeometry";this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:n,thetaStart:a,thetaLength:o};e=e||50;t=Math.max(3,Math.floor(t)||8);i=Math.max(2,Math.floor(i)||6);r=r!==undefined?r:0;n=n!==undefined?n:Math.PI*2;a=a!==undefined?a:0;o=o!==undefined?o:Math.PI;var s=a+o;var c,l;var u=0;var h=[];var f=new At;var d=new At;var p=[];var m=[];var v=[];var g=[];for(l=0;l<=i;l++){var y=[];var x=l/i;for(c=0;c<=t;c++){var _=c/t;f.x=-e*Math.cos(r+_*n)*Math.sin(a+x*o);f.y=e*Math.cos(a+x*o);f.z=e*Math.sin(r+_*n)*Math.sin(a+x*o);m.push(f.x,f.y,f.z);d.set(f.x,f.y,f.z).normalize();v.push(d.x,d.y,d.z);g.push(_,1-x);y.push(u++)}h.push(y)}for(l=0;l<i;l++){for(c=0;c<t;c++){var b=h[l][c+1];var w=h[l][c];var M=h[l+1][c];var S=h[l+1][c+1];if(l!==0||a>0)p.push(b,w,S);if(l!==i-1||s<Math.PI)p.push(w,M,S)}}this.setIndex(p);this.addAttribute("position",new ci(m,3));this.addAttribute("normal",new ci(v,3));this.addAttribute("uv",new ci(g,2))}cr.prototype=Object.create(yi.prototype);cr.prototype.constructor=cr;function lr(e,t){t=t||{};var i=t.font;if((i&&i.isFont)===false){console.error("SZX3D.TextGeometry: font parameter is not an instance of SZX3D.Font.");return new vi}var r=i.generateShapes(e,t.size,t.curveSegments);t.amount=t.height!==undefined?t.height:50;if(t.bevelThickness===undefined)t.bevelThickness=10;if(t.bevelSize===undefined)t.bevelSize=8;if(t.bevelEnabled===undefined)t.bevelEnabled=false;Qi.call(this,r,t);this.type="TextGeometry"}lr.prototype=Object.create(Qi.prototype);lr.prototype.constructor=lr;function ur(e,t,i,r,n){vi.call(this);this.type="TorusGeometry";this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:n};this.fromBufferGeometry(new hr(e,t,i,r,n))}ur.prototype=Object.create(vi.prototype);ur.prototype.constructor=ur;function hr(e,t,i,r,n){yi.call(this);this.type="TorusBufferGeometry";this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:n};e=e||100;t=t||40;i=Math.floor(i)||8;r=Math.floor(r)||6;n=n||Math.PI*2;var a=[];var o=[];var s=[];var c=[];var l=new At;var u=new At;var h=new At;var f,d;for(f=0;f<=i;f++){for(d=0;d<=r;d++){var p=d/r*n;var m=f/i*Math.PI*2;u.x=(e+t*Math.cos(m))*Math.cos(p);u.y=(e+t*Math.cos(m))*Math.sin(p);u.z=t*Math.sin(m);o.push(u.x,u.y,u.z);l.x=e*Math.cos(p);l.y=e*Math.sin(p);h.subVectors(u,l).normalize();s.push(h.x,h.y,h.z);c.push(d/r);c.push(f/i)}}for(f=1;f<=i;f++){for(d=1;d<=r;d++){var v=(r+1)*f+d-1;var g=(r+1)*(f-1)+d-1;var y=(r+1)*(f-1)+d;var x=(r+1)*f+d;a.push(v,g,x);a.push(g,y,x)}}this.setIndex(a);this.addAttribute("position",new ci(o,3));this.addAttribute("normal",new ci(s,3));this.addAttribute("uv",new ci(c,2))}hr.prototype=Object.create(yi.prototype);hr.prototype.constructor=hr;function fr(e,t,i,r,n,a,o){vi.call(this);this.type="TorusKnotGeometry";this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:n,q:a};if(o!==undefined)console.warn("SZX3D.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead.");this.fromBufferGeometry(new dr(e,t,i,r,n,a));this.mergeVertices()}fr.prototype=Object.create(vi.prototype);fr.prototype.constructor=fr;function dr(e,t,i,r,n,a){yi.call(this);this.type="TorusKnotBufferGeometry";this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:n,q:a};e=e||100;t=t||40;i=Math.floor(i)||64;r=Math.floor(r)||8;n=n||2;a=a||3;var o=[];var s=[];var c=[];var l=[];var u,h;var f=new At;var d=new At;var p=new Mt;var m=new At;var v=new At;var g=new At;var y=new At;var x=new At;for(u=0;u<=i;++u){var _=u/i*n*Math.PI*2;E(_,n,a,e,m);E(_+.01,n,a,e,v);y.subVectors(v,m);x.addVectors(v,m);g.crossVectors(y,x);x.crossVectors(g,y);g.normalize();x.normalize();for(h=0;h<=r;++h){var b=h/r*Math.PI*2;var w=-t*Math.cos(b);var M=t*Math.sin(b);f.x=m.x+(w*x.x+M*g.x);f.y=m.y+(w*x.y+M*g.y);f.z=m.z+(w*x.z+M*g.z);s.push(f.x,f.y,f.z);d.subVectors(f,m).normalize();c.push(d.x,d.y,d.z);l.push(u/i);l.push(h/r)}}for(h=1;h<=i;h++){for(u=1;u<=r;u++){var S=(r+1)*(h-1)+(u-1);var T=(r+1)*h+(u-1);var A=(r+1)*h+u;var L=(r+1)*(h-1)+u;o.push(S,T,L);o.push(T,A,L)}}this.setIndex(o);this.addAttribute("position",new ci(s,3));this.addAttribute("normal",new ci(c,3));this.addAttribute("uv",new ci(l,2));function E(e,t,i,r,n){var a=Math.cos(e);var o=Math.sin(e);var s=i/t*e;var c=Math.cos(s);n.x=r*(2+c)*.5*a;n.y=r*(2+c)*o*.5;n.z=r*Math.sin(s)*.5}}dr.prototype=Object.create(yi.prototype);dr.prototype.constructor=dr;function pr(e,t,i,r,n,a){vi.call(this);this.type="TubeGeometry";this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:n};if(a!==undefined)console.warn("SZX3D.TubeGeometry: taper has been removed.");var o=new mr(e,t,i,r,n);this.tangents=o.tangents;this.normals=o.normals;this.binormals=o.binormals;this.fromBufferGeometry(o);this.mergeVertices()}pr.prototype=Object.create(vi.prototype);pr.prototype.constructor=pr;function mr(e,t,i,r,n){yi.call(this);this.type="TubeBufferGeometry";this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:n};t=t||64;i=i||1;r=r||8;n=n||false;var a=e.computeFrenetFrames(t,n);this.tangents=a.tangents;this.normals=a.normals;this.binormals=a.binormals;var o=new At;var s=new At;var c=new Mt;var l,u;var h=[];var f=[];var d=[];var p=[];m();this.setIndex(p);this.addAttribute("position",new ci(h,3));this.addAttribute("normal",new ci(f,3));this.addAttribute("uv",new ci(d,2));function m(){for(l=0;l<t;l++){v(l)}v(n===false?t:0);y();g()}function v(n){var c=e.getPointAt(n/t);var l=a.normals[n];var d=a.binormals[n];for(u=0;u<=r;u++){var p=u/r*Math.PI*2;var m=Math.sin(p);var v=-Math.cos(p);s.x=v*l.x+m*d.x;s.y=v*l.y+m*d.y;s.z=v*l.z+m*d.z;s.normalize();f.push(s.x,s.y,s.z);o.x=c.x+i*s.x;o.y=c.y+i*s.y;o.z=c.z+i*s.z;h.push(o.x,o.y,o.z)}}function g(){for(u=1;u<=t;u++){for(l=1;l<=r;l++){var e=(r+1)*(u-1)+(l-1);var i=(r+1)*u+(l-1);var n=(r+1)*u+l;var a=(r+1)*(u-1)+l;p.push(e,i,a);p.push(i,n,a)}}}function y(){for(l=0;l<=t;l++){for(u=0;u<=r;u++){c.x=l/t;c.y=u/r;d.push(c.x,c.y)}}}}mr.prototype=Object.create(yi.prototype);mr.prototype.constructor=mr;function vr(e,t,i,r){vi.call(this);this.type="PolyhedronGeometry";this.parameters={vertices:e,indices:t,radius:i,detail:r};this.fromBufferGeometry(new gr(e,t,i,r));this.mergeVertices()}vr.prototype=Object.create(vi.prototype);vr.prototype.constructor=vr;function gr(e,t,i,r){yi.call(this);this.type="PolyhedronBufferGeometry";this.parameters={vertices:e,indices:t,radius:i,detail:r};i=i||1;r=r||0;var n=[];var a=[];o(r);c(i);l();this.addAttribute("position",new ci(n,3));this.addAttribute("normal",new ci(n.slice(),3));this.addAttribute("uv",new ci(a,2));this.normalizeNormals();function o(e){var i=new At;var r=new At;var n=new At;for(var a=0;a<t.length;a+=3){f(t[a+0],i);f(t[a+1],r);f(t[a+2],n);s(i,r,n,e)}}function s(e,t,i,r){var n=Math.pow(2,r);var a=[];var o,s;for(o=0;o<=n;o++){a[o]=[];var c=e.clone().lerp(i,o/n);var l=t.clone().lerp(i,o/n);var u=n-o;for(s=0;s<=u;s++){if(s===0&&o===n){a[o][s]=c}else{a[o][s]=c.clone().lerp(l,s/u)}}}for(o=0;o<n;o++){for(s=0;s<2*(n-o)-1;s++){var f=Math.floor(s/2);if(s%2===0){h(a[o][f+1]);h(a[o+1][f]);h(a[o][f])}else{h(a[o][f+1]);h(a[o+1][f+1]);h(a[o+1][f])}}}}function c(e){var t=new At;for(var i=0;i<n.length;i+=3){t.x=n[i+0];t.y=n[i+1];t.z=n[i+2];t.normalize().multiplyScalar(e);n[i+0]=t.x;n[i+1]=t.y;n[i+2]=t.z}}function l(){var e=new At;for(var t=0;t<n.length;t+=3){e.x=n[t+0];e.y=n[t+1];e.z=n[t+2];var i=m(e)/2/Math.PI+.5;var r=v(e)/Math.PI+.5;a.push(i,1-r)}d();u()}function u(){for(var e=0;e<a.length;e+=6){var t=a[e+0];var i=a[e+2];var r=a[e+4];var n=Math.max(t,i,r);var o=Math.min(t,i,r);if(n>.9&&o<.1){if(t<.2)a[e+0]+=1;if(i<.2)a[e+2]+=1;if(r<.2)a[e+4]+=1}}}function h(e){n.push(e.x,e.y,e.z)}function f(t,i){var r=t*3;i.x=e[r+0];i.y=e[r+1];i.z=e[r+2]}function d(){var e=new At;var t=new At;var i=new At;var r=new At;var o=new Mt;var s=new Mt;var c=new Mt;for(var l=0,u=0;l<n.length;l+=9,u+=6){e.set(n[l+0],n[l+1],n[l+2]);t.set(n[l+3],n[l+4],n[l+5]);i.set(n[l+6],n[l+7],n[l+8]);o.set(a[u+0],a[u+1]);s.set(a[u+2],a[u+3]);c.set(a[u+4],a[u+5]);r.copy(e).add(t).add(i).divideScalar(3);var h=m(r);p(o,u+0,e,h);p(s,u+2,t,h);p(c,u+4,i,h)}}function p(e,t,i,r){if(r<0&&e.x===1){a[t]=e.x-1}if(i.x===0&&i.z===0){a[t]=r/2/Math.PI+.5}}function m(e){return Math.atan2(e.z,-e.x)}function v(e){return Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))}}gr.prototype=Object.create(yi.prototype);gr.prototype.constructor=gr;function yr(e,t){vi.call(this);this.type="DodecahedronGeometry";this.parameters={radius:e,detail:t};this.fromBufferGeometry(new xr(e,t));this.mergeVertices()}yr.prototype=Object.create(vi.prototype);yr.prototype.constructor=yr;function xr(e,t){var i=(1+Math.sqrt(5))/2;var r=1/i;var n=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r];var a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];gr.call(this,n,a,e,t);this.type="DodecahedronBufferGeometry";this.parameters={radius:e,detail:t}}xr.prototype=Object.create(gr.prototype);xr.prototype.constructor=xr;function _r(e,t){vi.call(this);this.type="IcosahedronGeometry";this.parameters={radius:e,detail:t};this.fromBufferGeometry(new br(e,t));this.mergeVertices()}_r.prototype=Object.create(vi.prototype);_r.prototype.constructor=_r;function br(e,t){var i=(1+Math.sqrt(5))/2;var r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1];var n=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];gr.call(this,r,n,e,t);this.type="IcosahedronBufferGeometry";this.parameters={radius:e,detail:t}}br.prototype=Object.create(gr.prototype);br.prototype.constructor=br;function wr(e,t){vi.call(this);this.type="OctahedronGeometry";this.parameters={radius:e,detail:t};this.fromBufferGeometry(new Mr(e,t));this.mergeVertices()}wr.prototype=Object.create(vi.prototype);wr.prototype.constructor=wr;function Mr(e,t){var i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1];var r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];gr.call(this,i,r,e,t);this.type="OctahedronBufferGeometry";this.parameters={radius:e,detail:t}}Mr.prototype=Object.create(gr.prototype);Mr.prototype.constructor=Mr;function Sr(e,t){vi.call(this);this.type="TetrahedronGeometry";this.parameters={radius:e,detail:t};this.fromBufferGeometry(new Tr(e,t));this.mergeVertices()}Sr.prototype=Object.create(vi.prototype);Sr.prototype.constructor=Sr;function Tr(e,t){var i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1];var r=[2,1,0,0,3,2,1,3,0,2,3,1];gr.call(this,i,r,e,t);this.type="TetrahedronBufferGeometry";this.parameters={radius:e,detail:t}}Tr.prototype=Object.create(gr.prototype);Tr.prototype.constructor=Tr;function Ar(e,t,i){vi.call(this);this.type="ParametricGeometry";this.parameters={func:e,slices:t,stacks:i};this.fromBufferGeometry(new Lr(e,t,i));this.mergeVertices()}Ar.prototype=Object.create(vi.prototype);Ar.prototype.constructor=Ar;function Lr(e,t,i){yi.call(this);this.type="ParametricBufferGeometry";this.parameters={func:e,slices:t,stacks:i};var r=[];var n=[];var a=[];var o,s;var c=t+1;for(o=0;o<=i;o++){var l=o/i;for(s=0;s<=t;s++){var u=s/t;var h=e(u,l);n.push(h.x,h.y,h.z);a.push(u,l)}}for(o=0;o<i;o++){for(s=0;s<t;s++){var f=o*c+s;var d=o*c+s+1;var p=(o+1)*c+s+1;var m=(o+1)*c+s;r.push(f,d,m);r.push(d,p,m)}}this.setIndex(r);this.addAttribute("position",new ci(n,3));this.addAttribute("uv",new ci(a,2));this.computeVertexNormals()}Lr.prototype=Object.create(yi.prototype);Lr.prototype.constructor=Lr;function Er(e){yi.call(this);this.type="WireframeGeometry";var t=[];var i,r,n,a,o;var s=[0,0],c={},l;var u,h=["a","b","c"];var f;if(e&&e.isGeometry){var d=e.faces;for(i=0,n=d.length;i<n;i++){var p=d[i];for(r=0;r<3;r++){s[0]=p[h[r]];s[1]=p[h[(r+1)%3]];s.sort(M);u=s.toString();if(c[u]===undefined){c[u]={index1:s[0],index2:s[1]}}}}for(u in c){l=c[u];f=e.vertices[l.index1];t.push(f.x,f.y,f.z);f=e.vertices[l.index2];t.push(f.x,f.y,f.z)}}else if(e&&e.isBufferGeometry){var m,v,g;var y,x,_;var b,w;f=new At;if(e.index!==null){m=e.attributes.position;v=e.index;g=e.groups;if(g.length===0){e.addGroup(0,v.count)}for(a=0,o=g.length;a<o;++a){y=g[a];x=y.start;_=y.count;for(i=x,n=x+_;i<n;i+=3){for(r=0;r<3;r++){s[0]=v.getX(i+r);s[1]=v.getX(i+(r+1)%3);s.sort(M);u=s.toString();if(c[u]===undefined){c[u]={index1:s[0],index2:s[1]}}}}}for(u in c){l=c[u];f.fromBufferAttribute(m,l.index1);t.push(f.x,f.y,f.z);f.fromBufferAttribute(m,l.index2);t.push(f.x,f.y,f.z)}}else{m=e.attributes.position;for(i=0,n=m.count/3;i<n;i++){for(r=0;r<3;r++){b=3*i+r;f.fromBufferAttribute(m,b);t.push(f.x,f.y,f.z);w=3*i+(r+1)%3;f.fromBufferAttribute(m,w);t.push(f.x,f.y,f.z)}}}}this.addAttribute("position",new ci(t,3));
function M(e,t){return e-t}}Er.prototype=Object.create(yi.prototype);Er.prototype.constructor=Er;var Pr=Object.freeze({BoxGeometry:Vi,BoxBufferGeometry:ji,CircleGeometry:Xi,CircleBufferGeometry:Wi,CylinderGeometry:Hi,CylinderBufferGeometry:Zi,ConeGeometry:Yi,ConeBufferGeometry:qi,EdgesGeometry:Ji,ExtrudeGeometry:Qi,ShapeGeometry:$i,ShapeBufferGeometry:er,LatheGeometry:tr,LatheBufferGeometry:ir,PlaneGeometry:rr,PlaneBufferGeometry:nr,RingGeometry:ar,RingBufferGeometry:or,SphereGeometry:sr,SphereBufferGeometry:cr,TextGeometry:lr,TorusGeometry:ur,TorusBufferGeometry:hr,TorusKnotGeometry:fr,TorusKnotBufferGeometry:dr,TubeGeometry:pr,TubeBufferGeometry:mr,PolyhedronGeometry:vr,PolyhedronBufferGeometry:gr,DodecahedronGeometry:yr,DodecahedronBufferGeometry:xr,IcosahedronGeometry:_r,IcosahedronBufferGeometry:br,OctahedronGeometry:wr,OctahedronBufferGeometry:Mr,TetrahedronGeometry:Sr,TetrahedronBufferGeometry:Tr,ParametricGeometry:Ar,ParametricBufferGeometry:Lr,WireframeGeometry:Er});function Cr(){Qt.call(this);this.type="Scene";this.background=null;this.fog=null;this.overrideMaterial=null;this.autoUpdate=true}Cr.prototype=Object.create(Qt.prototype);Cr.prototype.constructor=Cr;Cr.prototype.copy=function(e,t){Qt.prototype.copy.call(this,e,t);if(e.background!==null)this.background=e.background.clone();if(e.fog!==null)this.fog=e.fog.clone();if(e.overrideMaterial!==null)this.overrideMaterial=e.overrideMaterial.clone();this.autoUpdate=e.autoUpdate;this.matrixAutoUpdate=e.matrixAutoUpdate;return this};Cr.prototype.toJSON=function(e){var t=Qt.prototype.toJSON.call(this,e);if(this.background!==null)t.object.background=this.background.toJSON(e);if(this.fog!==null)t.object.fog=this.fog.toJSON();return t};function Ir(e,t,i){this.name="";this.color=new bt(e);this.near=t!==undefined?t:1;this.far=i!==undefined?i:1e3}Ir.prototype.isFog=true;Ir.prototype.clone=function(){return new Ir(this.color.getHex(),this.near,this.far)};Ir.prototype.toJSON=function(e){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}};function Rr(e,t){this.name="";this.color=new bt(e);this.density=t!==undefined?t:25e-5}Rr.prototype.isFogExp2=true;Rr.prototype.clone=function(){return new Rr(this.color.getHex(),this.density)};Rr.prototype.toJSON=function(e){return{type:"FogExp2",color:this.color.getHex(),density:this.density}};var Nr=0;function Dr(e,t,i,r,n,a,o,s,c,l){Object.defineProperty(this,"id",{value:Nr++});this.uuid=_t.generateUUID();this.name="";this.image=e!==undefined?e:Dr.DEFAULT_IMAGE;this.mipmaps=[];this.mapping=t!==undefined?t:Dr.DEFAULT_MAPPING;this.wrapS=i!==undefined?i:de;this.wrapT=r!==undefined?r:de;this.magFilter=n!==undefined?n:ye;this.minFilter=a!==undefined?a:_e;this.anisotropy=c!==undefined?c:1;this.format=o!==undefined?o:Ue;this.type=s!==undefined?s:be;this.offset=new Mt(0,0);this.repeat=new Mt(1,1);this.generateMipmaps=true;this.premultiplyAlpha=false;this.flipY=true;this.unpackAlignment=4;this.encoding=l!==undefined?l:ct;this.version=0;this.onUpdate=null}Dr.DEFAULT_IMAGE=undefined;Dr.DEFAULT_MAPPING=ne;Dr.prototype={constructor:Dr,isTexture:true,set needsUpdate(e){if(e===true)this.version++},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.image=e.image;this.mipmaps=e.mipmaps.slice(0);this.mapping=e.mapping;this.wrapS=e.wrapS;this.wrapT=e.wrapT;this.magFilter=e.magFilter;this.minFilter=e.minFilter;this.anisotropy=e.anisotropy;this.format=e.format;this.type=e.type;this.offset.copy(e.offset);this.repeat.copy(e.repeat);this.generateMipmaps=e.generateMipmaps;this.premultiplyAlpha=e.premultiplyAlpha;this.flipY=e.flipY;this.unpackAlignment=e.unpackAlignment;this.encoding=e.encoding;if(e.onUpdate)this.onUpdate=e.onUpdate;return this},toJSON:function(e){if(e.textures[this.uuid]!==undefined){return e.textures[this.uuid]}function t(e){var t;if(e.toDataURL!==undefined){t=e}else{t=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");t.width=e.width;t.height=e.height;t.getContext("2d").drawImage(e,0,0,e.width,e.height)}if(t.width>2048||t.height>2048){return t.toDataURL("image/jpeg",.6)}else{return t.toDataURL("image/png")}}var i={metadata:{version:4.4,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(this.image!==undefined){var r=this.image;if(r.uuid===undefined){r.uuid=_t.generateUUID()}if(e.images[r.uuid]===undefined){e.images[r.uuid]={uuid:r.uuid,url:t(r)}}i.image=r.uuid}e.textures[this.uuid]=i;return i},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(this.mapping!==ne)return;e.multiply(this.repeat);e.add(this.offset);if(e.x<0||e.x>1){switch(this.wrapS){case fe:e.x=e.x-Math.floor(e.x);break;case de:e.x=e.x<0?0:1;break;case pe:if(Math.abs(Math.floor(e.x)%2)===1){e.x=Math.ceil(e.x)-e.x}else{e.x=e.x-Math.floor(e.x)}break}}if(e.y<0||e.y>1){switch(this.wrapT){case fe:e.y=e.y-Math.floor(e.y);break;case de:e.y=e.y<0?0:1;break;case pe:if(Math.abs(Math.floor(e.y)%2)===1){e.y=Math.ceil(e.y)-e.y}else{e.y=e.y-Math.floor(e.y)}break}}if(this.flipY){e.y=1-e.y}}};Object.assign(Dr.prototype,Ht.prototype);function Ur(e,t,i,r,n,a,o,s,c,l){l=l!==undefined?l:Fe;if(l!==Fe&&l!==ke){throw new Error("DepthTexture format must be either SZX3D.DepthFormat or SZX3D.DepthStencilFormat")}if(i===undefined&&l===Fe)i=Se;if(i===undefined&&l===ke)i=Re;Dr.call(this,null,r,n,a,o,s,l,i,c);this.image={width:e,height:t};this.magFilter=o!==undefined?o:me;this.minFilter=s!==undefined?s:me;this.flipY=false;this.generateMipmaps=false}Ur.prototype=Object.create(Dr.prototype);Ur.prototype.constructor=Ur;Ur.prototype.isDepthTexture=true;function Or(e,t,i,r,n,a,o,s,c){Dr.call(this,e,t,i,r,n,a,o,s,c);this.needsUpdate=true}Or.prototype=Object.create(Dr.prototype);Or.prototype.constructor=Or;function zr(e,t,i,r,n,a,o,s,c,l){e=e!==undefined?e:[];t=t!==undefined?t:ae;Dr.call(this,e,t,i,r,n,a,o,s,c,l);this.flipY=false}zr.prototype=Object.create(Dr.prototype);zr.prototype.constructor=zr;zr.prototype.isCubeTexture=true;Object.defineProperty(zr.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}});function Br(e,t,i,r,n,a,o,s,c,l,u,h){Dr.call(this,null,a,o,s,c,l,r,n,u,h);this.image={width:t,height:i};this.mipmaps=e;this.flipY=false;this.generateMipmaps=false}Br.prototype=Object.create(Dr.prototype);Br.prototype.constructor=Br;Br.prototype.isCompressedTexture=true;function Fr(e,t,i,r,n,a,o,s,c,l,u,h){Dr.call(this,null,a,o,s,c,l,r,n,u,h);this.image={data:e,width:t,height:i};this.magFilter=c!==undefined?c:me;this.minFilter=l!==undefined?l:me;this.generateMipmaps=false;this.flipY=false;this.unpackAlignment=1}Fr.prototype=Object.create(Dr.prototype);Fr.prototype.constructor=Fr;Fr.prototype.isDataTexture=true;function kr(e,t,i,r,n,a,o,s,c){Dr.call(this,e,t,i,r,n,a,o,s,c);this.generateMipmaps=false;var l=this;function u(){requestAnimationFrame(u);if(e.readyState>=e.HAVE_CURRENT_DATA){l.needsUpdate=true}}u()}kr.prototype=Object.create(Dr.prototype);kr.prototype.constructor=kr;var Gr="#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n";var Vr="#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n";var jr="#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n";var Xr="#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n";var Wr="#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif";var Hr="\nvec3 transformed = vec3( position );\n";var Zr="\nvec3 objectNormal = vec3( normal );\n";var Yr="float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t\t}\n\t\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 ltcTextureCoords( const in GeometricContext geometry, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = (LUT_SIZE - 1.0)/LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5/LUT_SIZE;\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 P = geometry.position;\n\tfloat theta = acos( dot( N, V ) );\n\tvec2 uv = vec2(\n\t\tsqrt( saturate( roughness ) ),\n\t\tsaturate( theta / ( 0.5 * PI ) ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nvoid clipQuadToHorizon( inout vec3 L[5], out int n ) {\n\tint config = 0;\n\tif ( L[0].z > 0.0 ) config += 1;\n\tif ( L[1].z > 0.0 ) config += 2;\n\tif ( L[2].z > 0.0 ) config += 4;\n\tif ( L[3].z > 0.0 ) config += 8;\n\tn = 0;\n\tif ( config == 0 ) {\n\t} else if ( config == 1 ) {\n\t\tn = 3;\n\t\tL[1] = -L[1].z * L[0] + L[0].z * L[1];\n\t\tL[2] = -L[3].z * L[0] + L[0].z * L[3];\n\t} else if ( config == 2 ) {\n\t\tn = 3;\n\t\tL[0] = -L[0].z * L[1] + L[1].z * L[0];\n\t\tL[2] = -L[2].z * L[1] + L[1].z * L[2];\n\t} else if ( config == 3 ) {\n\t\tn = 4;\n\t\tL[2] = -L[2].z * L[1] + L[1].z * L[2];\n\t\tL[3] = -L[3].z * L[0] + L[0].z * L[3];\n\t} else if ( config == 4 ) {\n\t\tn = 3;\n\t\tL[0] = -L[3].z * L[2] + L[2].z * L[3];\n\t\tL[1] = -L[1].z * L[2] + L[2].z * L[1];\n\t} else if ( config == 5 ) {\n\t\tn = 0;\n\t} else if ( config == 6 ) {\n\t\tn = 4;\n\t\tL[0] = -L[0].z * L[1] + L[1].z * L[0];\n\t\tL[3] = -L[3].z * L[2] + L[2].z * L[3];\n\t} else if ( config == 7 ) {\n\t\tn = 5;\n\t\tL[4] = -L[3].z * L[0] + L[0].z * L[3];\n\t\tL[3] = -L[3].z * L[2] + L[2].z * L[3];\n\t} else if ( config == 8 ) {\n\t\tn = 3;\n\t\tL[0] = -L[0].z * L[3] + L[3].z * L[0];\n\t\tL[1] = -L[2].z * L[3] + L[3].z * L[2];\n\t\tL[2] =  L[3];\n\t} else if ( config == 9 ) {\n\t\tn = 4;\n\t\tL[1] = -L[1].z * L[0] + L[0].z * L[1];\n\t\tL[2] = -L[2].z * L[3] + L[3].z * L[2];\n\t} else if ( config == 10 ) {\n\t\tn = 0;\n\t} else if ( config == 11 ) {\n\t\tn = 5;\n\t\tL[4] = L[3];\n\t\tL[3] = -L[2].z * L[3] + L[3].z * L[2];\n\t\tL[2] = -L[2].z * L[1] + L[1].z * L[2];\n\t} else if ( config == 12 ) {\n\t\tn = 4;\n\t\tL[1] = -L[1].z * L[2] + L[2].z * L[1];\n\t\tL[0] = -L[0].z * L[3] + L[3].z * L[0];\n\t} else if ( config == 13 ) {\n\t\tn = 5;\n\t\tL[4] = L[3];\n\t\tL[3] = L[2];\n\t\tL[2] = -L[1].z * L[2] + L[2].z * L[1];\n\t\tL[1] = -L[1].z * L[0] + L[0].z * L[1];\n\t} else if ( config == 14 ) {\n\t\tn = 5;\n\t\tL[4] = -L[0].z * L[3] + L[3].z * L[0];\n\t\tL[0] = -L[0].z * L[1] + L[1].z * L[0];\n\t} else if ( config == 15 ) {\n\t\tn = 4;\n\t}\n\tif ( n == 3 )\n\t\tL[3] = L[0];\n\tif ( n == 4 )\n\t\tL[4] = L[0];\n}\nfloat integrateLtcBrdfOverRectEdge( vec3 v1, vec3 v2 ) {\n\tfloat cosTheta = dot( v1, v2 );\n\tfloat theta = acos( cosTheta );\n\tfloat res = cross( v1, v2 ).z * ( ( theta > 0.001 ) ? theta / sin( theta ) : 1.0 );\n\treturn res;\n}\nvoid initRectPoints( const in vec3 pos, const in vec3 halfWidth, const in vec3 halfHeight, out vec3 rectPoints[4] ) {\n\trectPoints[0] = pos - halfWidth - halfHeight;\n\trectPoints[1] = pos + halfWidth - halfHeight;\n\trectPoints[2] = pos + halfWidth + halfHeight;\n\trectPoints[3] = pos - halfWidth + halfHeight;\n}\nvec3 integrateLtcBrdfOverRect( const in GeometricContext geometry, const in mat3 brdfMat, const in vec3 rectPoints[4] ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 P = geometry.position;\n\tvec3 T1, T2;\n\tT1 = normalize(V - N * dot( V, N ));\n\tT2 = - cross( N, T1 );\n\tmat3 brdfWrtSurface = brdfMat * transpose( mat3( T1, T2, N ) );\n\tvec3 clippedRect[5];\n\tclippedRect[0] = brdfWrtSurface * ( rectPoints[0] - P );\n\tclippedRect[1] = brdfWrtSurface * ( rectPoints[1] - P );\n\tclippedRect[2] = brdfWrtSurface * ( rectPoints[2] - P );\n\tclippedRect[3] = brdfWrtSurface * ( rectPoints[3] - P );\n\tint n;\n\tclipQuadToHorizon(clippedRect, n);\n\tif ( n == 0 )\n\t\treturn vec3( 0, 0, 0 );\n\tclippedRect[0] = normalize( clippedRect[0] );\n\tclippedRect[1] = normalize( clippedRect[1] );\n\tclippedRect[2] = normalize( clippedRect[2] );\n\tclippedRect[3] = normalize( clippedRect[3] );\n\tclippedRect[4] = normalize( clippedRect[4] );\n\tfloat sum = 0.0;\n\tsum += integrateLtcBrdfOverRectEdge( clippedRect[0], clippedRect[1] );\n\tsum += integrateLtcBrdfOverRectEdge( clippedRect[1], clippedRect[2] );\n\tsum += integrateLtcBrdfOverRectEdge( clippedRect[2], clippedRect[3] );\n\tif (n >= 4)\n\t\tsum += integrateLtcBrdfOverRectEdge( clippedRect[3], clippedRect[4] );\n\tif (n == 5)\n\t\tsum += integrateLtcBrdfOverRectEdge( clippedRect[4], clippedRect[0] );\n\tsum = max( 0.0, sum );\n\tvec3 Lo_i = vec3( sum, sum, sum );\n\treturn Lo_i;\n}\nvec3 Rect_Area_Light_Specular_Reflectance(\n\t\tconst in GeometricContext geometry,\n\t\tconst in vec3 lightPos, const in vec3 lightHalfWidth, const in vec3 lightHalfHeight,\n\t\tconst in float roughness,\n\t\tconst in sampler2D ltcMat, const in sampler2D ltcMag ) {\n\tvec3 rectPoints[4];\n\tinitRectPoints( lightPos, lightHalfWidth, lightHalfHeight, rectPoints );\n\tvec2 uv = ltcTextureCoords( geometry, roughness );\n\tvec4 brdfLtcApproxParams, t;\n\tbrdfLtcApproxParams = texture2D( ltcMat, uv );\n\tt = texture2D( ltcMat, uv );\n\tfloat brdfLtcScalar = texture2D( ltcMag, uv ).a;\n\tmat3 brdfLtcApproxMat = mat3(\n\t\tvec3(   1,   0, t.y ),\n\t\tvec3(   0, t.z,   0 ),\n\t\tvec3( t.w,   0, t.x )\n\t);\n\tvec3 specularReflectance = integrateLtcBrdfOverRect( geometry, brdfLtcApproxMat, rectPoints );\n\tspecularReflectance *= brdfLtcScalar;\n\treturn specularReflectance;\n}\nvec3 Rect_Area_Light_Diffuse_Reflectance(\n\t\tconst in GeometricContext geometry,\n\t\tconst in vec3 lightPos, const in vec3 lightHalfWidth, const in vec3 lightHalfHeight ) {\n\tvec3 rectPoints[4];\n\tinitRectPoints( lightPos, lightHalfWidth, lightHalfHeight, rectPoints );\n\tmat3 diffuseBrdfMat = mat3(1);\n\tvec3 diffuseReflectance = integrateLtcBrdfOverRect( geometry, diffuseBrdfMat, rectPoints );\n\treturn diffuseReflectance;\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n";var qr="#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos );\n\t\tvec3 vSigmaY = dFdy( surf_pos );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n";var Jr="#if NUM_CLIPPING_PLANES > 0\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; ++ i ) {\n\t\tvec4 plane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t\t\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; ++ i ) {\n\t\t\tvec4 plane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t\n\t#endif\n#endif\n";var Kr="#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n";var Qr="#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n";var $r="#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n";var en="#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif";var tn="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n";var rn="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif";var nn="#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif";var an="#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transpose( const in mat3 v ) {\n\tmat3 tmp;\n\ttmp[0] = vec3(v[0].x, v[1].x, v[2].x);\n\ttmp[1] = vec3(v[0].y, v[1].y, v[2].y);\n\ttmp[2] = vec3(v[0].z, v[1].z, v[2].z);\n\treturn tmp;\n}\n";var on="#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n";var sn="#ifdef FLIP_SIDED\n\tobjectNormal = -objectNormal;\n#endif\nvec3 transformedNormal = normalMatrix * objectNormal;\n";var cn="#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n";var ln="#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normal * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n";var un="#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n";var hn="#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n";var fn="  gl_FragColor = linearToOutputTexel( gl_FragColor );\n";var dn="\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM            = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat D      = max( maxRange / maxRGB, 1.0 );\n\tD            = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n\tXp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract(Le);\n\tvResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n\treturn vec4( max(vRGB, 0.0), 1.0 );\n}\n";var pn="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\tvec3 reflectView = flipNormal * normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n";var mn="#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n";
var vn="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n";var gn="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n";var yn="\n#ifdef USE_FOG\nfogDepth = -mvPosition.z;\n#endif";var xn="#ifdef USE_FOG\n  varying float fogDepth;\n#endif\n";var _n="#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n";var bn="#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif\n";var wn="#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif\n";var Mn="#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n";var Sn="#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif";var Tn="vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n";var An="uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltcMat;\tuniform sampler2D ltcMag;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar - 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = saturate( reflectVec.y * 0.5 + 0.5 );\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n";var Ln="BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n";var En="varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_BlinnPhong( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 matDiffColor = material.diffuseColor;\n\t\tvec3 matSpecColor = material.specularColor;\n\t\tvec3 lightColor   = rectAreaLight.color;\n\t\tfloat roughness = BlinnExponentToGGXRoughness( material.specularShininess );\n\t\tvec3 spec = Rect_Area_Light_Specular_Reflectance(\n\t\t\t\tgeometry,\n\t\t\t\trectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight,\n\t\t\t\troughness,\n\t\t\t\tltcMat, ltcMag );\n\t\tvec3 diff = Rect_Area_Light_Diffuse_Reflectance(\n\t\t\t\tgeometry,\n\t\t\t\trectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight );\n\t\treflectedLight.directSpecular += lightColor * matSpecColor * spec / PI2;\n\t\treflectedLight.directDiffuse  += lightColor * matDiffColor * diff / PI2;\n\t}\n#endif\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n";var Pn="PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n";var Cn="struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 matDiffColor = material.diffuseColor;\n\t\tvec3 matSpecColor = material.specularColor;\n\t\tvec3 lightColor   = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 spec = Rect_Area_Light_Specular_Reflectance(\n\t\t\t\tgeometry,\n\t\t\t\trectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight,\n\t\t\t\troughness,\n\t\t\t\tltcMat, ltcMag );\n\t\tvec3 diff = Rect_Area_Light_Diffuse_Reflectance(\n\t\t\t\tgeometry,\n\t\t\t\trectAreaLight.position, rectAreaLight.halfWidth, rectAreaLight.halfHeight );\n\t\treflectedLight.directSpecular += lightColor * matSpecColor * spec;\n\t\treflectedLight.directDiffuse  += lightColor * matDiffColor * diff;\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n";var In="\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n\t#ifndef STANDARD\n\t\tvec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );\n\t#else\n\t\tvec3 clearCoatRadiance = vec3( 0.0 );\n\t#endif\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n";var Rn="#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\n\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\n#endif";var Nn="#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n";var Dn="#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif";var Un="#ifdef USE_LOGDEPTHBUF\n\tgl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\n\t#endif\n#endif\n";var On="#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n";var zn="#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n";var Bn="#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n";var Fn="#ifdef USE_MAP\n\tuniform vec4 offsetRepeat;\n\tuniform sampler2D map;\n#endif\n";var kn="float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.r;\n#endif\n";var Gn="#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif";var Vn="#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n";var jn="#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif";var Xn="#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n";var Wn="#ifdef DOUBLE_SIDED\n\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n#else\n\tfloat flipNormal = 1.0;\n#endif\n";var Hn="#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal ) * flipNormal;\n#endif\n#ifdef USE_NORMALMAP\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n";var Zn="#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n";var Yn="vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 1.0 - 2.0 * rgb.xyz;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n";var qn="#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n";var Jn="#ifdef USE_SKINNING\n\tvec4 mvPosition = modelViewMatrix * skinned;\n#else\n\tvec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n#endif\ngl_Position = projectionMatrix * mvPosition;\n";var Kn="float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.r;\n#endif\n";var Qn="#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif";var $n="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn 1.0;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\tfloat dp = ( length( lightToPosition ) - shadowBias ) / 1000.0;\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n";
var ea="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n";var ta="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n";var ia="float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n";var ra="#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif";var na="#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureWidth;\n\t\tuniform int boneTextureHeight;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureWidth ) );\n\t\t\tfloat y = floor( j / float( boneTextureWidth ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureWidth );\n\t\t\tfloat dy = 1.0 / float( boneTextureHeight );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n";var aa="#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\tskinned  = bindMatrixInverse * skinned;\n#endif\n";var oa="#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n";var sa="float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif";var ca="#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif";var la="#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n";var ua="#define saturate(a) clamp( a, 0.0, 1.0 )\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n";var ha="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif";var fa="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform vec4 offsetRepeat;\n#endif\n";var da="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n#endif";var pa="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif";var ma="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif";var va="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif";var ga="#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( PHYSICAL ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n\t#ifdef USE_SKINNING\n\t\tvec4 worldPosition = modelMatrix * skinned;\n\t#else\n\t\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n\t#endif\n#endif\n";var ya="uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n";var xa="varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n";var _a="#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n";var ba="#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n";var wa="uniform vec3 lightPos;\nvarying vec4 vWorldPosition;\n#include <common>\n#include <packing>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tgl_FragColor = packDepthToRGBA( length( vWorldPosition.xyz - lightPos.xyz ) / 1000.0 );\n}\n";var Ma="varying vec4 vWorldPosition;\n#include <common>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition;\n}\n";var Sa="uniform sampler2D tEquirect;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n";var Ta="varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n";var Aa="uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n";var La="uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n";var Ea="uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <normal_flip>\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n";var Pa="#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}\n";var Ca="uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <normal_flip>\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n";var Ia="#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n";var Ra="#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n";var Na="#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n";var Da="#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n";var Ua="#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n";var Oa="#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_flip>\n\t#include <normal_fragment>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}\n";var za="#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}\n";var Ba="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n";var Fa="uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n";var ka="uniform float opacity;\n#include <common>\n#include <packing>\n#include <bsdfs>\n#include <lights_pars>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( 0.0, 0.0, 0.0, opacity * ( 1.0 - getShadowMask() ) );\n}\n";var Ga="#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n";var Va={alphamap_fragment:Gr,alphamap_pars_fragment:Vr,alphatest_fragment:jr,aomap_fragment:Xr,aomap_pars_fragment:Wr,begin_vertex:Hr,beginnormal_vertex:Zr,bsdfs:Yr,bumpmap_pars_fragment:qr,clipping_planes_fragment:Jr,clipping_planes_pars_fragment:Kr,clipping_planes_pars_vertex:Qr,clipping_planes_vertex:$r,color_fragment:en,color_pars_fragment:tn,color_pars_vertex:rn,color_vertex:nn,common:an,cube_uv_reflection_fragment:on,defaultnormal_vertex:sn,displacementmap_pars_vertex:cn,displacementmap_vertex:ln,emissivemap_fragment:un,emissivemap_pars_fragment:hn,encodings_fragment:fn,encodings_pars_fragment:dn,envmap_fragment:pn,envmap_pars_fragment:mn,envmap_pars_vertex:vn,envmap_vertex:gn,fog_vertex:yn,fog_pars_vertex:xn,fog_fragment:_n,fog_pars_fragment:bn,gradientmap_pars_fragment:wn,lightmap_fragment:Mn,lightmap_pars_fragment:Sn,lights_lambert_vertex:Tn,lights_pars:An,lights_phong_fragment:Ln,lights_phong_pars_fragment:En,lights_physical_fragment:Pn,lights_physical_pars_fragment:Cn,lights_template:In,logdepthbuf_fragment:Rn,logdepthbuf_pars_fragment:Nn,logdepthbuf_pars_vertex:Dn,logdepthbuf_vertex:Un,map_fragment:On,map_pars_fragment:zn,map_particle_fragment:Bn,map_particle_pars_fragment:Fn,metalnessmap_fragment:kn,metalnessmap_pars_fragment:Gn,morphnormal_vertex:Vn,morphtarget_pars_vertex:jn,morphtarget_vertex:Xn,normal_flip:Wn,normal_fragment:Hn,normalmap_pars_fragment:Zn,packing:Yn,premultiplied_alpha_fragment:qn,project_vertex:Jn,roughnessmap_fragment:Kn,roughnessmap_pars_fragment:Qn,shadowmap_pars_fragment:$n,shadowmap_pars_vertex:ea,shadowmap_vertex:ta,shadowmask_pars_fragment:ia,skinbase_vertex:ra,skinning_pars_vertex:na,skinning_vertex:aa,skinnormal_vertex:oa,specularmap_fragment:sa,specularmap_pars_fragment:ca,tonemapping_fragment:la,tonemapping_pars_fragment:ua,uv_pars_fragment:ha,uv_pars_vertex:fa,uv_vertex:da,uv2_pars_fragment:pa,uv2_pars_vertex:ma,uv2_vertex:va,worldpos_vertex:ga,cube_frag:ya,cube_vert:xa,depth_frag:_a,depth_vert:ba,distanceRGBA_frag:wa,distanceRGBA_vert:Ma,equirect_frag:Sa,equirect_vert:Ta,linedashed_frag:Aa,linedashed_vert:La,meshbasic_frag:Ea,meshbasic_vert:Pa,meshlambert_frag:Ca,meshlambert_vert:Ia,meshphong_frag:Ra,meshphong_vert:Na,meshphysical_frag:Da,meshphysical_vert:Ua,normal_frag:Oa,normal_vert:za,points_frag:Ba,points_vert:Fa,shadow_frag:ka,shadow_vert:Ga};var ja={merge:function(e){var t={};for(var i=0;i<e.length;i++){var r=this.clone(e[i]);for(var n in r){t[n]=r[n]}}return t},clone:function(e){var t={};for(var i in e){t[i]={};for(var r in e[i]){var n=e[i][r];if(n&&(n.isColor||n.isMatrix3||n.isMatrix4||n.isVector2||n.isVector3||n.isVector4||n.isTexture)){if(n.onUpdate){t[i][r]=n}else{t[i][r]=n.clone()}}else if(Array.isArray(n)){t[i][r]=n.slice(0)}else{t[i][r]=n}}}return t}};var Xa={common:{diffuse:{value:new bt(15658734)},opacity:{value:1},map:{value:null},offsetRepeat:{value:new St(0,0,1,1)},specularMap:{value:null},alphaMap:{value:null},envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Mt(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new bt(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new bt(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},offsetRepeat:{value:new St(0,0,1,1)}}};(function(){var e=[2e-4,-0,1,-0,504e-6,-0,1,-0,.002016,-0,1,-0,.004535,-0,1,-0,.008063,-0,1,-0,.012598,-0,1,-0,.018141,-0,1,-0,.024692,-0,1,-0,.032252,-0,1,-0,.040821,-0,1,-0,.0504,-0,1,-0,.060989,-0,1,-0,.072591,-0,1,-0,.085206,-0,1,-0,.098836,-0,1,-0,.113483,-0,1,-0,.129147,-0,1,-0,.145828,-0,1,-0,.163499,-0,1,-0,.181972,-0,1,-0,.199498,-0,1,-0,.220031,-0,1,-0,.241588,-0,1,-0,.26412,-0,1,-0,.287521,-0,1,-0,.311478,-0,1,-0,.335127,-0,1,-0,.359811,-0,1,-0,.386446,-0,1,-0,.413161,-0,1,-0,.439142,-0,1,-0,.467039,-0,1,-0,.49517,-0,1,-0,.522324,-0,1,-0,.551482,-0,1,-0,.579621,-0,1,-0,.608255,-0,1,-0,.636515,-0,1,-0,.664835,-0,1,-0,.692549,-0,1,-0,.720375,-0,1,-0,.747238,-0,1,-0,.773956,-0,1,-0,.799879,-0,1,-0,.824889,-0,1,-0,.849357,-0,1,-0,.873016,-0,1,-0,.89567,-0,1,-0,.917194,-0,1,-0,.937978,-0,1,-0,.957872,-0,1,-0,.976736,-0,1,-0,.994433,-0,1,-0,1.011206,-0,1,-0,1.02682,-0,1,-0,1.04172,-0,1,-0,1.055657,-0,1,-0,1.068642,-0,1,-0,1.080646,-0,1,-0,1.091637,-0,1,-0,1.101837,-0,1,-0,1.111292,-0,1,-0,1.120025,-0,1,-0,1.127918,-0,1,-0,2e-4,-5e-6,1.000623,.024938,504e-6,-13e-6,1.000643,.024938,.002016,-5e-5,1.000618,.024938,.004535,-113e-6,1.000621,.024938,.008063,-201e-6,1.000746,.024938,.012596,-314e-6,1.000463,.024937,.01814,-452e-6,1.000511,.024939,.024693,-616e-6,1.000541,.024938,.032253,-804e-6,1.000684,.024938,.040815,-.001018,1.000524,.02494,.050399,-.001257,1.000582,.024937,.060989,-.001521,1.000655,.024937,.072591,-.00181,1.000608,.024938,.085204,-.002125,1.000622,.024939,.098835,-.002465,1.000632,.024937,.113483,-.00283,1.00064,.024939,.129143,-.00322,1.000568,.024938,.14583,-.003633,1.000635,.024938,.163497,-.004062,1.000626,.024938,.181956,-.004424,1.000612,.024924,.199791,-.004593,1.000627,.02489,.220029,-.00548,1.000594,.024935,.241586,-.00601,1.000616,.024933,.264115,-.00655,1.000607,.024927,.287514,-.007072,1.000595,.024909,.311455,-.007472,1.000616,.024872,.335083,-.007491,1.000589,.024755,.359805,-.00881,1.000601,.024877,.386438,-.009282,1.00064,.024824,.413131,-.009534,1.000599,.024708,.439249,-.009701,1.000497,.024573,.466997,-.010878,1.000467,.024652,.495138,-.010959,1.000539,.024455,.522654,-.011386,1.000518,.024318,.551415,-.012022,1.000533,.024216,.57961,-.011805,1.000495,.023867,.608185,-.012773,1.000474,.023834,.636492,-.012377,1.000488,.023327,.664826,-.013172,1.000576,.023205,.692674,-.012847,1.000505,.022708,.720341,-.013141,1.000424,.022349,.747373,-.013227,1.000449,.021871,.77398,-.012739,1.000478,.021171,.799839,-.012999,1.000396,.020606,.825113,-.012727,1.000425,.020006,.849579,-.01217,1.000469,.019089,.873046,-.011855,1.000411,.018291,.895777,-.011711,1.000426,.017534,.917518,-.011107,1.000373,.016542,.938264,-.010439,1.000322,.015512,.958032,-.009807,1.000324,.014491,.976838,-.009268,1.000341,.013468,.994631,-.008662,1.000318,.012376,1.011434,-.007923,1.000289,.011187,1.027169,-.007132,1.000216,.010078,1.041929,-.006332,1.000096,.008924,1.055767,-.005554,1.000156,.00777,1.068595,-.004811,1.000084,.006611,1.080612,-.00395,1.000047,.005485,1.091785,-.003174,1.000109,.004352,1.101998,-.002363,1.000029,.00318,1.111423,-.001552,.999985,.002091,1.120007,-786e-6,.999947,991e-6,1.127918,4e-6,1,-4e-6,2e-4,-1e-5,1.002495,.049907,504e-6,-25e-6,1.002476,.049908,.002016,-101e-6,1.0025,.049908,.004535,-226e-6,1.002487,.049908,.008062,-402e-6,1.002364,.049908,.012598,-629e-6,1.002412,.049908,.01814,-905e-6,1.002379,.049908,.024691,-.001232,1.00249,.049907,.032251,-.00161,1.002398,.049908,.040821,-.002037,1.002392,.049908,.050398,-.002515,1.002431,.049907,.060989,-.003044,1.002475,.049908,.072592,-.003623,1.002546,.049907,.085204,-.004252,1.002467,.049907,.098832,-.004932,1.00245,.049908,.113481,-.005663,1.002482,.049907,.129145,-.006443,1.002443,.049907,.145825,-.007271,1.002495,.049906,.163491,-.008128,1.002475,.049903,.181911,-.008826,1.002459,.049879,.200065,-.009285,1.002443,.049824,.220025,-.010966,1.00245,.049897,.241581,-.012025,1.002463,.049893,.264099,-.013105,1.002395,.049881,.287493,-.014145,1.00239,.049855,.311399,-.014925,1.002414,.049769,.335096,-.015239,1.002363,.049591,.359815,-.017559,1.002415,.049777,.386365,-.018554,1.002354,.049675,.413017,-.019043,1.002297,.049444,.439519,-.019815,1.002284,.049253,.466938,-.021741,1.002307,.049327,.494999,-.021887,1.002181,.048922,.522922,-.022844,1.002107,.048677,.55127,-.024014,1.002101,.048478,.579771,-.024156,1.00206,.047904,.608156,-.025317,1.002077,.047594,.636662,-.025321,1.001975,.046876,.664846,-.026018,1.001992,.046354,.692877,-.026041,1.001846,.045504,.720316,-.026252,1.001846,.044655,.747658,-.026159,1.001931,.04367,.774252,-.026086,1.001845,.042515,.800179,-.025653,1.001794,.041211,.825525,-.02517,1.001787,.039823,.850013,-.024788,1.001806,.038409,.873593,-.023992,1.001688,.036767,.896343,-.022985,1.001666,.0349,.918062,-.022005,1.001548,.03301,.938928,-.02111,1.001503,.031143,.958667,-.019893,1.001341,.029059,.977457,-.018546,1.001194,.026888,.995243,-.017152,1.001095,.024713,1.012023,-.01575,1.0011,.022496,1.027614,-.014289,1.000851,.020153,1.042389,-.012688,1.000724,.017839,1.056161,-.011118,1.000572,.015529,1.068968,-.00954,1.000407,.01324,1.080866,-.007963,1.000258,.01094,1.091944,-.006416,1.000254,.008716,1.102104,-.004771,1.000175,.006434,1.111571,-.003056,1.000148,.004169,1.120084,-.001458,1.00005,.002033,1.127981,21e-6,.999987,-27e-6,2e-4,-15e-6,1.00562,.07494,504e-6,-38e-6,1.00565,.074939,.002016,-151e-6,1.005613,.074939,.004535,-34e-5,1.005618,.074939,.008062,-604e-6,1.005614,.074939,.012597,-944e-6,1.005616,.07494,.018141,-.001359,1.005558,.074939,.024695,-.001851,1.005495,.07494,.032253,-.002417,1.005616,.074939,.040822,-.003059,1.005591,.07494,.050399,-.003777,1.005596,.07494,.060989,-.00457,1.005599,.074939,.072591,-.00544,1.005616,.07494,.085203,-.006385,1.005616,.074939,.098833,-.007406,1.005595,.074938,.113481,-.008502,1.005605,.074938,.129147,-.009674,1.005605,.074937,.145817,-.010916,1.005513,.074937,.163485,-.012199,1.005579,.074928,.181824,-.013172,1.005552,.074885,.200274,-.0141,1.005524,.074825,.220017,-.016464,1.005529,.074928,.241568,-.018052,1.00549,.074914,.264084,-.019671,1.005457,.074898,.28745,-.021217,1.005431,.07486,.311281,-.022341,1.005395,.074717,.335228,-.023296,1.00532,.074526,.360047,-.025965,1.005302,.074649,.386273,-.027808,1.005285,.074575,.412855,-.028504,1.005167,.074237,.439705,-.030007,1.005129,.074013,.466975,-.032263,1.005082,.073967,.494874,-.032931,1.00496,.073475,.523066,-.034348,1.004834,.073084,.551198,-.035739,1.004806,.072657,.579889,-.036575,1.004687,.072029,.608282,-.037434,1.004605,.071309,.636812,-.038323,1.004589,.070507,.66501,-.038676,1.004403,.069424,.693063,-.039237,1.00434,.06837,.72075,-.039332,1.004224,.066988,.747911,-.039179,1.004117,.065447,.774576,-.03911,1.004035,.063838,.800737,-.038542,1.004027,.061923,.825966,-.037966,1.003825,.059859,.850534,-.036943,1.003786,.057529,.874289,-.035853,1.00356,.055081,.897152,-.03473,1.003549,.052476,.919029,-.033242,1.003454,.049647,.939851,-.031508,1.003215,.04667,.959599,-.029695,1.002916,.043588,.978293,-.027845,1.00272,.040401,.996085,-.025775,1.002445,.03706,1.012768,-.023607,1.002133,.033726,1.028404,-.021374,1.001822,.030217,1.04315,-.019108,1.001602,.02682,1.05676,-.016823,1.001274,.023372,1.069471,-.014378,1.000964,.019891,1.081283,-.011884,1.000684,.016405,1.092238,-.009398,1.000514,.01295,1.102384,-.00703,1.000319,.009579,1.111737,-.004751,1.000225,.006384,1.120274,-.002404,1.000046,.003192,1.128182,31e-6,1.00002,33e-6,2e-4,-2e-5,1.010006,.100065,504e-6,-5e-5,1.009927,.100065,.002016,-202e-6,1.010026,.100064,.004535,-454e-6,1.010018,.100065,.008062,-807e-6,1.009891,.100064,.012599,-.001261,1.010175,.100064,.018141,-.001815,1.010067,.100065,.024692,-.002471,1.010014,.100066,.032251,-.003227,1.00995,.100065,.040818,-.004084,1.009963,.100067,.050401,-.005043,1.010032,.100064,.060988,-.006102,1.009979,.100064,.072588,-.007263,1.009984,.100063,.085205,-.008525,1.010023,.100063,.098832,-.009888,1.00996,.100062,.113479,-.011352,1.009974,.100063,.129142,-.012916,1.009945,.100062,.145817,-.014573,1.009924,.100058,.163468,-.016276,1.009912,.10005,.181674,-.017411,1.009859,.099975,.200435,-.019002,1.009842,.099932,.220005,-.021978,1.00982,.100043,.24155,-.024096,1.009778,.100031,.264058,-.02625,1.009765,.100002,.287399,-.028286,1.009724,.099939,.311134,-.029698,1.009596,.099748,.33535,-.031442,1.009508,.099582,.360295,-.034401,1.009475,.099613,.386112,-.03703,1.009329,.099558,.412733,-.038163,1.00925,.099137,.439833,-.04025,1.009125,.098866,.467099,-.042583,1.009011,.098626,.494828,-.044299,1.008803,.098149,.523217,-.045876,1.008712,.0976,.551338,-.04744,1.008509,.096929,.579917,-.048995,1.008371,.096178,.608454,-.049901,1.008212,.095145,.636785,-.051224,1.007963,.094151,.66522,-.051675,1.007741,.092728,.693194,-.052278,1.007616,.091195,.721008,-.052406,1.007327,.089384,.748196,-.052529,1.007219,.087461,.774975,-.05195,1.006851,.085133,.801129,-.051456,1.006732,.082628,.826668,-.050569,1.006612,.079817,.851291,-.049328,1.006374,.07671,.875056,-.047988,1.006183,.073481,.897872,-.046149,1.005742,.069943,.919803,-.044144,1.005514,.066151,.940701,-.042095,1.005153,.062247,.96058,-.03973,1.004843,.058158,.979427,-.037104,1.004535,.05385,.997157,-.034369,1.004023,.049403,1.013777,-.031555,1.003622,.044944,1.029452,-.028571,1.003212,.040414,1.044029,-.025416,1.002698,.035723,1.057586,-.022217,1.002202,.031072,1.070148,-.019037,1.001703,.026429,1.081875,-.015936,1.001322,.021896,1.092789,-.012734,1.001053,.017288,1.102704,-.009454,1.000604,.012841,1.112011,-.006199,1.000387,.008446,1.12059,-.00301,1.000166,.004122,1.128283,27e-6,.999956,-38e-6,2e-4,-25e-6,1.015664,.125315,504e-6,-63e-6,1.015664,.125316,.002016,-253e-6,1.015727,.125315,.004535,-568e-6,1.015695,.125314,.008063,-.00101,1.015823,.125316,.012599,-.001579,1.015867,.125315,.018141,-.002273,1.015758,.125316,.024691,-.003094,1.015662,.125316,.032252,-.004042,1.015674,.125316,.04082,-.005115,1.015678,.125316,.0504,-.006316,1.015684,.125315,.060989,-.007642,1.015685,.125315,.07259,-.009096,1.015703,.125314,.085203,-.010676,1.015654,.125314,.098833,-.012383,1.01567,.125315,.113477,-.014215,1.015635,.125312,.129138,-.016173,1.015599,.125311,.145815,-.018246,1.01561,.125306,.16345,-.02036,1.015564,.125294,.181595,-.021807,1.01546,.125204,.200563,-.023971,1.01544,.125165,.220186,-.02728,1.015412,.12525,.241528,-.030164,1.015342,.125267,.26402,-.032847,1.015269,.125233,.287311,-.035345,1.015232,.125138,.310993,-.037108,1.015063,.124903,.335467,-.039653,1.01497,.124749,.360497,-.042914,1.014819,.124702,.385986,-.046142,1.014685,.124623,.412703,-.04805,1.014543,.124193,.439929,-.050527,1.014315,.123833,.467163,-.05288,1.014087,.123375,.494824,-.055672,1.013898,.122982,.523222,-.057388,1.013647,.122166,.551557,-.059328,1.013403,.121343,.579884,-.061315,1.013059,.12043,.608619,-.062531,1.012745,.11914,.637014,-.063778,1.012425,.117721,.665425,-.064734,1.012067,.116069,.69358,-.065315,1.011712,.114146,.721194,-.065535,1.0112,.111846,.748586,-.065501,1.010896,.109309,.775437,-.065091,1.010576,.106504,.801554,-.064332,1.010136,.103308,.827079,-.063078,1.009629,.099695,.851693,-.061728,1.009233,.095946,.875586,-.059853,1.008726,.091802,.898589,-.057727,1.008412,.087339,.920421,-.055377,1.007767,.082687,.941533,-.052571,1.007529,.077716,.961426,-.049544,1.006929,.072574,.980287,-.0464,1.006393,.067217,.99808,-.042966,1.005872,.061757,1.01494,-.039321,1.005346,.056072,1.030455,-.035585,1.004609,.05041,1.045078,-.031823,1.004151,.044622,1.058555,-.027947,1.003421,.038893,1.071009,-.023891,1.002704,.032977,1.082594,-.019822,1.002023,.02729,1.093265,-.015765,1.001403,.021543,1.103132,-.01179,1.000944,.016072,1.112348,-.007784,1.00055,.010511,1.120845,-.003849,1.000224,.005174,1.128573,57e-6,.999975,-39e-6,2e-4,-3e-5,1.022609,.150725,504e-6,-76e-6,1.022728,.150725,.002016,-304e-6,1.022728,.150725,.004535,-684e-6,1.022733,.150725,.008062,-.001215,1.022715,.150725,.012598,-.001899,1.02272,.150725,.018141,-.002734,1.022659,.150725,.024694,-.003722,1.022801,.150724,.032254,-.004861,1.022779,.150726,.040815,-.006152,1.022693,.150724,.0504,-.007596,1.022716,.150725,.06099,-.009192,1.022733,.150725,.072587,-.010939,1.02263,.150723,.085203,-.012839,1.022676,.150725,.098828,-.014891,1.022659,.150725,.113473,-.017095,1.022589,.15072,.129137,-.019449,1.022572,.150716,.145803,-.021938,1.022508,.150712,.163417,-.024443,1.022471,.150691,.18158,-.026329,1.022406,.1506,.200667,-.028997,1.022336,.150553,.220429,-.032584,1.022296,.15061,.241497,-.03626,1.022202,.150658,.263975,-.039465,1.022119,.150619,.28721,-.042385,1.021988,.15049,.310935,-.044758,1.021771,.150241,.335556,-.047922,1.021658,.150076,.360667,-.051493,1.021437,.149931,.386028,-.054931,1.021228,.149754,.412665,-.058007,1.021023,.1494,.439951,-.060813,1.020723,.148913,.467262,-.063461,1.020332,.148319,.494972,-.066738,1.020097,.147798,.523153,-.068976,1.01963,.146903,.5517,-.071268,1.019245,.145863,.580046,-.073439,1.018797,.144695,.608649,-.075193,1.018201,.143237,.637239,-.076536,1.017746,.141463,.665388,-.077771,1.017111,.139462,.693755,-.078344,1.016609,.137082,.721345,-.078817,1.015863,.134403,.748879,-.078512,1.01539,.131252,.77556,-.078128,1.014652,.127866,.801897,-.077094,1.013877,.123928,.827193,-.075863,1.013021,.119733,.85199,-.073973,1.012395,.115055,.875823,-.071765,1.011595,.110098,.898655,-.069241,1.010862,.104722,.920915,-.066232,1.010185,.098991,.941969,-.06298,1.009588,.093044,.961882,-.059507,1.008777,.086925,.980952,-.055606,1.008252,.08052,.998955,-.051503,1.007633,.07389,1.015756,-.047292,1.006908,.067302,1.031571,-.042804,1.006338,.060412,1.046095,-.038132,1.005512,.053497,1.059542,-.03338,1.004592,.046569,1.072006,-.028613,1.003731,.039679,1.083348,-.023811,1.002871,.032772,1.093969,-.01893,1.002068,.025894,1.103697,-.014098,1.001284,.019178,1.112813,-.009339,1.00082,.012652,1.121193,-.004661,1.000324,.006226,1.12893,52e-6,.999988,-8e-6,2e-4,-35e-6,1.030857,.176327,504e-6,-89e-6,1.031137,.176326,.002016,-355e-6,1.031049,.176325,.004535,-8e-4,1.031105,.176326,.008062,-.001422,1.030973,.176326,.012598,-.002221,1.031168,.176326,.018141,-.003199,1.031093,.176326,.024695,-.004354,1.031297,.176326,.032253,-.005687,1.031091,.176327,.040821,-.007197,1.031012,.176326,.050399,-.008886,1.031068,.176325,.060987,-.010752,1.030967,.176323,.072588,-.012797,1.031028,.176324,.0852,-.015019,1.030985,.176322,.098829,-.017419,1.030983,.17632,.113474,-.019997,1.030953,.176317,.129133,-.022748,1.030891,.176312,.1458,-.025655,1.030825,.176306,.163372,-.02851,1.030781,.176279,.181578,-.030914,1.030683,.176187,.200761,-.034076,1.030574,.176139,.220645,-.037985,1.030476,.17616,.241473,-.042391,1.030384,.176238,.263922,-.046105,1.030241,.176175,.287074,-.04939,1.030049,.176013,.310915,-.052511,1.029839,.175776,.335604,-.056236,1.029608,.175578,.360775,-.060118,1.029355,.175359,.386196,-.063907,1.029052,.175083,.412599,-.067997,1.028766,.174791,.439916,-.071088,1.028326,.174174,.467444,-.074247,1.02789,.173487,.495132,-.077728,1.027374,.172774,.523117,-.080822,1.026763,.171824,.551783,-.083228,1.026205,.170554,.580234,-.085682,1.025614,.16909,.608568,-.08786,1.024668,.167468,.637357,-.089346,1.023939,.165283,.665507,-.090704,1.022946,.162966,.693704,-.091388,1.02201,.160131,.721396,-.091783,1.021085,.156957,.748676,-.091688,1.019894,.153292,.77537,-.090992,1.018608,.149158,.801547,-.089881,1.017646,.144551,.827013,-.088267,1.016355,.139614,.851708,-.086132,1.015446,.134026,.875652,-.083707,1.014321,.128101,.898703,-.080619,1.013454,.121841,.920904,-.07728,1.012634,.115379,.942077,-.073484,1.01177,.108355,.962245,-.069252,1.010894,.101153,.981385,-.064807,1.010114,.093666,.999379,-.06008,1.009294,.086007,1.016494,-.055007,1.008591,.078194,1.032357,-.04976,1.007821,.070328,1.047061,-.044468,1.006871,.062358,1.060675,-.03896,1.006062,.054279,1.073032,-.033343,1.004911,.046158,1.084293,-.027699,1.003791,.038111,1.094724,-.02213,1.002744,.030239,1.104302,-.016508,1.001815,.022397,1.11329,-.010846,1.001083,.014747,1.121649,-.005294,1.00049,.007234,1.12923,71e-6,.999975,-53e-6,2e-4,-4e-5,1.040431,.202155,504e-6,-102e-6,1.040912,.202154,.002016,-407e-6,1.041328,.202152,.004535,-917e-6,1.040877,.202154,.008063,-.00163,1.040867,.202153,.012598,-.002547,1.04087,.202153,.01814,-.003667,1.040808,.202153,.024692,-.004991,1.040861,.202153,.032252,-.006519,1.040861,.202153,.040822,-.008252,1.040864,.202153,.050397,-.010187,1.040717,.202151,.060988,-.012327,1.040791,.202152,.072582,-.014669,1.04064,.202149,.085198,-.017217,1.040716,.202147,.098827,-.019968,1.040748,.202141,.113467,-.022921,1.040632,.202142,.129129,-.026074,1.040606,.202137,.145793,-.029399,1.040566,.202127,.163294,-.032524,1.040459,.202078,.181589,-.035552,1.040315,.201996,.200844,-.039208,1.040221,.201948,.220835,-.043489,1.040047,.201945,.241471,-.048523,1.039921,.202031,.263854,-.052764,1.039756,.201957,.286935,-.056387,1.039497,.201743,.310902,-.060338,1.039252,.201531,.335642,-.064594,1.038954,.201286,.360859,-.068772,1.038582,.200983,.386419,-.073086,1.03816,.200651,.412588,-.077887,1.037724,.200343,.439836,-.081391,1.037182,.199618,.467538,-.085121,1.036602,.198839,.495286,-.088718,1.035893,.197895,.523231,-.092514,1.035121,.196887,.55173,-.095238,1.034127,.19539,.580302,-.097949,1.033131,.193668,.608559,-.100418,1.031962,.191773,.637224,-.102129,1.030838,.189319,.665597,-.103578,1.029511,.186529,.693535,-.104652,1.028263,.183303,.721325,-.104766,1.026611,.179497,.748384,-.104717,1.025128,.175283,.775058,-.103846,1.023385,.170493,.801387,-.102728,1.022236,.165187,.826412,-.100679,1.019908,.159362,.851314,-.098451,1.018839,.153059,.8751,-.095363,1.017306,.146284,.89828,-.092008,1.016151,.138975,.92045,-.088095,1.01488,.131361,.941727,-.08369,1.013556,.123417,.962308,-.079077,1.012998,.115201,.981364,-.073894,1.011841,.106711,.999798,-.068435,1.011021,.098063,1.016983,-.06283,1.010194,.089183,1.033039,-.056914,1.009292,.08019,1.047994,-.050721,1.008474,.07101,1.06158,-.044454,1.007386,.061867,1.074023,-.038145,1.006135,.052711,1.08547,-.031679,1.00489,.043595,1.095673,-.025157,1.003627,.034506,1.105,-.018702,1.002331,.025468,1.113795,-.012458,1.001278,.016834,1.122012,-.006169,1.000548,.008265,1.129683,78e-6,.999988,-72e-6,2e-4,-46e-6,1.052496,.228243,504e-6,-115e-6,1.052079,.228243,.002016,-46e-5,1.052079,.228241,.004535,-.001035,1.052091,.228242,.008062,-.00184,1.051962,.228242,.012598,-.002875,1.052087,.228242,.018141,-.00414,1.052088,.228242,.024692,-.005636,1.052096,.228239,.032251,-.007361,1.052029,.228243,.04082,-.009316,1.052038,.228241,.050399,-.011501,1.052042,.228239,.06099,-.013917,1.052046,.228238,.072586,-.016562,1.05199,.228236,.085198,-.019437,1.051946,.228234,.098824,-.022542,1.051879,.228229,.113467,-.025875,1.051841,.228227,.129121,-.02943,1.051724,.228219,.14578,-.03317,1.051672,.228205,.163222,-.036567,1.051556,.228143,.181604,-.040245,1.051382,.228069,.200913,-.044395,1.05123,.22801,.221005,-.049088,1.051062,.227988,.241667,-.054506,1.050881,.228044,.263777,-.059437,1.050643,.227986,.286841,-.06359,1.050312,.227755,.310879,-.068224,1.050009,.227525,.33565,-.072986,1.049597,.227253,.360869,-.077435,1.049121,.226845,.386609,-.082385,1.048587,.226466,.412742,-.08757,1.047987,.226059,.439789,-.091929,1.047308,.225331,.467558,-.096038,1.046423,.224409,.495406,-.099938,1.045481,.223288,.523417,-.10405,1.044512,.222066,.551755,-.107503,1.043408,.220487,.580468,-.110234,1.042016,.218451,.608904,-.112993,1.040535,.2162,.63723,-.115173,1.038934,.213458,.665566,-.116433,1.036961,.210158,.693413,-.117589,1.03513,.206457,.721025,-.117885,1.03308,.202197,.748054,-.117606,1.030752,.197296,.774631,-.116771,1.028608,.191813,.800677,-.115194,1.02635,.185691,.826062,-.113138,1.024472,.179053,.85059,-.110359,1.022174,.171839,.87455,-.107072,1.020381,.164067,.897567,-.103268,1.018777,.155959,.919609,-.098794,1.016886,.14732,.941177,-.094067,1.01588,.138365,.961752,-.08867,1.014616,.129051,.981518,-.082965,1.013807,.119515,.99988,-.076971,1.012793,.109897,1.01737,-.070518,1.011894,.099872,1.033661,-.06383,1.010943,.089883,1.048672,-.05704,1.009802,.079691,1.062479,-.049917,1.00867,.069458,1.075052,-.042735,1.007429,.059191,1.086371,-.035513,1.005991,.048894,1.096623,-.028359,1.004468,.03877,1.105871,-.021111,1.002927,.028745,1.114481,-.013908,1.001728,.018884,1.12261,-.006843,1.00074,.009264,1.130165,62e-6,.999983,-6e-6,2e-4,-51e-6,1.064931,.25463,504e-6,-128e-6,1.064668,.25463,.002016,-513e-6,1.064794,.25463,.004535,-.001155,1.064851,.25463,.008063,-.002053,1.064966,.25463,.012598,-.003208,1.06484,.25463,.01814,-.004619,1.064602,.254631,.024695,-.006288,1.064965,.254632,.032251,-.008211,1.064795,.25463,.040821,-.010393,1.064802,.254628,.050398,-.01283,1.064758,.254627,.060987,-.015525,1.064731,.254625,.072584,-.018474,1.064615,.254621,.085199,-.021682,1.064672,.254619,.098826,-.025144,1.06463,.254613,.113465,-.02886,1.064515,.254606,.129119,-.032823,1.064416,.254598,.145767,-.036969,1.064347,.254579,.16319,-.040754,1.064132,.254506,.181622,-.044989,1.063951,.254437,.200981,-.049642,1.063745,.25437,.221145,-.054776,1.063547,.254324,.241896,-.060538,1.063289,.254346,.263684,-.066113,1.063013,.254296,.286796,-.070925,1.062625,.254059,.310867,-.076187,1.062216,.253817,.335644,-.081406,1.061703,.253481,.360917,-.086336,1.061066,.253005,.386786,-.09179,1.060454,.252558,.412921,-.09723,1.059568,.252008,.439722,-.102574,1.058706,.251323,.467559,-.106972,1.057682,.250239,.495605,-.111329,1.056612,.248944,.523589,-.115561,1.055101,.247471,.551787,-.119732,1.053745,.245777,.580426,-.122711,1.051829,.243448,.608778,-.125436,1.049642,.240769,.637069,-.127993,1.047749,.237739,.665251,-.129448,1.045244,.233928,.692977,-.130408,1.042279,.22964,.720346,-.130931,1.039693,.224829,.747365,-.130392,1.036675,.219144,.773734,-.12954,1.033719,.212965,.799578,-.127689,1.030774,.206047,.825002,-.125456,1.028551,.198576,.849564,-.122291,1.0258,.190471,.873412,-.11872,1.023657,.181739,.896628,-.114323,1.021381,.172586,.918952,-.109587,1.019674,.162914,.940602,-.104093,1.018126,.153039,.960917,-.098187,1.016339,.142774,.980911,-.091963,1.01544,.132316,.999686,-.085159,1.014377,.121453,1.017538,-.078139,1.013498,.110527,1.033918,-.070797,1.012332,.099437,1.04939,-.063129,1.011368,.088157,1.063402,-.055354,1.010111,.076951,1.076096,-.047522,1.008774,.065616,1.087562,-.039447,1.007202,.05431,1.097591,-.031359,1.005346,.042948,1.106782,-.023393,1.00371,.031799,1.115234,-.015461,1.002116,.020943,1.123166,-.007589,1.000858,.010288,1.130796,104e-6,1.000032,-24e-6,2e-4,-56e-6,1.07878,.281356,504e-6,-142e-6,1.079271,.281355,.002015,-567e-6,1.078635,.281355,.004535,-.001276,1.079164,.281356,.008064,-.002269,1.0793,.281355,.012598,-.003544,1.079149,.281355,.018143,-.005104,1.079329,.281355,.024691,-.006947,1.079073,.281353,.032254,-.009074,1.079253,.281354,.040822,-.011484,1.079176,.281353,.050399,-.014177,1.079057,.281349,.060987,-.017153,1.079007,.281347,.072586,-.020412,1.078998,.281343,.085203,-.023956,1.078962,.281336,.098823,-.027778,1.078839,.281332,.113464,-.031882,1.078783,.281325,.129114,-.036255,1.078633,.281315,.145748,-.04079,1.078545,.281287,.163179,-.045024,1.078311,.281208,.181649,-.049791,1.078135,.281137,.201042,-.054953,1.077845,.281063,.221267,-.060551,1.077576,.281006,.242114,-.066663,1.077257,.280978,.263568,-.072771,1.076897,.280925,.286744,-.078349,1.076405,.280689,.31084,-.084201,1.075898,.280418,.335612,-.089846,1.075287,.28002,.360975,-.095394,1.074482,.279513,.386932,-.10129,1.073617,.278961,.413171,-.107042,1.072719,.278283,.439886,-.113083,1.071698,.277547,.467535,-.11801,1.070213,.276311,.495701,-.122793,1.068857,.274867,.523772,-.127278,1.067037,.273153,.551849,-.131671,1.064923,.271176,.580338,-.135293,1.062749,.268626,.608771,-.138065,1.059944,.265569,.636756,-.140565,1.056851,.262054,.664574,-.142434,1.053461,.257807,.692151,-.143237,1.04991,.25293,.719376,-.143717,1.046426,.247414,.745852,-.143117,1.042377,.241001,.7723,-.141975,1.038789,.233797,.79805,-.140114,1.03529,.226218,.82337,-.137379,1.032374,.217785,.847735,-.134119,1.028853,.208748,.871897,-.129985,1.026395,.198877,.89495,-.125324,1.023787,.188803,.917909,-.120007,1.022073,.178493,.939567,-.114099,1.020098,.167466,.960534,-.107748,1.018851,.156223,.980423,-.100748,1.017362,.144716,.999334,-.093494,1.015961,.133028,1.017561,-.085728,1.015059,.120953,1.034225,-.077627,1.013888,.108943,1.049937,-.069375,1.012898,.096678,1.064265,-.060807,1.011635,.08435,1.077188,-.052052,1.010095,.071964,1.088637,-.043304,1.008399,.059531,1.098766,-.034458,1.006397,.047134,1.107697,-.025637,1.004354,.034887,1.116055,-.016932,1.002611,.022948,1.123819,-.008437,1.001023,.011386,1.131333,87e-6,.999952,-97e-6,2e-4,-62e-6,1.095622,.308458,504e-6,-155e-6,1.094863,.308458,.002016,-622e-6,1.095169,.308458,.004535,-.001399,1.095156,.308458,.008063,-.002487,1.095413,.308455,.012598,-.003886,1.095147,.308458,.018141,-.005596,1.09515,.308457,.024692,-.007616,1.09514,.308457,.032252,-.009947,1.095098,.308456,.040822,-.012589,1.095096,.308453,.050399,-.015541,1.09507,.308451,.060985,-.018803,1.094922,.308448,.072583,-.022375,1.094902,.308444,.085197,-.026258,1.094882,.308438,.098822,-.030448,1.094775,.308429,.11346,-.034944,1.094641,.308419,.129112,-.039731,1.09453,.308403,.145711,-.04461,1.094332,.308365,.163178,-.049362,1.094149,.308285,.181679,-.054666,1.093876,.30821,.201109,-.060336,1.093603,.308132,.221388,-.066414,1.09325,.308047,.242315,-.072881,1.092835,.307985,.263651,-.079453,1.092391,.307902,.28672,-.085882,1.091866,.307688,.310817,-.092274,1.091225,.307379,.335562,-.098306,1.090346,.306906,.361043,-.104572,1.089423,.306374,.387051,-.110843,1.088437,.30571,.413405,-.117062,1.087228,.304906,.440122,-.123501,1.085879,.304017,.467522,-.129245,1.084197,.302783,.495721,-.134285,1.082284,.301104,.523925,-.139143,1.080109,.299142,.551814,-.143638,1.077043,.296825,.579878,-.147774,1.074071,.294071,.608316,-.150724,1.070621,.290519,.636059,-.153168,1.06639,.286424,.663481,-.155139,1.062069,.281559,.690753,-.155944,1.057211,.276024,.717767,-.156176,1.052682,.269622,.743937,-.155783,1.047747,.262532,.770214,-.154245,1.04351,.254609,.795542,-.152192,1.039121,.246007,.821099,-.149256,1.035962,.236663,.845452,-.145605,1.03232,.226751,.86978,-.141186,1.02939,.216165,.893141,-.136137,1.026485,.204937,.916034,-.130332,1.024389,.193624,.938089,-.12404,1.02227,.181756,.959488,-.117011,1.020457,.169339,.979594,-.109617,1.018871,.156875,.998912,-.101562,1.017533,.144288,1.0171,-.093164,1.016445,.13137,1.034413,-.084488,1.015453,.118322,1.050347,-.075377,1.014259,.104963,1.064958,-.066108,1.013057,.091722,1.078045,-.056702,1.011491,.078231,1.089749,-.047106,1.009662,.064797,1.099831,-.037467,1.007417,.051315,1.108789,-.02799,1.005144,.038064,1.116865,-.018464,1.002925,.025008,1.124609,-.009068,1.001221,.01225,1.13204,93e-6,.999984,-71e-6,2e-4,-67e-6,1.112554,.335981,504e-6,-169e-6,1.11266,.335981,.002016,-677e-6,1.112827,.335981,.004533,-.001523,1.112147,.335982,.008063,-.002709,1.112882,.335979,.012598,-.004233,1.112891,.33598,.018141,-.006095,1.112882,.33598,.024693,-.008296,1.112877,.335978,.032252,-.010834,1.11286,.335976,.040824,-.013713,1.112965,.335974,.050398,-.016927,1.112753,.335971,.060991,-.020482,1.112826,.33597,.072587,-.024371,1.112676,.335962,.085199,-.028597,1.112593,.335955,.098822,-.033159,1.112453,.335943,.113461,-.038052,1.112329,.33593,.129108,-.043255,1.112144,.33591,.145665,-.048412,1.111905,.335857,.163185,-.053786,1.111668,.335781,.18171,-.059608,1.111345,.335696,.201166,-.065794,1.110979,.335606,.221489,-.072361,1.110553,.335505,.242471,-.079184,1.110112,.335396,.2639,-.086213,1.109584,.335271,.286688,-.093491,1.108927,.335089,.310773,-.100406,1.108091,.334737,.335573,-.106987,1.107169,.334208,.361117,-.113844,1.106097,.3336,.387175,-.120463,1.104826,.332828,.413665,-.127245,1.103415,.331929,.440386,-.133927,1.101632,.330851,.467527,-.140496,1.099563,.329538,.49563,-.145874,1.096956,.327618,.523864,-.150997,1.094201,.32539,.551705,-.155713,1.090342,.322688,.579383,-.159993,1.08601,.319483,.607301,-.163238,1.081226,.315522,.634873,-.165667,1.076065,.31084,.662028,-.167606,1.070466,.305377,.688755,-.168626,1.064601,.299056,.715612,-.168578,1.059269,.291963,.741604,-.167961,1.053648,.284018,.767757,-.166439,1.048928,.275474,.793264,-.164023,1.044343,.266056,.818165,-.160965,1.039909,.25575,.843255,-.156896,1.03618,.244843,.867249,-.152262,1.032303,.233464,.890994,-.146655,1.029365,.221128,.913829,-.140574,1.026607,.208554,.936508,-.13364,1.024512,.195772,.95772,-.12622,1.022421,.18242,.97894,-.118164,1.021293,.168852,.998285,-.109558,1.019444,.155261,1.016764,-.100562,1.017825,.141395,1.034387,-.091064,1.016996,.127311,1.050916,-.081468,1.015945,.113089,1.065652,-.071463,1.014547,.098879,1.079155,-.06124,1.013066,.084468,1.090822,-.05098,1.010788,.06994,1.1011,-.040549,1.008563,.055475,1.109824,-.030101,1.00595,.041033,1.117828,-.019884,1.003453,.027022,1.125443,-.0099,1.001484,.013306,1.132869,94e-6,1.000004,-46e-6,2e-4,-73e-6,1.132849,.36397,504e-6,-183e-6,1.132155,.363969,.002016,-734e-6,1.132516,.363969,.004535,-.001651,1.132256,.363969,.008062,-.002934,1.132318,.363966,.012597,-.004585,1.132386,.363968,.018141,-.006602,1.132457,.363967,.024693,-.008987,1.132511,.363967,.032252,-.011737,1.132488,.363965,.040819,-.014853,1.132241,.363959,.050398,-.018336,1.132372,.363958,.060988,-.022185,1.132373,.363954,.072582,-.026396,1.132137,.363943,.085195,-.030973,1.132071,.363935,.098822,-.035913,1.131978,.363922,.113461,-.041209,1.131801,.363905,.129116,-.046833,1.131535,.363867,.14564,-.052346,1.13129,.363814,.163199,-.058275,1.131046,.363734,.181742,-.064623,1.130671,.363642,.201227,-.071336,1.130224,.363539,.221587,-.078396,1.129758,.363419,.242625,-.085545,1.129213,.363256,.264183,-.09311,1.128549,.363097,.286668,-.101206,1.127767,.362939,.310745,-.108586,1.126796,.362516,.335602,-.115827,1.125686,.361953,.361202,-.123212,1.124451,.361275,.387298,-.130294,1.122861,.360376,.413918,-.137553,1.121154,.359362,.44068,-.144577,1.118825,.358069,.467667,-.151558,1.116002,.356581,.495449,-.157621,1.112778,.354531,.523514,-.162844,1.108842,.351915,.55125,-.167744,1.104075,.348797,.578629,-.172132,1.098733,.345222,.605757,-.175733,1.092224,.340665,.633392,-.178109,1.086201,.335286,.660783,-.180009,1.08011,.329286,.687219,-.181105,1.073419,.322319,.713873,-.181046,1.06741,.314616,.740094,-.180219,1.061414,.306014,.765233,-.178559,1.055287,.296704,.790885,-.175806,1.049727,.286394,.815464,-.172354,1.044519,.275189,.840259,-.168048,1.040375,.263441,.864285,-.162904,1.03601,.250918,.888806,-.157194,1.033525,.237611,.911682,-.150486,1.02949,.223809,.934481,-.143212,1.026778,.209705,.956337,-.135233,1.024632,.195281,.97738,-.12665,1.022737,.180878,.997427,-.117552,1.02111,.166112,1.016666,-.107814,1.019869,.151231,1.034337,-.097814,1.018543,.136375,1.051082,-.08733,1.017476,.121187,1.066326,-.076614,1.016083,.106043,1.079897,-.065793,1.014227,.090566,1.092136,-.054654,1.012334,.074988,1.102315,-.043516,1.009627,.059577,1.111105,-.032509,1.006808,.044202,1.118861,-.021381,1.003917,.028995,1.126363,-.010489,1.00167,.014269,1.133598,83e-6,.999989,-35e-6,2e-4,-79e-6,1.155026,.39247,504e-6,-198e-6,1.154184,.392469,.002016,-791e-6,1.15399,.392469,.004535,-.00178,1.154045,.392469,.008063,-.003164,1.154007,.392466,.012598,-.004944,1.154022,.392469,.018141,-.007119,1.154015,.392468,.024692,-.00969,1.154017,.392466,.032254,-.012656,1.154069,.392465,.040826,-.016018,1.15398,.392459,.050399,-.019771,1.153911,.392456,.060987,-.023919,1.15386,.392447,.072588,-.028461,1.153777,.392442,.085197,-.033393,1.153582,.392428,.098822,-.038716,1.153434,.392412,.113462,-.044422,1.153271,.39239,.129101,-.050455,1.153019,.392359,.145642,-.056392,1.152721,.392283,.163223,-.062859,1.152404,.392201,.181779,-.069721,1.151941,.392099,.201289,-.076968,1.151422,.391978,.221678,-.084518,1.150861,.391833,.242752,-.092017,1.150156,.391618,.264474,-.100184,1.149402,.391421,.286768,-.108921,1.148545,.391249,.310719,-.116815,1.147388,.390773,.335638,-.124785,1.146042,.390168,.36124,-.13263,1.144529,.389394,.387443,-.140298,1.142602,.388391,.414067,-.147913,1.140361,.387199,.440904,-.155362,1.137612,.385742,.467771,-.162574,1.133659,.383926,.494907,-.169312,1.129246,.381715,.522801,-.174778,1.124228,.378678,.550751,-.179824,1.118697,.375158,.578018,-.184284,1.112019,.370851,.605291,-.188215,1.105151,.365928,.632269,-.19076,1.097677,.360114,.659432,-.192457,1.090816,.353498,.685839,-.193458,1.083286,.346094,.711876,-.193502,1.076245,.337754,.738184,-.192371,1.069684,.328412,.763723,-.190531,1.063249,.318164,.789192,-.187726,1.057265,.3069,.813744,-.183783,1.051177,.295021,.838408,-.179328,1.045902,.282144,.862116,-.173573,1.040853,.268438,.885636,-.16735,1.036515,.254108,.909342,-.160229,1.033269,.239082,.931962,-.152529,1.029627,.224024,.954671,-.14408,1.027507,.208393,.975707,-.135023,1.024657,.19263,.996644,-.125258,1.022998,.176741,1.015817,-.115089,1.021234,.160926,1.034301,-.104317,1.020025,.145042,1.051131,-.093218,1.018739,.129052,1.066836,-.081828,1.017419,.112905,1.081027,-.070132,1.015714,.096578,1.093225,-.058382,1.013465,.080077,1.103691,-.046527,1.010853,.06358,1.112431,-.034624,1.007702,.047118,1.120035,-.022913,1.004551,.031018,1.127336,-.011284,1.001924,.015283,1.13451,17e-5,.999937,-58e-6,2e-4,-84e-6,1.177044,.421534,504e-6,-212e-6,1.177312,.421533,.002016,-85e-5,1.17773,.421533,.004535,-.001912,1.177722,.421533,.008063,-.003399,1.177844,.421529,.012598,-.00531,1.177768,.421533,.018141,-.007646,1.17773,.421531,.024692,-.010407,1.177663,.42153,.032252,-.013592,1.177681,.421527,.040821,-.017201,1.177562,.421524,.050401,-.021234,1.177445,.421516,.060988,-.025688,1.177461,.421509,.07259,-.030565,1.177364,.421498,.0852,-.03586,1.177205,.421482,.098823,-.041572,1.177011,.421462,.113465,-.047694,1.176794,.421436,.129094,-.054122,1.176504,.421396,.145652,-.06053,1.176203,.421311,.163245,-.067517,1.175805,.421218,.181825,-.074919,1.175271,.421108,.20136,-.0827,1.174717,.420974,.221773,-.090727,1.174021,.420795,.242908,-.098719,1.173173,.420536,.264742,-.107417,1.172285,.420296,.287091,-.116601,1.171326,.420065,.310723,-.125265,1.169907,.419582,.335685,-.133876,1.168352,.418912,.361285,-.14214,1.166322,.418006,.387562,-.150436,1.164136,.416899,.414175,-.158388,1.161162,.415513,.441021,-.166258,1.157608,.413836,.467698,-.17372,1.152519,.411702,.49473,-.180843,1.14702,.409102,.522524,-.186906,1.141256,.405789,.550055,-.192004,1.134114,.401759,.577512,-.196588,1.127086,.397153,.604348,-.20042,1.119029,.391767,.63097,-.20332,1.110308,.385573,.658023,-.204883,1.102643,.378245,.684422,-.205716,1.094573,.370191,.710405,-.205767,1.086405,.361231,.736417,-.204513,1.078712,.351106,.761836,-.202281,1.071619,.340096,.78714,-.199395,1.064873,.328139,.812197,-.195185,1.058313,.315044,.836342,-.190191,1.052085,.300933,.860311,-.184343,1.046705,.286411,.883597,-.177415,1.041072,.270897,.906852,-.170003,1.036797,.254825,.929991,-.161592,1.033264,.238176,.952478,-.152792,1.03025,.221581,.974216,-.143032,1.027331,.204378,.995372,-.132922,1.025135,.18747,1.01533,-.122009,1.02325,.170538,1.03407,-.11074,1.022021,.153777,1.051295,-.099016,1.020271,.136916,1.06746,-.08692,1.018948,.11988,1.082022,-.074729,1.017336,.102565,1.094378,-.062036,1.01482,.084994,1.104998,-.049413,1.011999,.06765,1.113773,-.036812,1.008711,.050148,1.121263,-.024274,1.005141,.032976,1.12842,-.012038,1.002196,.016239,1.135496,106e-6,1.000042,-62e-6,2e-4,-9e-5,1.203048,.451217,504e-6,-227e-6,1.203226,.451215,.002016,-909e-6,1.20345,.451215,.004535,-.002046,1.203569,.451215,.008062,-.003638,1.203609,.451209,.012598,-.005684,1.20358,.451214,.018141,-.008185,1.203515,.451212,.024694,-.011141,1.203618,.451211,.032253,-.014549,1.203609,.451207,.040815,-.018409,1.203302,.451203,.050401,-.022727,1.203454,.451195,.06099,-.027495,1.20348,.451188,.072591,-.032713,1.20322,.451172,.085203,-.038378,1.203058,.451154,.098829,-.044489,1.202838,.45113,.113466,-.051031,1.20253,.451098,.129084,-.057808,1.20227,.451041,.145669,-.064769,1.201904,.450956,.163278,-.072278,1.201411,.450853,.18188,-.080224,1.200825,.450721,.201436,-.088537,1.200164,.450566,.221865,-.097009,1.199335,.450351,.243083,-.105591,1.198383,.450062,.265033,-.114818,1.19738,.449769,.287456,-.124372,1.196137,.449438,.310758,-.133892,1.194554,.448974,.335721,-.143052,1.192649,.448216,.361348,-.151868,1.190233,.447202,.387573,-.160644,1.187211,.445926,.414159,-.169028,1.183452,.444313,.44095,-.177169,1.178562,.442315,.467998,-.18509,1.17354,.43996,.494566,-.192396,1.166344,.436989,.52173,-.198915,1.159283,.433439,.549405,-.20424,1.151503,.428984,.576755,-.208861,1.143004,.423839,.603635,-.212734,1.134099,.418012,.629979,-.215712,1.124555,.411445,.656597,-.217385,1.115293,.403628,.683317,-.218093,1.10646,.394639,.70899,-.217835,1.097389,.385012,.734898,-.216774,1.08894,.373999,.760342,-.21412,1.080385,.362128,.785517,-.210821,1.072959,.349184,.809933,-.206443,1.06545,.33508,.834339,-.200942,1.058701,.320257,.858793,-.194938,1.052711,.304133,.8823,-.187615,1.047044,.287771,.90556,-.179626,1.042083,.270571,.927916,-.170753,1.037077,.252741,.950415,-.16127,1.0332,.234656,.97292,-.151239,1.030418,.216652,.993893,-.140358,1.027479,.198252,1.014204,-.128963,1.024897,.180113,1.033878,-.117128,1.023648,.162282,1.051754,-.104678,1.02223,.144366,1.067924,-.092,1.020453,.126455,1.082643,-.078837,1.018518,.108194,1.095503,-.065669,1.016199,.089966,1.10629,-.052345,1.013113,.07153,1.115219,-.039024,1.009636,.053158,1.122587,-.025789,1.005801,.034959,1.129461,-.012622,1.002442,.017222,1.136468,152e-6,.999964,-65e-6,2e-4,-96e-6,1.231156,.481574,504e-6,-243e-6,1.232187,.481572,.002016,-971e-6,1.231948,.481572,.004535,-.002184,1.231919,.481572,.008061,-.003882,1.231453,.481566,.012597,-.006066,1.2318,.481572,.018142,-.008736,1.231756,.481569,.024693,-.011889,1.232062,.48157,.032254,-.015528,1.231915,.481563,.040822,-.01965,1.231863,.481559,.050402,-.024255,1.231737,.48155,.060992,-.029342,1.231678,.481537,.072592,-.034908,1.231537,.481521,.085207,-.040953,1.231336,.481499,.098834,-.047469,1.231071,.481469,.113474,-.054441,1.230757,.481431,.129077,-.061556,1.230424,.481359,.145691,-.069091,1.230022,.481269,.163321,-.077151,1.229461,.481156,.181936,-.085636,1.228718,.481011,.201516,-.094484,1.228023,.48083,.221963,-.103362,1.227057,.480562,.243264,-.112628,1.225997,.480247,.265291,-.122366,1.224744,.479891,.287824,-.132256,1.223255,.479461,.310927,-.142614,1.221348,.478978,.335749,-.152326,1.218953,.478132,.361361,-.161747,1.215806,.476971,.38748,-.170879,1.211853,.475477,.414231,-.179865,1.207783,.473686,.441065,-.188331,1.202051,.471415,.467923,-.196454,1.195463,.468647,.494526,-.204048,1.187542,.465459,.521318,-.21102,1.179235,.46165,.548654,-.21652,1.17011,.456868,.575778,-.221098,1.160163,.451227,.60261,-.224923,1.149751,.444866,.628891,-.227895,1.139169,.437577,.655635,-.23002,1.129736,.429369,.682115,-.230419,1.119516,.419673,.707514,-.229789,1.108277,.409143,.733169,-.22852,1.099159,.397296,.758342,-.225793,1.089839,.384578,.783477,-.222049,1.081428,.370323,.808497,-.217562,1.073742,.355253,.83279,-.211697,1.06585,.339282,.856677,-.204989,1.058834,.322181,.880662,-.197653,1.053291,.30461,.903474,-.188858,1.046822,.286042,.926313,-.179746,1.041663,.267224,.948458,-.169542,1.036532,.247978,.970873,-.159005,1.033008,.228535,.992958,-.147658,1.029844,.208819,1.013413,-.135771,1.02693,.189486,1.033483,-.123256,1.025545,.170422,1.051872,-.110401,1.023935,.152075,1.068396,-.09686,1.022092,.133169,1.083731,-.083259,1.020221,.114022,1.096849,-.069266,1.017663,.094772,1.107864,-.055203,1.014524,.075432,1.1166,-.041097,1.010514,.05598,1.123871,-.027083,1.006313,.036839,1.130718,-.01351,1.002778,.018156,1.137649,154e-6,1.000033,-28e-6,2e-4,-103e-6,1.264025,.51267,504e-6,-258e-6,1.262437,.512667,.002016,-.001033,1.262691,.512668,.004535,-.002325,1.262834,.512667,.008063,-.004133,1.262783,.512659,.012598,-.006458,1.262803,.512666,.018141,-.009299,1.26272,.512665,.024683,-.012652,1.262061,.512655,.032257,-.016532,1.262858,.512656,.040826,-.020919,1.262709,.512649,.050403,-.02582,1.262685,.512639,.060993,-.031233,1.262544,.512625,.072597,-.037157,1.262435,.512607,.085211,-.043587,1.262209,.512581,.098842,-.05052,1.261907,.512544,.113484,-.057926,1.261575,.5125,.129097,-.06546,1.261293,.51242,.145727,-.073543,1.260736,.512316,.163375,-.082134,1.260117,.51219,.182011,-.091173,1.259299,.512024,.201598,-.10054,1.258381,.51181,.222084,-.109931,1.257293,.511505,.243446,-.119838,1.25605,.511151,.265574,-.13009,1.254607,.510724,.28823,-.140421,1.252808,.510191,.311336,-.151343,1.250489,.509627,.335719,-.161689,1.247279,.508688,.361314,-.171748,1.243467,.507393,.387541,-.181399,1.239145,.505758,.414204,-.190768,1.23376,.503676,.441092,-.199659,1.227433,.501129,.467789,-.207934,1.219247,.498078,.494454,-.215747,1.210441,.49463,.52095,-.222869,1.200559,.490467,.547802,-.228881,1.189872,.485444,.575563,-.23376,1.180081,.479268,.602426,-.237566,1.168544,.472272,.628772,-.240447,1.156546,.46439,.654963,-.242427,1.145123,.455345,.681384,-.24298,1.134322,.444885,.707173,-.24215,1.122665,.433338,.732477,-.240435,1.111733,.420647,.757567,-.237806,1.101271,.406799,.782341,-.233503,1.091341,.391761,.80669,-.228346,1.082042,.375576,.830804,-.222386,1.073504,.358545,.85494,-.215141,1.06588,.340431,.878709,-.207207,1.05885,.32169,.901928,-.198273,1.052588,.30193,.924845,-.188476,1.046521,.281513,.946932,-.177996,1.040966,.261234,.969256,-.166644,1.03667,.240356,.991323,-.154968,1.032694,.219748,1.013013,-.142425,1.030061,.199103,1.032845,-.129456,1.027254,.178936,1.051887,-.115763,1.025497,.159243,1.069179,-.101851,1.023807,.13956,1.084499,-.087357,1.021441,.119607,1.097921,-.072796,1.01878,.099501,1.109281,-.058037,1.015566,.079211,1.118194,-.043226,1.011494,.058873,1.125351,-.028633,1.007089,.038736,1.132002,-.013996,1.003014,.019063,1.138951,132e-6,1.000036,-7e-6,2e-4,-109e-6,1.296791,.544571,504e-6,-274e-6,1.296055,.544568,.002016,-.001098,1.297239,.544568,.004535,-.00247,1.2966,.544568,.008062,-.00439,1.296368,.544559,.012597,-.00686,1.296454,.544566,.018141,-.009878,1.296522,.544565,.024693,-.013444,1.296536,.54456,.032256,-.017559,1.296638,.544557,.040824,-.022218,1.296491,.544547,.050408,-.027426,1.296552,.544532,.060997,-.033173,1.296283,.544518,.0726,-.039463,1.296113,.544496,.08522,-.046292,1.295894,.544466,.098851,-.053648,1.295545,.544422,.113496,-.061487,1.295201,.544371,.129112,-.069467,1.294754,.544273,.145765,-.078092,1.294209,.54416,.163431,-.087231,1.293534,.544017,.182088,-.096837,1.29258,.543828,.201698,-.106713,1.291586,.543585,.222231,-.116699,1.290325,.543238,.243653,-.127208,1.288888,.542836,.265855,-.137949,1.287131,.542329,.288623,-.148847,1.284936,.5417,.31183,-.160204,1.282109,.540997,.335728,-.171324,1.278036,.540045,.361403,-.181915,1.273912,.538603,.387647,-.192124,1.268881,.536741,.414217,-.201807,1.262363,.534432,.44109,-.211093,1.254755,.531623,.467823,-.219678,1.245456,.528314,.494361,-.227581,1.234953,.524391,.521264,-.235087,1.224839,.519902,.547881,-.241508,1.213175,.514574,.574965,-.246315,1.200505,.507837,.601847,-.250061,1.187901,.500286,.628207,-.252822,1.174601,.491502,.654445,-.254691,1.161944,.481726,.680175,-.255318,1.149305,.470727,.706168,-.254257,1.136708,.458045,.731458,-.2521,1.124047,.444438,.756378,-.249115,1.112942,.429611,.781311,-.244899,1.1018,.413501,.805755,-.239225,1.091662,.395889,.829867,-.23283,1.082291,.37786,.853067,-.225193,1.07282,.358704,.877084,-.216648,1.065415,.338413,.900123,-.20739,1.058403,.317596,.92337,-.197095,1.051412,.296301,.946021,-.186084,1.045877,.274498,.967669,-.174262,1.040316,.252565,.989761,-.161814,1.035489,.230312,1.012163,-.149076,1.03254,.208746,1.032547,-.135299,1.029598,.18718,1.052032,-.121277,1.027355,.166482,1.069907,-.106582,1.025622,.145939,1.085563,-.091589,1.023244,.125362,1.099447,-.076263,1.020661,.104087,1.110848,-.060825,1.017035,.083036,1.119923,-.045319,1.012675,.061719,1.126805,-.029852,1.007668,.040583,1.133282,-.014846,1.003335,.019969,1.140128,149e-6,1.000024,-37e-6,2e-4,-116e-6,1.334863,.57735,504e-6,-291e-6,1.33335,.577348,.002015,-.001164,1.332853,.577347,.004535,-.002618,1.333295,.577347,.008062,-.004655,1.333189,.577336,.012598,-.007273,1.333309,.577345,.018141,-.010472,1.333274,.577342,.024694,-.014253,1.333231,.577339,.032254,-.018614,1.333265,.577332,.040827,-.023556,1.333261,.577321,.0504,-.029069,1.332893,.577309,.061,-.035166,1.332998,.577288,.072608,-.041833,1.332901,.577263,.085227,-.049067,1.332603,.577226,.098864,-.05686,1.332264,.577177,.113507,-.065114,1.331825,.577109,.129146,-.07361,1.331311,.577005,.145808,-.082766,1.330639,.576872,.163494,-.092458,1.329878,.576709,.182176,-.102639,1.328889,.576501,.201804,-.112983,1.32771,.576207,.222394,-.12365,1.326256,.575823,.243881,-.13478,1.324593,.575363,.266122,-.145931,1.322426,.574751,.289043,-.1575,1.319837,.574033,.31233,-.169208,1.316301,.573181,.33612,-.181125,1.312251,.572188,.361506,-.192232,1.307003,.570631,.387757,-.202981,1.301068,.568558,.414365,-.21316,1.293695,.566027,.440986,-.222617,1.283958,.562942,.467943,-.231583,1.274057,.559219,.494821,-.239881,1.262864,.554913,.521486,-.247336,1.250633,.549953,.547884,-.253921,1.237448,.544251,.574582,-.259099,1.223164,.53712,.601342,-.262695,1.208784,.52865,.627861,-.265337,1.194424,.518978,.653745,-.266872,1.179361,.508525,.679348,-.267403,1.16501,.496705,.705068,-.266429,1.151693,.482926,.730312,-.263829,1.137584,.468519,.755576,-.260491,1.125328,.452213,.780371,-.256166,1.113759,.435127,.804632,-.250079,1.101656,.416833,.828983,-.243181,1.091235,.397009,.852585,-.235383,1.081475,.376647,.875237,-.226031,1.071806,.355506,.899152,-.216343,1.064453,.333133,.922121,-.205772,1.057161,.311073,.944523,-.19398,1.050447,.287781,.967313,-.18192,1.044531,.26435,.989042,-.168822,1.039312,.241128,1.010881,-.15535,1.035298,.218138,1.032368,-.141231,1.032073,.195579,1.052254,-.126521,1.029395,.173399,1.070207,-.111243,1.026938,.151866,1.086528,-.095617,1.024957,.130711,1.10067,-.079687,1.021924,.108865,1.112461,-.063593,1.018281,.08676,1.121588,-.047313,1.013747,.064575,1.128522,-.031385,1.008433,.042499,1.134759,-.015356,1.003569,.02084,1.141448,114e-6,.999978,-56e-6,2e-4,-122e-6,1.372763,.611086,503e-6,-308e-6,1.371456,.611084,.002016,-.001232,1.37344,.611084,.004535,-.002771,1.373387,.611083,.008061,-.004926,1.372916,.611083,.012601,-.0077,1.373956,.611084,.018142,-.011084,1.373419,.611078,.024695,-.015087,1.373492,.611074,.032255,-.019701,1.37336,.611066,.040827,-.02493,1.373327,.611055,.050408,-.030769,1.373222,.611037,.061004,-.037217,1.373079,.611014,.072613,-.04427,1.372895,.610982,.085238,-.051923,1.372624,.610941,.098878,-.060161,1.372252,.610883,.113522,-.068785,1.371785,.610798,.129176,-.077863,1.371103,.610683,.145876,-.087593,1.370541,.610537,.16357,-.097847,1.369496,.610349,.182283,-.108592,1.368477,.610109,.20193,-.11942,1.36698,.609763,.22257,-.130789,1.365375,.609343,.244123,-.142514,1.363456,.608815,.266437,-.154232,1.360916,.608114,.289467,-.16637,1.357909,.607291,.312861,-.178505,1.353588,.606272,.336736,-.19098,1.349211,.605153,.36174,-.202859,1.343319,.603548,.387878,-.213997,1.335908,.601268,.414357,-.224584,1.326676,.598499,.441442,-.234664,1.317331,.595066,.468409,-.243875,1.305818,.590996,.494999,-.252121,1.291863,.586293,.52173,-.259714,1.278212,.58084,.547894,-.266242,1.262656,.574494,.573865,-.271578,1.246364,.567007,.601124,-.275503,1.231274,.557771,.627606,-.277954,1.215252,.547255,.654004,-.279404,1.199977,.535766,.679554,-.279632,1.183995,.522792,.70428,-.278457,1.167428,.508488,.72983,-.275706,1.15276,.492425,.754376,-.27164,1.137942,.475285,.779209,-.266911,1.125222,.456679,.803562,-.260838,1.112179,.437267,.827985,-.253353,1.101439,.416227,.851737,-.245027,1.08989,.394728,.87485,-.235719,1.080018,.372244,.89768,-.225051,1.070807,.348846,.921351,-.214051,1.06318,.324961,.943818,-.202039,1.056148,.300836,.966368,-.189134,1.049277,.276333,.987426,-.175613,1.042176,.251862,1.010162,-.161473,1.038567,.227217,1.031224,-.146866,1.034102,.203582,1.052317,-.131644,1.0316,.180629,1.070879,-.115909,1.028913,.158165,1.087407,-.099638,1.026193,.135905,1.102159,-.083091,1.023567,.113394,1.114006,-.066178,1.019567,.090325,1.123374,-.04943,1.014856,.067302,1.13031,-.032557,1.009141,.044264,1.136334,-.016157,1.003984,.021807,1.142961,172e-6,.999951,-77e-6,2e-4,-129e-6,1.416584,.645866,504e-6,-326e-6,1.417762,.645865,.002016,-.001302,1.417825,.645866,.004535,-.002929,1.417142,.645865,.008062,-.005207,1.416968,.645864,.012598,-.008136,1.417109,.645862,.018141,-.011715,1.417001,.645859,.02469,-.015941,1.416878,.645853,.032257,-.020823,1.417134,.645843,.040827,-.026347,1.416983,.645829,.050411,-.032518,1.416949,.645808,.061007,-.03933,1.416694,.645781,.072621,-.046783,1.416599,.645746,.085249,-.054865,1.416241,.645695,.098897,-.063563,1.415832,.64563,.113546,-.072607,1.415264,.645529,.12922,-.082257,1.414482,.645396,.145888,-.092515,1.413626,.645268,.163659,-.103393,1.41271,.645018,.182385,-.114684,1.411418,.644739,.202078,-.126098,1.409822,.644348,.222772,-.138145,1.407948,.643872,.24437,-.150405,1.405678,.643255,.266787,-.162798,1.402763,.642463,.289844,-.175434,1.398863,.641504,.31354,-.188158,1.394695,.640346,.337489,-.201014,1.389376,.639042,.362008,-.213719,1.382439,.637412,.38799,-.225248,1.373281,.63493,.414728,-.236348,1.363729,.631861,.441635,-.246701,1.352304,.628155,.468588,-.256167,1.339162,.623625,.495337,-.264662,1.323811,.618458,.521886,-.272207,1.30763,.612373,.548355,-.27889,1.291265,.605263,.574535,-.284442,1.273752,.597048,.60087,-.288389,1.256171,.587401,.627715,-.290816,1.238447,.576001,.65383,-.291886,1.221036,.563198,.679175,-.291629,1.202283,.549249,.704539,-.290489,1.185866,.533881,.729126,-.287529,1.168822,.516966,.754297,-.283184,1.152934,.498501,.778678,-.277732,1.137821,.478728,.802473,-.271203,1.123387,.457814,.826596,-.263494,1.110573,.435865,.850835,-.254572,1.099099,.412597,.874203,-.244815,1.088403,.388995,.897271,-.233993,1.078085,.364487,.919667,-.221934,1.068543,.339344,.943001,-.209714,1.061081,.31377,.965688,-.196367,1.054023,.287928,.987598,-.182263,1.047247,.262157,1.00928,-.167775,1.041376,.236855,1.031762,-.15253,1.037647,.211847,1.051965,-.136809,1.033396,.187546,1.071699,-.120418,1.031021,.164186,1.088881,-.103618,1.028403,.141184,1.103482,-.086271,1.024987,.117665,1.115646,-.068973,1.020884,.093896,1.125258,-.051285,1.015966,.069978,1.132045,-.033998,1.00999,.046126,1.138004,-.016696,1.00427,.022635,1.144463,89e-6,.999987,-16e-6,2e-4,-136e-6,1.463614,.681786,504e-6,-344e-6,1.465345,.681785,.002015,-.001374,1.464172,.681783,.004535,-.003092,1.464846,.681784,.008062,-.005496,1.464783,.681784,.012598,-.008588,1.464883,.681781,.018141,-.012366,1.46474,.681777,.024692,-.016829,1.464665,.68177,.032258,-.02198,1.46472,.68176,.040829,-.027811,1.464625,.681742,.050415,-.034324,1.464571,.68172,.061013,-.041513,1.464346,.681688,.072628,-.049375,1.464131,.681644,.085264,-.057903,1.463847,.681588,.098918,-.067067,1.463369,.681509,.113568,-.07657,1.462549,.681389,.129265,-.086782,1.461703,.681239,.145997,-.097637,1.46084,.681047,.163751,-.109101,1.459737,.680806,.182505,-.120922,1.458231,.68048,.202241,-.133007,1.456393,.680042,.222987,-.145693,1.454258,.679503,.244638,-.158488,1.451543,.678792,.267132,-.171585,1.448115,.677907,.290365,-.184746,1.443992,.676796,.314178,-.198101,1.439271,.675498,.338289,-.21137,1.43283,.673922,.362543,-.224489,1.424163,.672151,.38847,-.236914,1.41516,.669601,.415105,-.248342,1.403811,.666255,.441925,-.258957,1.390149,.662166,.468668,-.268556,1.374104,.657229,.49572,-.277359,1.358102,.651347,.522574,-.285078,1.340754,.644598,.548981,-.291718,1.322033,.63682,.574946,-.297087,1.302148,.627812,.600744,-.301079,1.28213,.617485,.627565,-.303566,1.263339,.605047,.653598,-.30433,1.242712,.591167,.679239,-.30382,1.223212,.576025,.704043,-.302064,1.203763,.559649,.728796,-.299095,1.185434,.541271,.753581,-.294392,1.16763,.5218,.778577,-.288603,1.15193,.500628,.80255,-.281604,1.136072,.478434,.825803,-.273472,1.121673,.455384,.849768,-.264011,1.108491,.430811,.87325,-.253653,1.09655,.405524,.896725,-.242642,1.085905,.380038,.919158,-.230191,1.075091,.353482,.942236,-.217145,1.066848,.326605,.965031,-.203555,1.05931,.299842,.987048,-.188777,1.051749,.272859,1.008718,-.173613,1.044999,.24604,1.031097,-.157972,1.040066,.219826,1.052493,-.141589,1.035951,.194278,1.071773,-.124814,1.03252,.16983,1.089646,-.107321,1.029803,.146135,1.104932,-.089726,1.026612,.122127,1.117687,-.071433,1.022391,.097461,1.127188,-.053395,1.017113,.072556,1.13401,-.035151,1.010934,.047749,1.139746,-.017427,1.004633,.02353,1.146205,151e-6,1.00002,-106e-6,2e-4,-144e-6,1.517643,.718949,504e-6,-362e-6,1.516387,.718947,.002016,-.001449,1.516742,.718946,.004536,-.003261,1.517196,.718946,.008063,-.005796,1.516806,.718945,.012598,-.009057,1.516986,.718943,.01814,-.013039,1.516603,.718937,.024694,-.017747,1.516739,.718929,.03226,-.023178,1.516994,.718917,.040831,-.029325,1.516649,.718896,.050419,-.036192,1.516594,.71887,.061019,-.04377,1.516327,.718833,.072638,-.052056,1.516054,.718782,.085274,-.061039,1.515628,.718714,.098938,-.070676,1.515199,.718623,.113607,-.080679,1.514222,.718483,.129329,-.091485,1.513354,.718316,.146077,-.102931,1.512301,.718096,.163856,-.114986,1.510977,.717818,.18264,-.127305,1.509225,.717432,.202432,-.140147,1.507152,.716939,.223229,-.153468,1.50478,.716331,.244943,-.166875,1.501612,.715527,.267559,-.180658,1.497898,.714523,.290926,-.194405,1.493208,.713266,.314863,-.208302,1.487388,.711758,.339053,-.22202,1.479677,.709982,.363627,-.235683,1.47095,.707958,.388887,-.248723,1.459907,.705346,.415474,-.260563,1.446579,.701644,.442065,-.271352,1.429962,.697134,.469418,-.281541,1.414343,.691665,.496419,-.290429,1.395681,.685227,.523071,-.298032,1.375347,.677815,.549641,-.304679,1.354816,.669063,.575489,-.309902,1.332505,.659071,.601108,-.313771,1.309752,.647799,.627199,-.316225,1.288381,.634856,.653243,-.316679,1.265785,.619627,.67896,-.315816,1.244333,.603244,.704055,-.313776,1.223315,.585191,.728713,-.310417,1.203142,.565969,.753301,-.305786,1.184323,.545347,.77789,-.299262,1.16607,.522753,.802354,-.29183,1.149599,.499017,.826005,-.283281,1.133655,.474335,.84892,-.273512,1.118132,.449019,.872765,-.262525,1.105606,.422329,.89595,-.250769,1.093539,.395057,.918816,-.238257,1.082388,.367709,.941089,-.224381,1.072484,.33935,.964514,-.210289,1.064054,.311239,.987128,-.195488,1.056645,.283272,1.009064,-.179491,1.049549,.255163,1.030163,-.163172,1.042741,.227757,1.052502,-.146457,1.03827,.20097,1.072971,-.129054,1.035014,.175767,1.091223,-.111285,1.032231,.151118,1.106518,-.092617,1.028211,.126196,1.119235,-.074168,1.023686,.100828,1.129311,-.055212,1.018311,.07524,1.135983,-.036571,1.011485,.049558,1.141648,-.017954,1.004952,.024273,1.147938,125e-6,1.000009,-48e-6,199e-6,-151e-6,1.566887,.757466,504e-6,-382e-6,1.574111,.757466,.002016,-.001527,1.573735,.757466,.004535,-.003435,1.573737,.757466,.008062,-.006107,1.573782,.757464,.012599,-.009542,1.573796,.75746,.018142,-.013739,1.57371,.757455,.024694,-.018697,1.573562,.757446,.032259,-.024418,1.573667,.757429,.040834,-.030895,1.573555,.757407,.050422,-.038127,1.573383,.757376,.061025,-.046108,1.573086,.757332,.07265,-.054835,1.572833,.757274,.085296,-.064294,1.572395,.757195,.098962,-.074376,1.571729,.757087,.113649,-.084955,1.570571,.756925,.129389,-.096334,1.569582,.756729,.146167,-.108406,1.568444,.756481,.163973,-.121056,1.566905,.756158,.182798,-.13397,1.564939,.755715,.20265,-.147522,1.562666,.755167,.223502,-.161466,1.559877,.754465,.245269,-.175539,1.556008,.753552,.26801,-.189957,1.552013,.75242,.291474,-.204361,1.546509,.751008,.315527,-.218714,1.539575,.749266,.339954,-.233029,1.530968,.747232,.364649,-.247149,1.520994,.744906,.38952,-.260672,1.507748,.742123,.415717,-.272873,1.491777,.738187,.442862,-.284317,1.475658,.733189,.469939,-.294552,1.456572,.727165,.496916,-.303517,1.435237,.720043,.52348,-.311061,1.412192,.71164,.550092,-.317596,1.389033,.702174,.576384,-.322921,1.365086,.691225,.60228,-.326806,1.341317,.678841,.627676,-.329057,1.316518,.664815,.653458,-.329372,1.291877,.648548,.679227,-.328067,1.268126,.630676,.704476,-.325585,1.244424,.611585,.729232,-.321775,1.22301,.590803,.753405,-.316713,1.201297,.568653,.777274,-.309858,1.181071,.544763,.801882,-.301866,1.162826,.519747,.82603,-.292861,1.145704,.493531,.849359,-.282794,1.129629,.4669,.871837,-.271197,1.114155,.43923,.895896,-.258954,1.102334,.41057,.918951,-.245878,1.090163,.381314,.941148,-.231897,1.078738,.352268,.963464,-.216743,1.068862,.322688,.986628,-.201486,1.061077,.293523,1.009289,-.185521,1.053561,.264125,1.030659,-.168429,1.046627,.235706,1.052382,-.15121,1.040953,.208022,1.073476,-.133289,1.036534,.181245,1.092237,-.114768,1.03358,.155661,1.1082,-.095917,1.029997,.130223,1.121435,-.076492,1.025374,.104098,1.131382,-.057204,1.019485,.077776,1.137994,-.037747,1.012188,.05125,1.143441,-.018673,1.005309,.025245,1.149714,216e-6,1.000004,-12e-5,2e-4,-159e-6,1.633988,.797469,504e-6,-402e-6,1.636076,.797469,.002016,-.001607,1.635679,.797467,.004535,-.003617,1.63604,.797468,.008063,-.00643,1.636159,.797467,.012599,-.010046,1.636128,.797462,.018141,-.014464,1.63573,.797457,.024696,-.019685,1.635836,.797445,.032259,-.025705,1.635719,.797426,.040835,-.032523,1.63561,.797401,.050425,-.040135,1.63546,.797363,.061033,-.048536,1.635182,.797313,.072661,-.057718,1.634817,.797243,.085315,-.067666,1.634314,.79715,.098985,-.078179,1.63335,.797016,.113699,-.089383,1.632253,.796839,.129456,-.101364,1.631025,.796623,.146275,-.114081,1.629867,.796331,.164108,-.127318,1.628043,.795956,.182983,-.140901,1.625813,.795458,.202891,-.155174,1.623149,.794834,.223787,-.169654,1.619686,.794015,.245678,-.18454,1.615694,.793013,.268495,-.199543,1.610812,.791727,.292093,-.214639,1.604629,.790107,.316184,-.229499,1.596061,.788154,.340986,-.244407,1.587195,.785797,.365808,-.258907,1.575031,.783093,.390528,-.272746,1.559448,.77997,.41651,-.285845,1.543294,.775852,.443443,-.297404,1.523476,.770323,.470442,-.307757,1.501515,.763721,.497499,-.316846,1.477841,.755889,.524316,-.324561,1.452427,.746662,.551212,-.33106,1.427421,.736004,.577323,-.335956,1.400369,.72381,.602976,-.339501,1.373093,.710184,.628357,-.341577,1.345853,.695017,.653642,-.342031,1.31904,.677972,.67944,-.340342,1.29249,.658877,.704744,-.337356,1.267182,.638085,.729692,-.333042,1.24328,.615615,.75392,-.327504,1.219751,.592054,.777695,-.320537,1.197796,.566967,.801426,-.31188,1.176872,.540643,.825649,-.302211,1.15816,.512906,.849282,-.291665,1.141257,.484587,.872341,-.28005,1.125469,.455556,.89511,-.266978,1.110222,.425652,.918841,-.253326,1.097419,.395015,.941209,-.238899,1.086101,.364948,.963142,-.223523,1.075023,.334151,.985996,-.207346,1.065628,.303708,1.008718,-.190889,1.057256,.273008,1.030554,-.173517,1.04972,.243221,1.053085,-.155645,1.043837,.214426,1.074267,-.137472,1.039312,.187036,1.093591,-.118385,1.035457,.160512,1.10985,-.098883,1.03163,.134384,1.123516,-.07905,1.026762,.107424,1.133578,-.058977,1.02064,.080317,1.140289,-.039013,1.013096,.052944,1.14561,-.019228,1.005694,.025989,1.151704,105e-6,.999981,-19e-6,2e-4,-168e-6,1.704841,.839096,504e-6,-423e-6,1.704242,.839097,.002016,-.001691,1.703821,.839091,.004534,-.003805,1.703804,.839094,.008063,-.006765,1.704224,.839092,.012598,-.01057,1.704013,.839087,.018142,-.015219,1.703889,.839079,.024697,-.020712,1.704023,.839066,.032261,-.027046,1.703836,.839045,.040837,-.034218,1.703608,.839014,.050429,-.042224,1.703414,.838972,.061041,-.051061,1.703148,.838912,.072676,-.060717,1.702744,.838831,.08534,-.071175,1.702223,.838724,.099023,-.082182,1.700984,.838567,.113759,-.094007,1.699764,.838367,.129546,-.106621,1.698462,.838112,.146382,-.119956,1.696938,.837782,.16426,-.13376,1.694868,.837346,.183188,-.148108,1.692262,.83678,.203158,-.163075,1.689251,.836073,.224147,-.178255,1.685408,.835148,.246147,-.1939,1.680946,.833992,.269072,-.209553,1.675277,.832546,.292718,-.225226,1.667626,.830727,.317159,-.240836,1.658952,.82851,.341979,-.256103,1.647624,.825843,.366844,-.270887,1.633014,.82276,.392043,-.285324,1.617191,.819159,.417356,-.298817,1.597501,.814788,.444093,-.310711,1.575184,.808751,.471379,-.32141,1.55159,.801294,.498267,-.330421,1.524134,.792711,.525401,-.338331,1.496672,.78248,.551846,-.34443,1.467062,.770659,.578009,-.349047,1.436943,.757348,.604054,-.35249,1.407611,.742541,.629387,-.354158,1.377441,.726071,.654435,-.354422,1.347651,.707524,.679845,-.352663,1.318769,.687067,.704892,-.348994,1.2906,.664637,.729763,-.344105,1.263997,.640663,.754345,-.338129,1.239273,.615484,.778629,-.330905,1.215858,.58921,.801939,-.322113,1.192318,.56155,.825723,-.311673,1.17138,.532175,.849387,-.30041,1.152991,.502055,.872792,-.288328,1.136139,.471308,.895083,-.275087,1.119534,.440427,.918335,-.2607,1.105542,.40926,.941577,-.245717,1.09307,.377142,.963992,-.230079,1.081207,.345289,.98651,-.213523,1.071488,.313508,1.008806,-.196157,1.062011,.281962,1.030724,-.178467,1.05324,.251177,1.053782,-.160291,1.047057,.220986,1.075451,-.141308,1.041842,.192256,1.094947,-.121975,1.037704,.165023,1.111783,-.101744,1.0333,.138228,1.125525,-.081476,1.028234,.110679,1.135873,-.06077,1.021695,.082672,1.142478,-.040207,1.013838,.054506,1.147889,-.019908,1.006166,.026938,1.153852,204e-6,.999983,-123e-6,199e-6,-176e-6,1.771601,.882501,504e-6,-445e-6,1.779195,.882504,.002016,-.001779,1.779635,.882498,.004536,-.004003,1.779586,.882499,.008062,-.007115,1.778613,.882496,.012598,-.011116,1.778678,.882492,.018142,-.016005,1.778531,.882481,.024696,-.021782,1.778556,.882466,.032262,-.028444,1.778507,.882442,.040842,-.035987,1.778385,.882408,.050436,-.044404,1.778034,.882364,.061053,-.053695,1.777761,.882287,.072692,-.063842,1.777256,.88219,.085364,-.074821,1.776518,.882067,.099064,-.086368,1.77508,.881884,.113828,-.098805,1.773836,.881657,.129649,-.11209,1.77237,.881361,.146518,-.126067,1.770594,.880982,.16444,-.140493,1.768089,.880484,.183437,-.155646,1.765301,.879843,.203468,-.171266,1.761698,.879035,.224562,-.187231,1.757518,.877982,.246665,-.20354,1.752318,.876667,.269652,-.219916,1.745356,.875028,.293531,-.236255,1.737186,.872977,.318048,-.25241,1.726709,.870448,.342963,-.268192,1.713109,.8674,.368336,-.283587,1.698087,.863882,.393512,-.298186,1.678638,.859724,.418602,-.311882,1.655604,.854835,.44508,-.3245,1.63225,.848353,.472289,-.335295,1.605069,.840218,.499128,-.344256,1.573846,.830556,.525834,-.351716,1.54112,.819269,.553177,-.358241,1.511385,.806222,.57948,-.36264,1.477866,.791647,.605205,-.365513,1.444218,.775398,.630617,-.366822,1.410954,.757144,.65573,-.366785,1.37901,.737323,.680529,-.364904,1.34728,.715601,.7058,-.36099,1.316416,.691547,.73055,-.355397,1.286344,.666141,.75497,-.348664,1.258954,.638929,.779042,-.340774,1.232965,.611015,.802839,-.331767,1.209775,.581877,.825793,-.321054,1.185813,.551509,.849512,-.309016,1.16508,.519698,.87312,-.296369,1.147091,.487506,.895942,-.282704,1.129658,.45532,.917996,-.268007,1.113463,.422605,.941281,-.252329,1.10004,.389347,.964584,-.236203,1.087973,.35643,.986371,-.219209,1.075983,.323089,1.009522,-.201588,1.06694,.290806,1.031976,-.183296,1.057999,.258682,1.053461,-.164509,1.049542,.227722,1.076121,-.145165,1.043718,.197439,1.096597,-.125199,1.039607,.169578,1.113908,-.104921,1.035528,.142222,1.127939,-.083623,1.029807,.113802,1.138391,-.062589,1.023312,.085164,1.14511,-.041376,1.014806,.056186,1.150141,-.020433,1.006501,.027654,1.156069,97e-6,.999949,-46e-6,2e-4,-185e-6,1.858268,.927857,504e-6,-468e-6,1.861583,.927859,.002016,-.00187,1.860659,.927855,.004535,-.004208,1.860963,.927867,.008063,-.00748,1.860766,.927855,.012594,-.011683,1.859996,.927851,.018142,-.016828,1.860739,.927839,.024698,-.022901,1.860763,.927818,.032263,-.029903,1.860501,.927791,.040846,-.037834,1.860431,.927751,.05044,-.04668,1.859827,.92769,.061066,-.056446,1.859624,.92761,.072713,-.067109,1.859039,.927505,.085393,-.078613,1.858144,.927357,.09912,-.090747,1.856618,.927145,.11391,-.10385,1.855221,.926884,.129755,-.117777,1.85347,.926546,.146669,-.132441,1.851413,.926104,.164648,-.147565,1.848498,.92553,.183708,-.16347,1.845281,.924802,.203832,-.179763,1.841273,.923871,.225029,-.196564,1.836481,.922691,.247221,-.213537,1.830273,.921198,.270343,-.230662,1.822374,.91932,.294399,-.24774,1.812975,.917008,.31904,-.264448,1.800693,.914141,.344269,-.280831,1.785923,.910707,.369625,-.296478,1.767203,.906585,.394925,-.311287,1.744434,.901918,.420583,-.325578,1.720938,.89624,.4462,-.338384,1.693005,.889335,.472969,-.349187,1.660901,.880394,.50049,-.358687,1.628806,.869705,.527312,-.366042,1.593001,.857145,.554207,-.372045,1.557046,.842943,.58062,-.376134,1.520192,.826837,.60648,-.378636,1.482947,.808891,.631815,-.379414,1.445954,.789119,.657021,-.378972,1.410833,.767564,.681686,-.376728,1.376575,.744338,.706498,-.372844,1.342935,.718799,.731258,-.366649,1.311052,.691756,.755937,-.359354,1.280478,.662683,.779259,-.350487,1.250585,.632892,.803295,-.340941,1.225722,.60216,.82657,-.330174,1.201003,.57052,.849954,-.317854,1.178488,.537651,.873696,-.304426,1.158302,.503799,.896695,-.29012,1.139886,.469645,.919149,-.275106,1.122884,.435625,.942121,-.259282,1.107691,.401228,.964627,-.242123,1.093661,.367086,.986614,-.224575,1.08158,.332885,1.009623,-.206837,1.071375,.299209,1.033126,-.188092,1.062241,.266187,1.054954,-.168637,1.052912,.233733,1.07766,-.149166,1.047047,.203192,1.097983,-.128587,1.041607,.173918,1.115586,-.107339,1.03685,.145531,1.13017,-.086203,1.031427,.11689,1.141018,-.064171,1.024395,.087388,1.147681,-.04253,1.015719,.057733,1.15256,-.021011,1.006883,.028413,1.158406,158e-6,.999897,-106e-6,2e-4,-195e-6,1.950982,.975366,504e-6,-491e-6,1.950207,.975365,.002015,-.001966,1.950675,.975362,.004535,-.004423,1.951281,.97537,.008062,-.007863,1.951045,.975362,.012597,-.012285,1.951199,.975356,.018145,-.017692,1.951528,.97534,.024699,-.024074,1.951194,.975321,.032266,-.031434,1.950865,.975288,.040853,-.039771,1.951038,.975244,.050452,-.049067,1.950336,.975173,.061077,-.059324,1.949805,.975078,.072736,-.070526,1.949133,.974951,.085431,-.082528,1.947947,.974777,.099182,-.095345,1.946337,.97454,.113999,-.109118,1.944725,.974241,.129888,-.123741,1.942857,.973852,.146842,-.139071,1.940251,.973342,.16489,-.154986,1.937086,.972684,.184025,-.171661,1.933404,.971856,.204245,-.188672,1.92877,.970785,.225528,-.206252,1.923041,.969448,.247841,-.223972,1.915788,.967742,.271157,-.241827,1.907008,.965607,.295297,-.259562,1.895854,.963007,.320121,-.276909,1.881289,.959722,.345566,-.293883,1.864528,.955831,.371012,-.309816,1.842062,.951127,.396834,-.325157,1.818068,.945725,.422277,-.339357,1.788874,.939318,.447928,-.352387,1.758283,.93147,.474315,-.36368,1.723668,.9219,.50156,-.372963,1.686081,.909996,.528391,-.380159,1.645816,.896244,.554754,-.385545,1.603709,.880326,.581888,-.389778,1.565475,.862716,.607791,-.391839,1.524196,.843146,.633511,-.392331,1.483921,.821554,.658621,-.391193,1.445013,.798336,.68316,-.388424,1.406963,.773299,.707429,-.384104,1.370996,.746668,.732212,-.377945,1.335879,.717502,.756871,-.369856,1.302489,.686954,.781065,-.360707,1.271815,.655372,.804167,-.350091,1.242416,.622683,.827948,-.338941,1.217208,.589185,.850901,-.326427,1.192354,.555005,.873589,-.312199,1.169639,.519594,.897085,-.297374,1.150181,.484105,.920459,-.281932,1.132858,.448661,.942637,-.265625,1.115401,.413051,.965341,-.248332,1.101078,.377329,.98753,-.229983,1.087377,.342349,1.010739,-.211647,1.076582,.307824,1.033449,-.192725,1.0659,.273368,1.055618,-.172726,1.056958,.240238,1.079345,-.15264,1.04962,.208322,1.100058,-.131931,1.044084,.178242,1.118547,-.110351,1.039387,.149493,1.132748,-.088128,1.033049,.119673,1.143419,-.066069,1.025521,.089728,1.150316,-.043513,1.016378,.059253,1.155208,-.021593,1.007506,.02914,1.160871,111e-6,.999916,-35e-6,201e-6,-206e-6,2.061,1.025243,504e-6,-516e-6,2.049647,1.025237,.002015,-.002066,2.050169,1.025237,.004535,-.00465,2.051254,1.025255,.008063,-.008266,2.051302,1.025236,.0126,-.012915,2.051508,1.025226,.018144,-.018594,2.050981,1.025215,.0247,-.025304,2.050841,1.02519,.032267,-.033038,2.050537,1.025152,.040852,-.041795,2.05066,1.02509,.05046,-.05157,2.049921,1.025017,.061094,-.062347,2.04935,1.024908,.072762,-.074111,2.048517,1.02476,.085475,-.086661,2.047009,1.024555,.099249,-.10016,2.045261,1.024278,.114106,-.114628,2.043508,1.023941,.130032,-.130002,2.041321,1.023488,.14705,-.145985,2.038299,1.022905,.165164,-.162762,2.034658,1.022151,.18438,-.180172,2.030312,1.0212,.204704,-.198022,2.024944,1.019966,.226129,-.216359,2.018546,1.018424,.248582,-.234923,2.010153,1.016519,.272011,-.253474,1.999659,1.014072,.296259,-.27182,1.986076,1.011071,.321423,-.289959,1.970618,1.007389,.346897,-.307283,1.949667,1.002955,.37275,-.323817,1.925287,.997633,.398603,-.339241,1.896006,.991354,.424351,-.353633,1.863658,.983937,.449887,-.36666,1.82743,.975254,.475715,-.378213,1.789521,.964753,.502204,-.387133,1.745632,.951594,.530179,-.394976,1.705347,.936344,.556732,-.400134,1.658928,.918907,.583123,-.403439,1.613077,.899504,.609477,-.405285,1.567884,.878172,.634927,-.405055,1.523507,.854396,.660357,-.403494,1.481712,.829259,.684851,-.400104,1.439,.802359,.709654,-.395536,1.400956,.773534,.733472,-.388996,1.362156,.74323,.757502,-.380263,1.325113,.71109,.782249,-.370594,1.292913,.677166,.806017,-.359509,1.262088,.642527,.828687,-.347126,1.232059,.607589,.852372,-.334474,1.20716,.571938,.874266,-.320074,1.181978,.535518,.898168,-.304719,1.161156,.498375,.920456,-.288246,1.140667,.461179,.942832,-.271311,1.12278,.424533,.966458,-.254154,1.108743,.387784,.988907,-.235659,1.093872,.351689,1.011557,-.216322,1.081959,.315743,1.035099,-.197007,1.070885,.280402,1.056354,-.176878,1.059968,.246472,1.079854,-.156058,1.051815,.212818,1.101494,-.134772,1.045757,.182143,1.120587,-.113071,1.041169,.152867,1.135399,-.090411,1.034844,.122796,1.146612,-.067477,1.026974,.091888,1.153168,-.044849,1.017303,.060779,1.157912,-.021998,1.007735,.029919,1.163607,121e-6,.999959,3e-6,2e-4,-216e-6,2.163956,1.077737,504e-6,-543e-6,2.161128,1.077732,.002016,-.002173,2.162732,1.077729,.004535,-.004887,2.161402,1.077749,.008066,-.008692,2.163252,1.077732,.012599,-.013576,2.1613,1.077727,.018145,-.019546,2.161151,1.077702,.024702,-.026599,2.161223,1.077675,.032272,-.034729,2.160949,1.077632,.040862,-.043936,2.160967,1.077575,.05047,-.054203,2.160035,1.077473,.061113,-.065528,2.15949,1.077348,.072794,-.077882,2.158517,1.077178,.085528,-.09103,2.156605,1.076937,.099337,-.105251,2.154828,1.076631,.114228,-.120456,2.152812,1.076229,.130202,-.136573,2.150298,1.075713,.147284,-.153306,2.146752,1.075031,.16548,-.170931,2.142744,1.074173,.184793,-.189083,2.137475,1.073063,.205224,-.20784,2.13132,1.071683,.226743,-.226939,2.123154,1.069914,.249401,-.246344,2.114086,1.067718,.272955,-.26564,2.101599,1.064924,.297494,-.284846,2.086612,1.061512,.322731,-.303452,2.067356,1.057359,.348451,-.32133,2.043711,1.052294,.374451,-.338201,2.015033,1.046153,.400454,-.353816,1.981139,1.039003,.426434,-.368216,1.944128,1.030498,.452088,-.381251,1.903094,1.020454,.477901,-.392833,1.860402,1.008793,.504173,-.402408,1.814402,.994791,.53152,-.409545,1.766273,.977733,.558049,-.414351,1.714119,.958625,.584778,-.417437,1.664612,.937189,.610808,-.418519,1.613793,.913543,.636915,-.418094,1.565942,.888137,.662204,-.415742,1.518783,.860728,.686848,-.411746,1.473306,.831793,.710992,-.406153,1.430153,.800862,.735382,-.399519,1.389824,.768768,.759079,-.390927,1.350744,.734825,.782912,-.380111,1.313559,.69945,.806746,-.368383,1.280028,.663191,.830269,-.355606,1.249814,.625927,.853305,-.341988,1.221138,.588644,.876326,-.327545,1.195837,.550849,.898322,-.311779,1.171844,.512694,.921811,-.294944,1.150671,.474225,.944563,-.277333,1.132224,.435772,.967089,-.25934,1.115422,.398001,.989754,-.240836,1.100405,.360802,1.01247,-.221293,1.086533,.323566,1.036426,-.201191,1.075496,.287387,1.058709,-.18059,1.064233,.252184,1.081593,-.15981,1.055296,.218441,1.103146,-.137772,1.047978,.186223,1.122814,-.115347,1.042693,.156019,1.13779,-.092582,1.036049,.125579,1.149184,-.069152,1.027944,.093986,1.156062,-.045661,1.018039,.062122,1.160733,-.022719,1.008072,.03065,1.166487,231e-6,1.000063,-12e-5,201e-6,-228e-6,2.308308,1.133128,504e-6,-571e-6,2.283756,1.133123,.002016,-.002284,2.283756,1.133123,.004535,-.005138,2.28331,1.133144,.008048,-.009119,2.266192,1.133138,.0126,-.014274,2.284377,1.13311,.018147,-.020553,2.284204,1.133093,.024702,-.027964,2.283517,1.13306,.032272,-.03651,2.282997,1.133007,.040866,-.046188,2.282986,1.13293,.050481,-.056979,2.28226,1.132824,.061133,-.068881,2.281533,1.132678,.07283,-.08185,2.280504,1.132481,.085592,-.095657,2.278304,1.132202,.099431,-.110594,2.276269,1.131845,.11436,-.12659,2.27389,1.131383,.130388,-.143454,2.270761,1.130784,.147547,-.161029,2.266794,1.130003,.165836,-.179523,2.262332,1.129016,.185269,-.198527,2.256326,1.127738,.205822,-.218138,2.249031,1.126156,.227527,-.238141,2.239993,1.124132,.250325,-.258302,2.228878,1.121594,.27407,-.278329,2.214204,1.118449,.298793,-.29831,2.196654,1.114528,.324131,-.317462,2.173394,1.109783,.350101,-.335853,2.146395,1.103901,.376293,-.353064,2.112341,1.096954,.402547,-.36895,2.0737,1.088642,.428791,-.383462,2.031152,1.078946,.454976,-.396635,1.986661,1.067536,.480566,-.407873,1.937038,1.054403,.506154,-.417303,1.885155,1.038894,.532862,-.424194,1.830369,1.020535,.560354,-.429344,1.776976,.999295,.587114,-.431949,1.721214,.97599,.613345,-.432547,1.665739,.950239,.639335,-.431338,1.6122,.922467,.664996,-.428473,1.561035,.892593,.688947,-.423355,1.50824,.861325,.713403,-.417235,1.461776,.828289,.737649,-.409848,1.418888,.793863,.761275,-.400901,1.376807,.758074,.784778,-.390174,1.337204,.721974,.808762,-.377683,1.301527,.682718,.831993,-.364037,1.267144,.644001,.854696,-.349494,1.236023,.605478,.877933,-.334499,1.209284,.565588,.90018,-.318435,1.183967,.526138,.923039,-.301669,1.161513,.486524,.945895,-.283298,1.140838,.446747,.968069,-.264438,1.122475,.408041,.991179,-.245463,1.106968,.369477,1.012926,-.22568,1.091435,.331626,1.036995,-.205401,1.079561,.294288,1.060909,-.18431,1.068215,.257696,1.083531,-.162846,1.058133,.223343,1.105644,-.14104,1.050851,.190541,1.125691,-.117965,1.045001,.15931,1.141297,-.094377,1.038028,.128238,1.152672,-.070831,1.029694,.096282,1.159333,-.046853,1.019136,.06372,1.163819,-.022991,1.008518,.031234,1.169564,125e-6,1.000069,-24e-6,202e-6,-241e-6,2.458341,1.191742,504e-6,-6e-4,2.418738,1.19174,.002015,-.002401,2.418821,1.19173,.004535,-.005405,2.421986,1.191756,.008071,-.009618,2.424988,1.191753,.0126,-.015012,2.420242,1.191727,.018145,-.021612,2.419937,1.191703,.024704,-.02941,2.419746,1.191662,.032278,-.038398,2.419409,1.191604,.040874,-.048574,2.418995,1.191515,.050496,-.05992,2.41819,1.191389,.06116,-.072432,2.417487,1.191221,.072871,-.086009,2.415853,1.190984,.085664,-.100559,2.413669,1.190664,.099543,-.116283,2.411423,1.190256,.11452,-.133071,2.408711,1.189719,.130616,-.15067,2.4049,1.189019,.147856,-.169197,2.400512,1.188125,.166235,-.188545,2.394939,1.186972,.185804,-.20848,2.388232,1.185515,.206488,-.228883,2.37919,1.183673,.228383,-.249897,2.369208,1.181382,.251305,-.270851,2.355459,1.178478,.275349,-.29178,2.339142,1.174857,.300106,-.312257,2.316655,1.170411,.325849,-.332225,2.29154,1.164883,.351782,-.350862,2.257242,1.158196,.378248,-.368431,2.218671,1.150173,.404674,-.384428,2.17368,1.140703,.431385,-.39923,2.127083,1.129555,.457407,-.411875,2.073236,1.116436,.483275,-.423013,2.018223,1.101373,.509278,-.432624,1.962674,1.084257,.534751,-.439261,1.900814,1.064592,.561895,-.443801,1.839558,1.040881,.588677,-.445872,1.777763,1.015208,.6149,-.445896,1.71655,.987252,.641051,-.444148,1.657984,.957271,.666409,-.440299,1.600832,.924841,.691872,-.435318,1.548237,.891185,.716638,-.428631,1.497572,.855929,.739864,-.419872,1.447043,.819676,.763707,-.410456,1.403648,.781455,.786744,-.39939,1.360844,.742965,.809585,-.386381,1.320529,.70326,.834164,-.372622,1.286467,.662385,.856713,-.357177,1.252306,.621379,.87982,-.341458,1.22307,.580238,.902721,-.325024,1.197115,.539028,.92465,-.307543,1.172314,.498592,.947613,-.289557,1.151171,.45798,.96959,-.269799,1.129986,.417696,.992961,-.250111,1.113321,.377529,1.014582,-.229761,1.097149,.339096,1.038069,-.209375,1.083913,.301119,1.061661,-.188038,1.071241,.263506,1.085069,-.165874,1.060508,.227921,1.107744,-.143437,1.05293,.194062,1.127982,-.120574,1.046396,.162506,1.144541,-.096569,1.03988,.130788,1.155876,-.072039,1.030946,.098057,1.162719,-.047888,1.020124,.064956,1.167089,-.02374,1.008953,.031966,1.172775,277e-6,1.000067,-111e-6,2e-4,-251e-6,2.573709,1.253951,504e-6,-632e-6,2.572401,1.25394,.002015,-.002527,2.571267,1.253927,.004535,-.005687,2.572481,1.253948,.008062,-.010108,2.571851,1.253941,.012588,-.01578,2.568431,1.253934,.018139,-.022731,2.569765,1.253893,.024709,-.030948,2.572115,1.253853,.032283,-.040401,2.571456,1.253785,.040883,-.051105,2.571041,1.253683,.050514,-.063041,2.570153,1.253538,.061188,-.076195,2.569085,1.253336,.072926,-.090402,2.567184,1.253065,.085746,-.105745,2.564731,1.252697,.099661,-.122296,2.561995,1.252218,.114699,-.139912,2.559019,1.25159,.130882,-.158362,2.555017,1.250766,.148202,-.177856,2.549419,1.249744,.166706,-.198049,2.542908,1.248423,.186404,-.219014,2.535205,1.246741,.207272,-.240376,2.524893,1.244596,.229345,-.26223,2.512804,1.241917,.252494,-.284134,2.496923,1.23861,.27669,-.305828,2.476583,1.234474,.301798,-.327107,2.451548,1.229292,.327423,-.3473,2.41863,1.222997,.353848,-.366699,2.381002,1.215366,.380342,-.384421,2.334413,1.206199,.40739,-.400855,2.28566,1.195374,.433913,-.415241,2.228604,1.18229,.460837,-.428275,2.171532,1.167385,.486381,-.438573,2.105639,1.150401,.511959,-.447348,2.040835,1.13099,.537586,-.454152,1.974797,1.109302,.564035,-.458684,1.907895,1.084131,.59069,-.460058,1.839482,1.055803,.61725,-.459662,1.772332,1.025103,.643406,-.45726,1.707313,.992502,.668794,-.452666,1.644722,.957657,.69393,-.446641,1.586832,.92134,.718708,-.439121,1.531197,.883841,.743469,-.430429,1.480765,.844931,.76608,-.419622,1.430338,.804786,.789801,-.408368,1.386295,.764206,.812718,-.395392,1.343758,.722565,.835453,-.380699,1.304655,.680585,.858801,-.364834,1.269287,.637235,.881537,-.348092,1.237493,.594579,.904656,-.331087,1.208862,.552313,.926357,-.312966,1.182365,.51008,.949001,-.294684,1.159452,.468677,.971598,-.275361,1.138706,.426723,.994905,-.254947,1.120552,.385875,1.017981,-.234109,1.104215,.345751,1.04084,-.21304,1.089276,.306762,1.063893,-.191616,1.075845,.269066,1.086907,-.169272,1.063788,.232171,1.109937,-.146076,1.054977,.197826,1.130808,-.122544,1.048572,.165272,1.146831,-.098492,1.040742,.13328,1.158955,-.07371,1.031818,.100262,1.166161,-.04861,1.020747,.066165,1.170491,-.024209,1.00938,.032741,1.176111,1e-5,1.000042,56e-6,202e-6,-267e-6,2.786357,1.320169,504e-6,-665e-6,2.741889,1.320168,.002015,-.00266,2.74,1.320143,.004536,-.005987,2.744276,1.320161,.008063,-.010644,2.743432,1.320162,.0126,-.016628,2.741741,1.320148,.018144,-.023937,2.741314,1.320127,.024708,-.032577,2.741916,1.320061,.03229,-.042536,2.742132,1.319976,.040894,-.053799,2.741199,1.319861,.050533,-.066361,2.740258,1.319691,.061223,-.080202,2.739045,1.319458,.072985,-.095109,2.736519,1.319138,.085841,-.111296,2.733903,1.318715,.099808,-.128685,2.730944,1.318156,.114903,-.147202,2.727293,1.317424,.131164,-.166575,2.722169,1.316485,.148599,-.187019,2.716148,1.315274,.167245,-.20824,2.708701,1.313733,.187078,-.230151,2.698998,1.311792,.208153,-.252538,2.687341,1.309343,.230418,-.275295,2.672621,1.306247,.253802,-.298066,2.653619,1.302374,.278261,-.320673,2.629943,1.297573,.303527,-.342528,2.599228,1.291625,.329571,-.363531,2.562226,1.284374,.355939,-.382963,2.515491,1.275478,.382987,-.401306,2.464858,1.264866,.409917,-.417455,2.404877,1.252184,.437015,-.432067,2.341408,1.237415,.463474,-.444204,2.271837,1.220687,.489835,-.454631,2.200593,1.200973,.516054,-.463338,2.129733,1.179346,.541397,-.469425,2.055635,1.155039,.566798,-.473526,1.980812,1.127866,.593114,-.474632,1.904723,1.097304,.619945,-.473597,1.832456,1.063603,.646325,-.470656,1.761501,1.027971,.67232,-.465675,1.694248,.990692,.697163,-.458527,1.629227,.951582,.721472,-.449904,1.568132,.911197,.745855,-.44014,1.512084,.869745,.770089,-.429338,1.460694,.827648,.792546,-.416701,1.410739,.784728,.815161,-.403151,1.365438,.741884,.837994,-.388714,1.324811,.6978,.86122,-.372573,1.287723,.653341,.883737,-.355024,1.252491,.609455,.906784,-.337092,1.221844,.565275,.928493,-.31837,1.192881,.521558,.951495,-.299605,1.169131,.478149,.973586,-.280067,1.146316,.436325,.9964,-.259823,1.12786,.394409,1.01978,-.238313,1.110521,.353045,1.042775,-.216506,1.093915,.312803,1.066822,-.194695,1.080326,.2741,1.089869,-.17229,1.067722,.236657,1.113606,-.149264,1.058471,.201603,1.134229,-.124814,1.050701,.168398,1.150922,-.10007,1.043051,.135616,1.163224,-.075155,1.033742,.102144,1.169965,-.049933,1.021818,.067532,1.1742,-.024461,1.009916,.033215,1.179766,188e-6,1.000045,-14e-6,202e-6,-281e-6,2.964186,1.39088,505e-6,-702e-6,2.945157,1.390903,.002015,-.002802,2.931184,1.390863,.004535,-.006307,2.935673,1.3909,.008063,-.011213,2.934274,1.39089,.012598,-.017516,2.932216,1.390876,.018147,-.025221,2.933324,1.390832,.024711,-.034322,2.933945,1.390769,.032295,-.04481,2.933496,1.390674,.040904,-.056673,2.932487,1.390538,.050555,-.069906,2.931571,1.390342,.061259,-.084468,2.929914,1.390064,.073053,-.100152,2.927039,1.389695,.085948,-.117202,2.924241,1.389201,.099968,-.135531,2.92076,1.388548,.115135,-.154906,2.915998,1.387692,.131496,-.175352,2.910285,1.386611,.149049,-.196783,2.903174,1.38519,.167848,-.219066,2.894584,1.383407,.187879,-.241983,2.883171,1.381148,.209143,-.265398,2.869102,1.378261,.231689,-.289254,2.852238,1.37469,.255223,-.312776,2.828264,1.370166,.279952,-.33626,2.800175,1.364591,.305572,-.358865,2.764282,1.357758,.33165,-.380223,2.717845,1.349413,.358491,-.400252,2.665326,1.339084,.385445,-.418422,2.602293,1.326773,.412947,-.434993,2.536973,1.312141,.439681,-.448757,2.459463,1.295205,.467272,-.461427,2.38625,1.275573,.493568,-.471102,2.303225,1.2534,.519743,-.47893,2.221945,1.22889,.544882,-.484098,2.136425,1.20173,.57069,-.488125,2.057093,1.172022,.595905,-.489185,1.975334,1.139312,.622747,-.487535,1.895055,1.103038,.648695,-.483482,1.815995,1.064364,.675159,-.478096,1.744272,1.024098,.700714,-.470492,1.675257,.982186,.725641,-.461398,1.609135,.939137,.748552,-.449825,1.545091,.894791,.772808,-.438185,1.489394,.850373,.795928,-.425073,1.437026,.805287,.8189,-.411028,1.389654,.760003,.841633,-.396047,1.345873,.714914,.863213,-.379637,1.305185,.669271,.886662,-.362227,1.269147,.622935,.908504,-.343068,1.234714,.577757,.931425,-.323982,1.204997,.532922,.953835,-.304347,1.178871,.488154,.975813,-.284219,1.155019,.444885,.997662,-.263544,1.133941,.402224,1.021167,-.242611,1.1161,.36053,1.044038,-.220065,1.098348,.318968,1.068837,-.19758,1.084605,.279107,1.092548,-.174779,1.071217,.241111,1.116157,-.151596,1.060486,.204913,1.137486,-.127478,1.052751,.17141,1.154694,-.101915,1.044807,.137999,1.166867,-.076246,1.034824,.103807,1.173715,-.050661,1.022501,.068802,1.178236,-.025355,1.010324,.034155,1.183545,205e-6,1.000059,-11e-5,201e-6,-294e-6,3.16108,1.466721,505e-6,-74e-5,3.155526,1.466737,.002016,-.002957,3.152852,1.466688,.004537,-.006655,3.150654,1.466667,.008066,-.011828,3.153109,1.466694,.012604,-.018479,3.152143,1.466721,.01815,-.026598,3.151025,1.466636,.024714,-.036191,3.1503,1.466562,.032301,-.047249,3.149861,1.46645,.040924,-.059766,3.149548,1.466289,.050579,-.073703,3.147516,1.466055,.061306,-.089022,3.14568,1.465738,.073135,-.105563,3.142428,1.465301,.086075,-.123544,3.139113,1.464715,.100153,-.142853,3.135064,1.463956,.115411,-.163183,3.129509,1.462962,.131876,-.18476,3.122959,1.46167,.14957,-.207172,3.114153,1.460045,.168523,-.230578,3.103626,1.457945,.188784,-.254658,3.090818,1.455279,.210264,-.279114,3.073352,1.451998,.23303,-.30393,3.052592,1.44778,.256959,-.328517,3.025187,1.442568,.281901,-.352755,2.990341,1.436026,.307728,-.375894,2.94682,1.427979,.334197,-.397924,2.892845,1.418249,.360966,-.417914,2.827937,1.40637,.388478,-.436526,2.758006,1.392134,.415567,-.452366,2.674696,1.375244,.443518,-.466917,2.595136,1.35566,.470631,-.478417,2.504173,1.333123,.497419,-.487825,2.413227,1.308181,.523961,-.495064,2.321239,1.280227,.549708,-.499844,2.228911,1.249894,.575296,-.502844,2.138834,1.21713,.600168,-.503368,2.04903,1.181412,.625874,-.501622,1.962267,1.142648,.652164,-.496936,1.8769,1.101268,.678029,-.490319,1.796344,1.057782,.703248,-.481575,1.718925,1.012884,.72852,-.471822,1.648358,.966487,.752577,-.460134,1.581989,.91988,.776163,-.447164,1.520109,.873087,.800016,-.433601,1.465081,.825803,.822176,-.418388,1.412564,.778249,.844873,-.402704,1.366184,.730849,.865955,-.385633,1.321865,.684037,.888173,-.368255,1.283464,.637192,.910994,-.349332,1.249215,.590131,.93427,-.329612,1.218366,.543213,.956653,-.309228,1.189808,.497752,.978476,-.28831,1.163674,.452837,1.000755,-.267243,1.141389,.409481,1.023827,-.246015,1.122012,.367354,1.045572,-.223777,1.103303,.325171,1.070445,-.200837,1.08801,.284442,1.094268,-.177211,1.07365,.245138,1.118639,-.153531,1.063051,.208289,1.139786,-.129074,1.053921,.173607,1.157848,-.104051,1.045968,.140467,1.170697,-.077694,1.035782,.105594,1.177874,-.051393,1.023483,.069898,1.182242,-.025392,1.01062,.034532,1.187612,-32e-6,1.000062,-35e-6,202e-6,-313e-6,3.450327,1.548291,504e-6,-78e-5,3.396162,1.548289,.002015,-.00312,3.395621,1.54826,.004533,-.007019,3.394299,1.548217,.008066,-.012486,3.398803,1.548274,.0126,-.0195,3.396363,1.548245,.018151,-.028076,3.396805,1.548192,.024722,-.038209,3.396384,1.548109,.032306,-.049868,3.395158,1.547979,.040936,-.063077,3.394303,1.547785,.05061,-.077791,3.392979,1.547513,.06136,-.093869,3.38991,1.547134,.073227,-.11138,3.386669,1.546619,.086217,-.130371,3.382974,1.545938,.100364,-.150684,3.378046,1.545039,.115733,-.172116,3.371719,1.54388,.132309,-.194809,3.363764,1.54238,.150174,-.218431,3.353699,1.540462,.16934,-.242954,3.341397,1.538002,.189788,-.268175,3.324957,1.534894,.211581,-.293776,3.304776,1.530954,.234561,-.319619,3.278192,1.526033,.258776,-.345089,3.24491,1.519926,.284059,-.370176,3.203338,1.512296,.310312,-.394171,3.152477,1.502956,.336748,-.416137,3.083616,1.491463,.364029,-.436752,3.010481,1.477493,.391575,-.455102,2.925454,1.460933,.419409,-.471378,2.83438,1.441554,.446811,-.484714,2.733329,1.418861,.474489,-.496021,2.63363,1.393405,.501751,-.504991,2.530935,1.364633,.528488,-.511392,2.426653,1.333234,.554428,-.515395,2.323633,1.299138,.580434,-.517761,2.224964,1.262462,.605474,-.517598,2.127228,1.223784,.629888,-.514946,2.030545,1.182321,.655579,-.510177,1.93907,1.138515,.68194,-.503097,1.852355,1.091502,.707228,-.493537,1.768084,1.043464,.731894,-.482372,1.69084,.994242,.756741,-.470312,1.619277,.944749,.78016,-.456412,1.55343,.894816,.803384,-.441492,1.493357,.845202,.826347,-.425944,1.43783,.795954,.849145,-.409532,1.388578,.746915,.870617,-.391988,1.341527,.698025,.892943,-.374229,1.302188,.649579,.913828,-.355148,1.262877,.601833,.93683,-.335238,1.230136,.554521,.958687,-.313939,1.199596,.507208,.982008,-.292741,1.173619,.461357,1.003691,-.27094,1.149015,.416031,1.027223,-.249102,1.128689,.372457,1.050048,-.226899,1.109444,.330281,1.074105,-.204329,1.092943,.288987,1.098971,-.18056,1.078591,.249075,1.123324,-.155987,1.066885,.211519,1.145445,-.130929,1.057617,.176506,1.162856,-.105269,1.048453,.142345,1.17536,-.079267,1.037439,.107452,1.182514,-.052547,1.024393,.071252,1.186575,-.025744,1.011093,.035019,1.19205,318e-6,1.000013,-152e-6,204e-6,-334e-6,3.909175,1.636412,504e-6,-825e-6,3.678647,1.63641,.002015,-.003298,3.678315,1.636387,.004533,-.007417,3.674126,1.63631,.008062,-.01319,3.676771,1.636376,.012603,-.020613,3.678135,1.636369,.018153,-.029675,3.677315,1.636299,.024723,-.040378,3.676872,1.636196,.032318,-.052708,3.67575,1.636038,.040955,-.06666,3.674803,1.63581,.050645,-.082203,3.672735,1.635494,.061429,-.09915,3.669047,1.635048,.073333,-.117679,3.665401,1.634437,.086388,-.137725,3.661315,1.633634,.10062,-.159081,3.654992,1.632571,.116087,-.181721,3.647341,1.631202,.13282,-.205611,3.637877,1.629432,.150867,-.230542,3.626333,1.627161,.170234,-.256239,3.610671,1.624266,.190981,-.282751,3.591685,1.620589,.213013,-.30943,3.565864,1.615999,.236387,-.336427,3.534826,1.610216,.260943,-.362931,3.493984,1.603047,.286497,-.388644,3.442075,1.59392,.312769,-.412912,3.375973,1.582961,.339832,-.435635,3.299355,1.569343,.367214,-.456181,3.208994,1.553137,.394935,-.474325,3.10891,1.533791,.422935,-.490318,3.001767,1.511093,.451166,-.503827,2.891735,1.485145,.478695,-.514185,2.77343,1.455617,.506313,-.522502,2.657639,1.422946,.533427,-.528119,2.541132,1.387843,.559942,-.53143,2.42695,1.349542,.58515,-.531978,2.312437,1.309303,.6105,-.531054,2.205966,1.26628,.63538,-.528058,2.101993,1.221709,.659852,-.522751,2.00295,1.175062,.685151,-.515026,1.908647,1.125078,.71092,-.50502,1.819389,1.074296,.736066,-.493268,1.735806,1.02242,.760503,-.480032,1.658607,.97023,.785091,-.465986,1.589424,.917077,.807523,-.449721,1.522533,.864888,.830974,-.433461,1.465416,.813006,.852659,-.415808,1.409076,.761689,.874841,-.397855,1.360758,.711258,.896322,-.379041,1.316829,.661721,.918134,-.360048,1.278574,.612263,.939356,-.340108,1.2422,.564369,.961025,-.318877,1.210305,.516506,.984371,-.29713,1.183689,.469342,1.006905,-.274661,1.157466,.42308,1.029941,-.252234,1.135066,.378315,1.052751,-.229268,1.114518,.335169,1.077981,-.206662,1.09776,.293336,1.102542,-.183331,1.082051,.252984,1.126539,-.158797,1.068935,.21499,1.149023,-.133014,1.058996,.178903,1.16755,-.106641,1.050245,.144559,1.179994,-.079952,1.038648,.108667,1.187104,-.053316,1.025284,.072209,1.191406,-.026826,1.011453,.035833,1.196748,226e-6,1.000034,-61e-6,2e-4,-346e-6,3.996419,1.732034,504e-6,-873e-6,4.000138,1.732038,.002016,-.003492,4.002078,1.732012,.004538,-.007859,4.005626,1.731962,.008064,-.013963,3.9985,1.731999,.01259,-.021794,3.995024,1.732004,.018154,-.031406,3.999233,1.731901,.024727,-.042733,3.998497,1.731774,.032327,-.055781,3.997064,1.731599,.040974,-.070543,3.995856,1.731325,.050685,-.086984,3.993839,1.730945,.061506,-.104897,3.989519,1.730417,.073458,-.124506,3.985313,1.729697,.086573,-.145706,3.979984,1.728747,.100909,-.168211,3.972562,1.727491,.116509,-.192198,3.963836,1.725854,.133404,-.21728,3.951919,1.723749,.151659,-.243556,3.937734,1.721093,.171288,-.270611,3.919021,1.71764,.192301,-.298389,3.895171,1.713272,.214683,-.326338,3.864171,1.707825,.238392,-.354394,3.824682,1.700956,.263151,-.381636,3.771168,1.692392,.289155,-.408266,3.709961,1.681769,.315832,-.43307,3.630302,1.668539,.342942,-.455741,3.534719,1.652513,.370892,-.476655,3.431531,1.633428,.398985,-.494692,3.314933,1.610694,.427206,-.510313,3.189741,1.58424,.455266,-.52276,3.058325,1.554195,.483472,-.532872,2.927213,1.520805,.511192,-.540229,2.794112,1.484026,.538706,-.545105,2.663786,1.443796,.565422,-.547251,2.534841,1.401429,.59127,-.547115,2.408437,1.356231,.616787,-.545113,2.291284,1.308887,.64138,-.540853,2.177478,1.260447,.665344,-.534561,2.069265,1.210634,.690147,-.527115,1.969776,1.158569,.714578,-.516171,1.870847,1.104593,.740349,-.504048,1.782674,1.049578,.764563,-.489683,1.698614,.994458,.78871,-.474541,1.624447,.938612,.812154,-.458099,1.554453,.883694,.834566,-.440345,1.490045,.83022,.857486,-.422491,1.432889,.776499,.879224,-.403588,1.380669,.724257,.899971,-.383819,1.333124,.673311,.922111,-.36425,1.292648,.622999,.942842,-.343873,1.253933,.573304,.964398,-.323206,1.221027,.52509,.98686,-.301711,1.191806,.47758,1.00976,-.278695,1.165162,.430624,1.033347,-.255591,1.141715,.384482,1.055937,-.232039,1.119739,.340532,1.081178,-.208664,1.102117,.297311,1.105696,-.184935,1.085062,.256227,1.129575,-.160673,1.070918,.217709,1.152135,-.135414,1.060642,.181471,1.171221,-.108462,1.051041,.14638,1.184412,-.081008,1.039694,.11012,1.19182,-.05371,1.025903,.073052,1.196195,-.026625,1.011816,.036129,1.201677,-175e-6,.999945,98e-6,196e-6,-36e-5,4.100786,1.83629,504e-6,-925e-6,4.370184,1.836295,.002018,-.003706,4.385247,1.836243,.004534,-.008324,4.370146,1.83621,.008064,-.014805,4.372335,1.836256,.012597,-.023116,4.359918,1.836259,.018158,-.033299,4.371503,1.836123,.024732,-.045301,4.370533,1.835988,.032344,-.059143,4.369649,1.835768,.040999,-.074779,4.367861,1.835454,.050739,-.092178,4.364322,1.834974,.061594,-.111161,4.359221,1.834355,.073604,-.131958,4.35462,1.833499,.086796,-.154393,4.347915,1.832355,.101246,-.178201,4.339152,1.83088,.11699,-.203531,4.328327,1.828936,.134086,-.230043,4.31424,1.826442,.152589,-.257718,4.296795,1.82323,.172514,-.286176,4.273985,1.819124,.193853,-.315295,4.244136,1.813909,.216582,-.344507,4.205152,1.80741,.240668,-.373646,4.154781,1.799084,.265904,-.401897,4.091563,1.788905,.292226,-.429136,4.013199,1.776206,.319045,-.454057,3.912886,1.7605,.346721,-.477219,3.800927,1.741586,.374849,-.497883,3.675652,1.718818,.403078,-.515504,3.536892,1.692138,.431597,-.530621,3.391351,1.661434,.460246,-.542852,3.242817,1.626989,.488899,-.552238,3.093685,1.588582,.517215,-.559045,2.944163,1.5463,.54448,-.562351,2.794189,1.501299,.571542,-.563394,2.650239,1.453758,.598167,-.56259,2.513757,1.403321,.624104,-.559636,2.384203,1.352431,.648789,-.554148,2.259149,1.298758,.672715,-.546779,2.14025,1.244943,.696258,-.537896,2.030401,1.189971,.720048,-.527401,1.928311,1.134526,.744078,-.514142,1.830175,1.076504,.768895,-.499352,1.740731,1.018032,.792551,-.482982,1.658911,.96025,.817007,-.466406,1.586579,.903029,.839035,-.447616,1.516969,.846484,.862742,-.429261,1.458675,.79142,.884307,-.409479,1.402989,.737125,.905641,-.389303,1.352817,.683912,.926185,-.368344,1.306684,.63269,.947229,-.347366,1.267395,.581739,.969502,-.32672,1.233192,.532305,.990758,-.304973,1.201017,.484166,1.012749,-.282816,1.173018,.437385,1.035533,-.259084,1.147184,.390755,1.059915,-.235239,1.125388,.345399,1.084348,-.211044,1.105859,.301356,1.109544,-.186698,1.088888,.259708,1.13377,-.1619,1.073848,.220324,1.157553,-.136604,1.06319,.183857,1.176461,-.110428,1.05311,.148521,1.190137,-.082898,1.041484,.112124,1.197215,-.054554,1.026844,.07416,1.201654,-.026744,1.012264,.036527,1.207085,399e-6,1.000034,-201e-6,191e-6,-373e-6,4.194318,1.950551,504e-6,-983e-6,4.80435,1.950552,.002015,-.003931,4.80282,1.950518,.004536,-.008847,4.805254,1.950472,.008064,-.015725,4.804152,1.950517,.012693,-.02474,4.826828,1.949914,.018159,-.035365,4.803103,1.950349,.02474,-.048122,4.80322,1.950183,.032361,-.062822,4.801522,1.949917,.041034,-.07943,4.799593,1.949538,.050815,-.097841,4.797179,1.948972,.061702,-.118026,4.789557,1.948246,.073766,-.140112,4.783293,1.947204,.087066,-.163819,4.775698,1.945855,.101637,-.189122,4.764612,1.944052,.117558,-.215884,4.751486,1.94171,.134884,-.243968,4.734791,1.938727,.153637,-.27317,4.712078,1.934891,.17389,-.303146,4.683575,1.929976,.195643,-.333704,4.646766,1.92374,.218767,-.36417,4.596814,1.915888,.243337,-.39453,4.535509,1.90597,.26886,-.423512,4.452006,1.893623,.295173,-.450609,4.345682,1.878286,.322784,-.476488,4.231632,1.859391,.350616,-.49942,4.093553,1.836912,.379127,-.519862,3.944127,1.809625,.40786,-.537373,3.782223,1.778529,.436717,-.551802,3.615563,1.742684,.465345,-.562951,3.440672,1.702289,.494158,-.571334,3.26807,1.658666,.522896,-.577227,3.100668,1.611027,.551379,-.580514,2.937615,1.559742,.578992,-.58061,2.778703,1.507257,.605095,-.577729,2.621626,1.451941,.630653,-.573,2.476506,1.395218,.656175,-.566944,2.341592,1.337862,.681036,-.558988,2.216478,1.279275,.704713,-.549211,2.096972,1.220526,.726894,-.53719,1.983311,1.161709,.749865,-.524167,1.8811,1.102095,.773553,-.508991,1.785637,1.042039,.797102,-.491658,1.697234,.981588,.821187,-.474093,1.62025,.921265,.843848,-.45498,1.547071,.862757,.866662,-.435421,1.482008,.8047,.888696,-.41499,1.424116,.749432,.910945,-.394472,1.372658,.694767,.9323,-.373239,1.325157,.641106,.95285,-.351347,1.282217,.589689,.974718,-.329809,1.244897,.539322,.996445,-.307902,1.212306,.490083,1.01758,-.285392,1.181402,.442702,1.040342,-.262782,1.155996,.395911,1.064399,-.238995,1.131708,.350206,1.089464,-.214297,1.111215,.305175,1.115565,-.189293,1.093094,.262686,1.14064,-.163843,1.077994,.223078,1.163824,-.137789,1.066014,.185651,1.182577,-.111087,1.055615,.150045,1.195775,-.083945,1.04294,.113457,1.203175,-.056145,1.028015,.075453,1.207282,-.027685,1.012552,.037217,1.213019,362e-6,.999938,-293e-6,187e-6,-388e-6,4.316009,2.0765,504e-6,-.001048,5.317799,2.076499,.002014,-.004182,5.306557,2.076523,.004539,-.009425,5.317505,2.076453,.008063,-.016737,5.312143,2.07641,.012614,-.026171,5.316434,2.076389,.018158,-.037641,5.307836,2.076265,.024767,-.051266,5.315297,2.076044,.032372,-.066859,5.307433,2.075743,.041066,-.084538,5.304809,2.07527,.050871,-.104062,5.299277,2.074622,.061821,-.125613,5.293419,2.073708,.07397,-.149085,5.286629,2.072457,.087375,-.174214,5.275937,2.070804,.102105,-.201136,5.263267,2.068647,.118223,-.229505,5.246309,2.065846,.135814,-.259217,5.225496,2.062189,.154887,-.28999,5.19658,2.057566,.17551,-.321618,5.160716,2.051593,.197636,-.353632,5.112202,2.043949,.221168,-.385303,5.046981,2.034445,.246099,-.416511,4.965386,2.022368,.27207,-.446377,4.860735,2.00716,.29909,-.474279,4.73514,1.988598,.326702,-.499809,4.584962,1.965865,.355017,-.52279,4.420447,1.938705,.383856,-.542755,4.241942,1.90637,.413059,-.559903,4.053302,1.869455,.441882,-.573174,3.852753,1.827946,.471516,-.584151,3.660377,1.781652,.500872,-.591843,3.466027,1.730885,.529677,-.596253,3.272812,1.676821,.557683,-.597604,3.084286,1.620064,.585652,-.596591,2.906111,1.560909,.612819,-.593138,2.738258,1.500318,.639848,-.588245,2.584172,1.438127,.664758,-.58014,2.430697,1.375746,.688754,-.570189,2.290701,1.312727,.712848,-.55942,2.162679,1.250063,.735111,-.54657,2.042186,1.18784,.757521,-.532944,1.933435,1.125513,.780056,-.517981,1.833524,1.063827,.802513,-.500724,1.739053,1.002154,.825462,-.481625,1.652381,.939811,.848973,-.462327,1.57756,.878279,.871521,-.441928,1.509291,.8192,.892325,-.420297,1.443799,.761607,.914935,-.399072,1.389647,.705351,.936429,-.377232,1.339903,.650213,.957614,-.355091,1.295467,.597773,.979578,-.332767,1.256692,.545914,1.00086,-.310147,1.221666,.495661,1.02255,-.287395,1.190775,.448026,1.045005,-.264582,1.162641,.40049,1.068703,-.241464,1.138358,.354088,1.093098,-.217504,1.115973,.309812,1.11923,-.19214,1.096284,.266297,1.144608,-.165975,1.080042,.225831,1.168599,-.139174,1.067749,.187761,1.18797,-.11191,1.056635,.151322,1.20124,-.083978,1.043566,.114337,1.208895,-.056089,1.028366,.076083,1.213344,-.028369,1.013074,.037735,1.21922,-534e-6,.999968,76e-6,182e-6,-404e-6,4.433519,2.216201,504e-6,-.001117,5.911693,2.216198,.002017,-.004469,5.919142,2.21619,.004536,-.010051,5.913172,2.21613,.008065,-.017867,5.911791,2.216145,.012467,-.027603,5.785357,2.216447,.018156,-.040159,5.901121,2.215958,.024758,-.05467,5.908781,2.215654,.032395,-.071352,5.906098,2.215283,.041108,-.090201,5.902558,2.214715,.050955,-.111004,5.895707,2.213905,.061968,-.134002,5.888736,2.212807,.074206,-.159038,5.880633,2.211303,.087742,-.185801,5.867001,2.209297,.102652,-.214368,5.851446,2.206657,.119006,-.244573,5.830722,2.203232,.136883,-.276067,5.802688,2.198778,.156335,-.30866,5.767185,2.193091,.177396,-.34194,5.719726,2.185858,.20007,-.375591,5.658792,2.176584,.224067,-.408564,5.573508,2.164759,.24942,-.440668,5.465696,2.149777,.275879,-.471138,5.332207,2.131225,.303307,-.499204,5.173339,2.108794,.331189,-.524547,4.985102,2.080585,.359932,-.547256,4.785788,2.047792,.389063,-.566479,4.569344,2.009518,.418725,-.583031,4.349557,1.965601,.448181,-.595809,4.121278,1.916911,.477703,-.605102,3.892291,1.86353,.507999,-.612462,3.676557,1.806286,.536889,-.615451,3.456241,1.745841,.565778,-.616029,3.249464,1.681137,.593863,-.613644,3.050273,1.615238,.62077,-.608268,2.859599,1.548003,.647171,-.601116,2.683287,1.480447,.673458,-.59284,2.524036,1.412084,.698064,-.581973,2.371046,1.34513,.721011,-.568963,2.229104,1.27844,.744293,-.555642,2.103213,1.212448,.766314,-.540934,1.98537,1.146287,.788164,-.525271,1.878842,1.0826,.809019,-.507986,1.779821,1.019978,.830947,-.489717,1.69163,.956931,.853732,-.469345,1.607513,.894207,.874904,-.447618,1.531176,.833436,.897289,-.426124,1.467302,.773611,.919226,-.404025,1.408321,.716016,.94086,-.381454,1.356209,.659515,.962764,-.358901,1.310082,.604629,.984322,-.335983,1.268485,.552335,1.005343,-.312533,1.230662,.501591,1.028153,-.289452,1.199168,.452032,1.049283,-.265754,1.168575,.404347,1.073687,-.242571,1.143533,.357445,1.097546,-.218681,1.119859,.312534,1.12334,-.194465,1.099634,.269437,1.148166,-.168797,1.081968,.228586,1.172518,-.141552,1.068789,.189866,1.19293,-.113325,1.057548,.152772,1.206816,-.0848,1.044145,.11539,1.215045,-.056019,1.028938,.076493,1.220048,-.027733,1.013338,.037767,1.225852,5e-5,.999927,-16e-5,178e-6,-422e-6,4.587902,2.372253,504e-6,-.001195,6.624675,2.372248,.002016,-.004782,6.626884,2.372187,.004531,-.010746,6.607379,2.372318,.008081,-.019161,6.640102,2.372084,.012637,-.029945,6.653708,2.372128,.018167,-.042999,6.623837,2.371902,.024769,-.058516,6.624484,2.371595,.032421,-.07637,6.620877,2.37112,.041164,-.096474,6.615235,2.370428,.051057,-.118786,6.607844,2.36944,.062136,-.14339,6.599216,2.368075,.07449,-.170034,6.588018,2.366218,.088179,-.198717,6.572526,2.363747,.103307,-.229147,6.551868,2.360517,.119964,-.261253,6.526089,2.356304,.138173,-.294703,6.489593,2.350797,.158072,-.329261,6.443573,2.343783,.179592,-.364298,6.379764,2.334673,.202709,-.399375,6.295845,2.323125,.227335,-.433616,6.184929,2.308547,.25323,-.466794,6.045905,2.28998,.2801,-.497509,5.871803,2.266964,.308146,-.525956,5.672422,2.239074,.336544,-.551101,5.443256,2.204809,.365223,-.572471,5.188034,2.164827,.395484,-.592088,4.943783,2.119489,.424416,-.606026,4.6664,2.067262,.455641,-.619671,4.418961,2.009937,.485298,-.627583,4.152737,1.9489,.514774,-.632072,3.893344,1.882692,.544172,-.634033,3.645332,1.814073,.573283,-.633239,3.414651,1.742717,.602155,-.630008,3.195712,1.669703,.63052,-.62455,2.994536,1.596021,.657121,-.615749,2.799373,1.522572,.682071,-.604738,2.616102,1.448978,.707605,-.593301,2.456112,1.37625,.731492,-.579628,2.303517,1.305297,.754139,-.564473,2.16534,1.235548,.776505,-.548787,2.041646,1.167051,.796833,-.531415,1.923334,1.100534,.817565,-.513778,1.818176,1.035144,.837981,-.495167,1.72383,.971583,.858513,-.47569,1.638448,.908841,.879892,-.454099,1.55942,.846701,.902258,-.432038,1.491471,.785332,.924114,-.409316,1.428878,.726409,.94423,-.385618,1.370785,.668588,.967001,-.362604,1.323529,.612943,.988579,-.339117,1.279679,.559038,1.01021,-.315355,1.240104,.506867,1.032084,-.291408,1.205261,.456934,1.054671,-.267387,1.175197,.407792,1.078314,-.243346,1.148153,.360992,1.102443,-.219205,1.123799,.315577,1.128524,-.194996,1.102624,.271742,1.153989,-.169897,1.085134,.230702,1.17942,-.14396,1.071699,.192146,1.200098,-.116173,1.060179,.155164,1.214837,-.086655,1.04629,.117071,1.222749,-.056956,1.03004,.07745,1.227273,-.027883,1.01365,.038092,1.233293,831e-6,1.000043,-462e-6,173e-6,-442e-6,4.741539,2.547922,504e-6,-.001284,7.491127,2.547919,.002014,-.005132,7.484889,2.547844,.004523,-.011521,7.439875,2.547587,.008059,-.020524,7.483694,2.547725,.012586,-.032029,7.470912,2.547685,.018081,-.045948,7.422534,2.547686,.024783,-.062844,7.487581,2.547107,.032451,-.082011,7.483603,2.546522,.041233,-.10354,7.475124,2.545684,.051181,-.127537,7.467521,2.544438,.062347,-.153921,7.456266,2.542744,.074829,-.182427,7.440422,2.540459,.088703,-.213134,7.420694,2.53738,.10408,-.24575,7.394875,2.533347,.12105,-.279941,7.358515,2.528069,.139697,-.315591,7.313001,2.521237,.160036,-.35198,7.246342,2.512378,.182147,-.388993,7.163688,2.500993,.205799,-.42557,7.048339,2.48645,.231091,-.461093,6.902586,2.468174,.257405,-.494668,6.712721,2.444774,.284956,-.525889,6.491261,2.415538,.31318,-.553693,6.232833,2.38061,.342327,-.578724,5.953834,2.338525,.371689,-.599706,5.649698,2.290256,.401919,-.617615,5.3479,2.235157,.432204,-.631632,5.036417,2.173932,.463151,-.643082,4.735976,2.107298,.493388,-.64997,4.432044,2.036121,.524128,-.654188,4.145472,1.961595,.55393,-.654671,3.866877,1.883602,.583856,-.653051,3.607848,1.804521,.611762,-.646994,3.356237,1.724047,.639117,-.63886,3.122531,1.643016,.666279,-.629093,2.913178,1.563932,.692936,-.617862,2.722675,1.484614,.716498,-.603279,2.536926,1.406734,.742273,-.589878,2.381054,1.331469,.764031,-.572744,2.228312,1.256796,.786601,-.555933,2.095451,1.18529,.807776,-.537992,1.972866,1.11594,.8284,-.519596,1.863394,1.048371,.847412,-.499847,1.76063,.982934,.86685,-.47992,1.670998,.919972,.88634,-.459434,1.587962,.8581,.906933,-.437767,1.515505,.796714,.92749,-.414068,1.448243,.736162,.950217,-.39091,1.390505,.677613,.971545,-.366964,1.337865,.620477,.992901,-.342603,1.291104,.565807,1.01546,-.318596,1.251138,.513086,1.037859,-.294242,1.214291,.461573,1.060535,-.269601,1.182517,.411838,1.086885,-.245608,1.1553,.363221,1.111237,-.220589,1.129715,.317174,1.138718,-.196008,1.108103,.273213,1.164223,-.170408,1.08964,.231968,1.187256,-.144205,1.074145,.192987,1.207851,-.116945,1.061615,.156118,1.222217,-.088852,1.047599,.118674,1.230315,-.059381,1.030869,.078993,1.235052,-.029145,1.014126,.038924,1.241359,479e-6,1.000114,-211e-6,169e-6,-465e-6,4.953966,2.747437,504e-6,-.001384,8.54453,2.74743,.002015,-.005537,8.545147,2.747339,.004542,-.012477,8.557734,2.747125,.008064,-.022143,8.530193,2.747341,.012543,-.034411,8.465151,2.747411,.018178,-.049792,8.543328,2.746874,.02481,-.067784,8.547247,2.746396,.032489,-.088416,8.537436,2.74573,.041313,-.11158,8.526655,2.744596,.051332,-.137462,8.517438,2.743082,.062603,-.16586,8.502803,2.74095,.07524,-.196548,8.481507,2.738057,.089341,-.22944,8.454287,2.734174,.105021,-.264395,8.420289,2.729086,.122399,-.30102,8.373503,2.72242,.141526,-.338997,8.309059,2.713686,.162451,-.377589,8.221539,2.702492,.185098,-.416349,8.100116,2.687893,.209406,-.454284,7.941704,2.669386,.235098,-.49045,7.733318,2.64559,.2621,-.524592,7.48612,2.615709,.290103,-.555558,7.193498,2.579231,.319135,-.583516,6.874796,2.534957,.348286,-.606714,6.516118,2.483017,.37884,-.62785,6.163912,2.424214,.409608,-.644715,5.801404,2.357563,.440553,-.657657,5.435955,2.285835,.470599,-.665621,5.063481,2.20794,.503172,-.673767,4.743532,2.12644,.533884,-.676009,4.413409,2.040694,.563808,-.674536,4.092169,1.953979,.591849,-.668913,3.787057,1.865897,.621474,-.663159,3.520578,1.777762,.6505,-.655018,3.275065,1.689902,.678011,-.643949,3.043141,1.603528,.70349,-.63003,2.827104,1.519484,.72825,-.61491,2.63262,1.436677,.752165,-.598649,2.45557,1.355753,.775894,-.581771,2.295932,1.278884,.79765,-.563193,2.152291,1.202767,.818505,-.54375,2.022099,1.130338,.838596,-.524017,1.903562,1.060263,.858396,-.504064,1.797204,.993077,.877088,-.483418,1.701208,.928606,.896606,-.462786,1.617736,.866039,.914342,-.440943,1.539227,.804293,.93355,-.419129,1.470383,.745206,.955237,-.3961,1.4091,.685832,.9767,-.371743,1.35493,.627953,.997681,-.346882,1.305249,.572127,1.020784,-.322391,1.262603,.517941,1.04384,-.297564,1.225115,.466188,1.067224,-.272639,1.190817,.415499,1.092358,-.247664,1.161265,.366782,1.117573,-.22226,1.133935,.319377,1.14573,-.196933,1.11175,.275293,1.170822,-.170577,1.091981,.233306,1.194559,-.143878,1.07581,.19395,1.214819,-.116347,1.062438,.156724,1.22983,-.088233,1.048092,.118984,1.238185,-.059408,1.031325,.079385,1.243527,-.030703,1.014698,.039893,1.249724,-.00152,.999819,76e-5,164e-6,-489e-6,5.157359,2.9763,505e-6,-.001502,9.891415,2.976286,.002016,-.006,9.85773,2.976197,.004543,-.013519,9.870651,2.975832,.008064,-.023985,9.85578,2.97617,.012611,-.037471,9.850209,2.975941,.018162,-.053866,9.827134,2.974968,.02482,-.07339,9.849955,2.97501,.032545,-.095758,9.842021,2.974073,.041418,-.120834,9.829989,2.9727,.051511,-.148861,9.817421,2.970736,.06292,-.179456,9.797347,2.968033,.075744,-.212674,9.771533,2.964371,.090131,-.248193,9.735924,2.959437,.106187,-.285748,9.687707,2.952881,.124035,-.325017,9.622684,2.944273,.143733,-.365463,9.531452,2.933093,.165262,-.406157,9.401732,2.918484,.188622,-.446833,9.232451,2.899529,.213693,-.486209,9.013432,2.875137,.239987,-.522925,8.725671,2.844166,.267796,-.557452,8.400028,2.805649,.296547,-.588266,8.023041,2.75872,.325838,-.614837,7.606773,2.702676,.355479,-.63676,7.16068,2.638483,.386984,-.65723,6.736765,2.566849,.418853,-.673592,6.313742,2.488091,.450302,-.684966,5.884479,2.402458,.481149,-.691591,5.455771,2.311816,.512177,-.695337,5.055698,2.21733,.543437,-.69637,4.681506,2.121285,.574309,-.694186,4.334716,2.02416,.604787,-.689158,4.008524,1.927738,.633483,-.68058,3.703505,1.830456,.660766,-.669088,3.418386,1.734934,.688471,-.656673,3.168101,1.642316,.715729,-.64282,2.941735,1.550744,.740435,-.626155,2.73057,1.463345,.764114,-.608299,2.537561,1.378151,.787028,-.589519,2.364323,1.29763,.807985,-.569257,2.20797,1.21783,.830663,-.550055,2.076646,1.142746,.850416,-.528812,1.948085,1.070757,.869609,-.507478,1.834684,1.001282,.888324,-.486131,1.734879,.934987,.907482,-.46491,1.645974,.871203,.924829,-.442742,1.56355,.80926,.942958,-.420777,1.491264,.750037,.961999,-.398842,1.428069,.691715,.981043,-.375967,1.369668,.635669,1.002371,-.351469,1.318588,.578689,1.025343,-.326601,1.273628,.524424,1.048511,-.301395,1.234572,.471403,1.072242,-.275835,1.198354,.41995,1.096758,-.2502,1.166392,.370733,1.122781,-.224474,1.138991,.322864,1.150871,-.198592,1.114313,.277723,1.177319,-.171805,1.093534,.23495,1.201765,-.144291,1.077462,.195376,1.222629,-.115949,1.063288,.157315,1.237334,-.08714,1.048366,.118843,1.246153,-.058094,1.031224,.079207,1.25257,-.029194,1.014695,.039376,1.25906,-418e-6,.999881,307e-6,159e-6,-515e-6,5.393984,3.241865,505e-6,-.001636,11.548038,3.241848,.002016,-.006534,11.50664,3.241718,.004537,-.014706,11.51346,3.241196,.008068,-.026134,11.510533,3.241693,.012573,-.040676,11.428978,3.24103,.018212,-.058794,11.510745,3.240924,.024847,-.079926,11.497339,3.240201,.032603,-.10416,11.484607,3.238994,.041543,-.131552,11.470801,3.237182,.051738,-.162012,11.453219,3.234635,.063313,-.19526,11.427244,3.231153,.076381,-.231205,11.388534,3.226361,.091096,-.269678,11.340406,3.219943,.1076,-.31017,11.270127,3.211448,.126017,-.352435,11.178583,3.200168,.146411,-.395551,11.046559,3.185328,.168663,-.438627,10.858624,3.165972,.19273,-.48066,10.606379,3.140735,.218497,-.520987,10.288093,3.108388,.245752,-.558483,9.90748,3.067586,.273993,-.59209,9.453246,3.016931,.303495,-.622416,8.966138,2.956444,.333717,-.648303,8.443776,2.885116,.363928,-.66864,7.894122,2.805963,.39624,-.687748,7.385728,2.718338,.427161,-.699903,6.838511,2.622346,.460175,-.71121,6.356371,2.522476,.492593,-.717734,5.878312,2.417984,.524449,-.719956,5.423285,2.310941,.55601,-.719127,4.997909,2.201885,.587032,-.715077,4.600426,2.09333,.61703,-.707574,4.235885,1.986585,.644684,-.695781,3.881712,1.881279,.674483,-.685313,3.59096,1.777918,.70029,-.669619,3.303138,1.678004,.727892,-.654728,3.057771,1.581162,.751694,-.635727,2.826642,1.487769,.776271,-.617343,2.622178,1.399628,.799502,-.597683,2.441265,1.313195,.821768,-.57709,2.276954,1.232316,.84196,-.555165,2.125744,1.153914,.861582,-.532983,1.991236,1.079598,.88146,-.510933,1.874027,1.008883,.899952,-.488321,1.766812,.940802,.918954,-.466405,1.673436,.875653,.93613,-.443623,1.586986,.81313,.954799,-.421532,1.513558,.752241,.972435,-.398897,1.445787,.694711,.990147,-.376302,1.384382,.63877,1.009189,-.353623,1.331934,.583826,1.029687,-.330635,1.284478,.530476,1.052604,-.305698,1.243632,.477187,1.076524,-.279917,1.204997,.425349,1.101701,-.253951,1.17175,.375165,1.127264,-.227541,1.142519,.326869,1.156397,-.201265,1.116817,.280912,1.18302,-.173943,1.095289,.237447,1.208448,-.14586,1.078296,.196694,1.230417,-.116901,1.064416,.158409,1.248617,-.087507,1.050504,.119483,1.25731,-.057353,1.032796,.079092,1.263076,-.027785,1.015128,.038883,1.26987,.001331,.999935,-557e-6,154e-6,-549e-6,5.705205,3.554136,506e-6,-.001797,13.703335,3.554133,.002014,-.007156,13.614074,3.553937,.004544,-.016145,13.657344,3.553096,.00807,-.028652,13.627997,3.553894,.012584,-.044617,13.606235,3.554,.01818,-.064288,13.581339,3.549637,.024887,-.087627,13.608851,3.552006,.03269,-.114134,13.599099,3.550341,.041705,-.144154,13.579829,3.547982,.052035,-.1774,13.552845,3.544641,.06381,-.213813,13.515619,3.539941,.077171,-.252978,13.46046,3.533696,.092329,-.294852,13.393559,3.524977,.10939,-.338688,13.292376,3.513655,.128455,-.384018,13.147332,3.498484,.149661,-.42996,12.945774,3.478323,.172694,-.475024,12.658979,3.451862,.19765,-.518614,12.289564,3.417602,.224156,-.559298,11.828307,3.372913,.252008,-.59611,11.285162,3.317454,.281165,-.629292,10.684922,3.251171,.311434,-.658379,10.052939,3.172222,.342741,-.683455,9.405296,3.082825,.373543,-.701674,8.716078,2.983976,.407008,-.719664,8.108425,2.876244,.438623,-.729882,7.461252,2.763279,.471872,-.738696,6.880182,2.64559,.5047,-.743136,6.324308,2.52468,.537118,-.743676,5.808302,2.402723,.569412,-.741181,5.332306,2.281437,.598202,-.732348,4.857402,2.161401,.62964,-.724832,4.465554,2.043872,.659239,-.713435,4.093661,1.930129,.686547,-.698539,3.752593,1.817654,.715529,-.684471,3.457593,1.712567,.739456,-.664983,3.17122,1.610687,.764892,-.646322,2.929674,1.512031,.789301,-.626393,2.710719,1.419033,.809881,-.603498,2.506139,1.330115,.833385,-.582934,2.336089,1.245859,.854254,-.560419,2.17847,1.165042,.873964,-.537294,2.040087,1.086633,.893433,-.514264,1.911969,1.015028,.911756,-.490657,1.79984,.944938,.930894,-.467601,1.703188,.878743,.948078,-.444043,1.612092,.815356,.966162,-.421155,1.534444,.753883,.984166,-.398238,1.462397,.695534,1.002184,-.375278,1.400793,.638806,1.019669,-.352159,1.344172,.584549,1.039571,-.329651,1.295227,.53166,1.059989,-.306804,1.251281,.480529,1.081116,-.283345,1.211504,.430071,1.105742,-.258568,1.1764,.380277,1.13308,-.232146,1.144519,.331076,1.161888,-.205244,1.118059,.28404,1.192408,-.177932,1.097561,.239958,1.221043,-.149532,1.082021,.198751,1.244141,-.120046,1.067634,.160114,1.259465,-.089542,1.051626,.121101,1.268124,-.058593,1.033296,.079898,1.27433,-.028011,1.015382,.039038,1.28159,.00233,1.000087,-.001259,149e-6,-587e-6,6.059834,3.927143,507e-6,-.001992,16.5604,3.927149,.002014,-.00791,16.406326,3.926821,.004549,-.017856,16.545532,3.927027,.008064,-.031632,16.375853,3.925487,.01245,-.048749,15.928564,3.928272,.01803,-.070371,16.072989,3.917862,.024964,-.096897,16.458925,3.924489,.032807,-.126073,16.377851,3.921896,.041917,-.159205,16.351561,3.91886,.052416,-.195762,16.307037,3.914339,.064464,-.235784,16.255514,3.907954,.078225,-.278812,16.176226,3.899254,.0939,-.324457,16.06653,3.887455,.111657,-.372174,15.913818,3.871777,.131478,-.42053,15.669197,3.850776,.153574,-.46933,15.355453,3.822348,.177505,-.516029,14.908978,3.785168,.203383,-.560585,14.352687,3.736602,.230569,-.600607,13.666022,3.675046,.259188,-.636296,12.900244,3.599811,.289272,-.668312,12.111226,3.51055,.32049,-.695986,11.292102,3.408535,.353031,-.719848,10.493485,3.295667,.385228,-.737073,9.661955,3.171998,.419219,-.752419,8.909942,3.042428,.452096,-.761179,8.155107,2.907108,.484909,-.766166,7.450609,2.769858,.518306,-.768596,6.811866,2.631935,.550067,-.765683,6.205275,2.49287,.582562,-.761197,5.663215,2.358645,.61445,-.753834,5.165358,2.227377,.644563,-.74286,4.712554,2.097547,.673658,-.729294,4.306101,1.97492,.702857,-.714839,3.943352,1.857613,.72935,-.696774,3.609432,1.743601,.754958,-.677394,3.308389,1.636607,.779575,-.657018,3.043803,1.533841,.800491,-.633342,2.793592,1.437092,.82503,-.612471,2.590307,1.344272,.847535,-.589882,2.406477,1.256436,.865979,-.56485,2.231999,1.173938,.886254,-.541357,2.083556,1.094722,.905566,-.517353,1.950928,1.021107,.924607,-.49332,1.835979,.948941,.943365,-.469366,1.731417,.88106,.960405,-.444745,1.635838,.816479,.977893,-.420493,1.552981,.754604,.996573,-.39715,1.481595,.694917,1.014,-.373483,1.41407,.638445,1.031807,-.349985,1.356031,.584035,1.051877,-.327062,1.305041,.53001,1.071701,-.304134,1.258836,.479439,1.093109,-.280962,1.217297,.429763,1.116681,-.258121,1.182063,.38105,1.143886,-.235365,1.150039,.333395,1.175163,-.211621,1.125074,.287477,1.203675,-.184061,1.102339,.243301,1.230477,-.154815,1.083927,.201826,1.253134,-.124513,1.067989,.162271,1.270092,-.093383,1.052032,.122855,1.279576,-.06177,1.033685,.081639,1.286472,-.030317,1.015583,.040411,1.294476,964e-6,1.000206,-454e-6,144e-6,-63e-5,6.467978,4.381146,504e-6,-.002208,20.193617,4.381151,.002017,-.008834,20.206446,4.380687,.004536,-.019864,20.183254,4.38055,.008174,-.035759,20.564249,4.381247,.012608,-.055034,20.111612,4.38239,.018198,-.079119,20.106096,4.379815,.025057,-.108067,20.215635,4.376874,.032962,-.14063,20.153549,4.374143,.042199,-.17735,20.084061,4.369558,.052928,-.218094,20.026609,4.363287,.065327,-.262407,19.940054,4.354386,.079568,-.309833,19.806814,4.342127,.095961,-.360074,19.641878,4.325533,.114516,-.411747,19.370914,4.30295,.135349,-.463726,18.9839,4.271991,.158293,-.514211,18.433926,4.230856,.183348,-.562511,17.733471,4.17625,.209959,-.60631,16.864214,4.105895,.238736,-.646958,15.935207,4.020104,.268543,-.681574,14.890014,3.916094,.299996,-.712458,13.846786,3.798239,.33193,-.73713,12.758296,3.664191,.365222,-.758156,11.73294,3.521867,.399061,-.774364,10.741743,3.369831,.43348,-.786412,9.812527,3.212079,.467002,-.792373,8.91513,3.053715,.500754,-.79541,8.094276,2.894526,.534023,-.794617,7.342067,2.735959,.566988,-.790689,6.664186,2.58116,.59996,-.784433,6.052983,2.432318,.630599,-.773378,5.486277,2.28763,.660807,-.760334,4.982516,2.150183,.690103,-.74543,4.531104,2.017266,.717315,-.727511,4.120734,1.891699,.743819,-.708376,3.759599,1.77268,.770147,-.688632,3.441912,1.66062,.79351,-.665931,3.1526,1.553166,.816535,-.643045,2.898883,1.45208,.839163,-.619917,2.674488,1.355544,.859066,-.594923,2.469262,1.267232,.879489,-.570343,2.292209,1.181702,.898525,-.544975,2.131086,1.102089,.918359,-.520585,1.994526,1.024744,.937502,-.496044,1.873079,.951712,.955573,-.47101,1.761232,.883374,.972957,-.445712,1.661604,.818008,.991248,-.421201,1.577169,.754446,1.008997,-.396444,1.499653,.694518,1.028127,-.372362,1.43203,.637259,1.04571,-.347895,1.36987,.581515,1.065977,-.324409,1.317341,.527713,1.087469,-.301181,1.270447,.476281,1.109943,-.277866,1.228398,.426403,1.13444,-.254849,1.190986,.377822,1.160986,-.231754,1.157681,.33074,1.188458,-.207973,1.128665,.286014,1.214405,-.183424,1.103711,.2436,1.239504,-.157972,1.084253,.203686,1.262961,-.130607,1.068258,.165214,1.28034,-.099652,1.051919,.126067,1.292129,-.067363,1.034016,.084791,1.299876,-.035026,1.015775,.042786,1.308328,-.002944,.999963,.001385,138e-6,-681e-6,6.943771,4.946556,503e-6,-.002486,25.346689,4.946532,.002016,-.009973,25.49432,4.946311,.004539,-.02244,25.484949,4.945823,.008069,-.039836,25.420902,4.945311,.012628,-.062172,25.394403,4.945041,.018294,-.089609,25.440279,4.943295,.025079,-.121584,25.399988,4.939368,.033142,-.158595,25.356537,4.9362,.042596,-.199971,25.295067,4.929842,.053628,-.245624,25.196465,4.920586,.066496,-.29524,25.055311,4.9077,.081434,-.348006,24.84617,4.889647,.09864,-.403167,24.527803,4.86468,.118231,-.459106,24.051735,4.830574,.140139,-.513907,23.352467,4.78353,.164198,-.565953,22.418245,4.72053,.190502,-.614858,21.324049,4.638075,.21853,-.658304,20.038671,4.535464,.248094,-.696133,18.639786,4.411646,.279435,-.729388,17.234526,4.268872,.312002,-.757534,15.830426,4.109603,.346173,-.781866,14.495901,3.938782,.379435,-.797579,13.136444,3.756138,.414945,-.812334,11.946491,3.571258,.449991,-.821119,10.811908,3.384217,.484636,-.825066,9.763482,3.198076,.518675,-.824728,8.796811,3.015808,.552559,-.82171,7.932528,2.836886,.587272,-.817478,7.185156,2.664995,.61696,-.804441,6.445302,2.502223,.648054,-.792063,5.818812,2.345851,.678575,-.777793,5.264731,2.19715,.707287,-.760476,4.766033,2.056042,.735851,-.742541,4.335871,1.922805,.760594,-.720503,3.928021,1.798585,.784534,-.697719,3.579153,1.680605,.811029,-.677036,3.285307,1.568942,.831809,-.651479,3.001423,1.465496,.854364,-.627376,2.760672,1.367849,.872639,-.600496,2.540697,1.275644,.894296,-.576297,2.355273,1.188638,.913123,-.550377,2.188563,1.105652,.932025,-.52464,2.040739,1.028614,.949876,-.498402,1.910315,.954421,.968933,-.47322,1.79575,.884061,.985366,-.447086,1.690336,.817765,1.00494,-.422394,1.599626,.753295,1.022217,-.396726,1.519055,.69338,1.04149,-.371854,1.448745,.635747,1.05992,-.346769,1.384292,.579508,1.080408,-.322343,1.328798,.525045,1.101632,-.297979,1.279898,.473773,1.124812,-.274059,1.234005,.422949,1.148503,-.249954,1.195373,.374609,1.174554,-.225988,1.160362,.32735,1.202931,-.201932,1.131307,.283494,1.229335,-.176886,1.105885,.241092,1.254254,-.151225,1.085802,.201514,1.275743,-.124282,1.068524,.162866,1.292929,-.097122,1.051493,.124991,1.305805,-.068939,1.03389,.085521,1.314991,-.040082,1.015927,.045247,1.324033,-.009923,.999893,.004738,131e-6,-745e-6,7.562414,5.671075,473e-6,-.002681,27.216688,5.670949,.002021,-.011462,32.962402,5.670177,.00454,-.025728,33.183949,5.670197,.008087,-.045746,33.185688,5.667313,.012673,-.071427,33.170441,5.668396,.018358,-.102673,33.145138,5.665252,.025299,-.13978,33.303326,5.653404,.033469,-.181718,33.107243,5.652829,.043139,-.228698,32.859524,5.645676,.054622,-.280648,32.694893,5.631547,.068115,-.336524,32.422569,5.611561,.083957,-.395671,32.035511,5.583449,.102259,-.456164,31.415047,5.543651,.123021,-.515765,30.47044,5.488278,.146127,-.572309,29.186451,5.413118,.171749,-.62571,27.653852,5.312369,.199549,-.673853,25.902435,5.185774,.229188,-.715905,23.978609,5.030582,.260421,-.751533,21.999035,4.853484,.293421,-.782309,20.087366,4.656137,.327077,-.806332,18.186535,4.443975,.361892,-.825818,16.418409,4.223844,.397146,-.840019,14.774344,3.998959,.434169,-.852434,13.321097,3.775443,.469288,-.856632,11.929448,3.552818,.504319,-.85713,10.675201,3.338825,.540067,-.855903,9.5919,3.130547,.575404,-.851565,8.607655,2.93293,.606782,-.839818,7.69056,2.743876,.63866,-.827508,6.900781,2.565115,.670577,-.814154,6.216821,2.395215,.696718,-.793162,5.551886,2.238233,.72599,-.775291,5.015406,2.090264,.75414,-.755758,4.546843,1.950834,.775992,-.729824,4.094254,1.820582,.80299,-.708909,3.732984,1.699191,.828291,-.686483,3.413194,1.583805,.847406,-.659162,3.103861,1.478093,.864951,-.631051,2.832976,1.378496,.887154,-.60659,2.616645,1.282127,.906337,-.580124,2.413988,1.194643,.927184,-.554835,2.24438,1.110354,.94381,-.527583,2.081964,1.031996,.96363,-.502243,1.948979,.956718,.979691,-.475006,1.822701,.886957,.99769,-.448815,1.715714,.819006,1.01646,-.423044,1.621868,.754892,1.035485,-.397637,1.539537,.693707,1.053165,-.371775,1.462285,.634867,1.072394,-.346372,1.396193,.578574,1.093397,-.321291,1.338344,.524341,1.115194,-.296102,1.287594,.472059,1.137943,-.271023,1.240495,.421674,1.164163,-.246367,1.201224,.371963,1.191457,-.221414,1.164472,.32504,1.220253,-.196228,1.134325,.280343,1.245456,-.169991,1.108214,.238098,1.270647,-.143314,1.087277,.197886,1.292124,-.115881,1.069397,.15956,1.309091,-.087816,1.051426,.120547,1.32113,-.059301,1.032904,.080834,1.332484,-.030912,1.015767,.040933,1.342834,-.002172,.999591,.001185,125e-6,-83e-5,8.392562,6.634228,443e-6,-.002936,29.687805,6.634032,.002016,-.013374,45.025234,6.633008,.00454,-.030089,45.020294,6.633056,.008092,-.053499,45.066029,6.626466,.01271,-.08361,44.810101,6.63033,.018485,-.12026,45.216747,6.614516,.025134,-.161031,44.674168,6.600349,.033897,-.212161,44.819195,6.610186,.043978,-.266661,44.450245,6.593605,.056094,-.326582,44.134544,6.570142,.070528,-.390342,43.591648,6.536712,.087498,-.456162,42.70816,6.488329,.107138,-.521609,41.365093,6.420198,.129461,-.584225,39.525822,6.323702,.154245,-.641931,37.186111,6.193606,.181228,-.692829,34.47847,6.026897,.210711,-.73844,31.680904,5.825769,.242181,-.777397,28.828054,5.595428,.275337,-.80998,26.042755,5.342321,.309698,-.83599,23.376804,5.073076,.345702,-.858077,20.965754,4.794572,.382135,-.874122,18.710079,4.516676,.419871,-.887133,16.713011,4.241767,.455609,-.891199,14.819674,3.972124,.492617,-.894082,13.187921,3.717271,.528186,-.89127,11.708584,3.471719,.563462,-.885719,10.422834,3.23776,.596013,-.874241,9.237741,3.01906,.629455,-.862814,8.248549,2.813572,.66111,-.848126,7.358398,2.621046,.690314,-.829798,6.569392,2.441627,.720589,-.812314,5.905934,2.274629,.745631,-.788704,5.2768,2.119423,.771488,-.766133,4.752773,1.97438,.798704,-.744726,4.306095,1.839482,.820172,-.718062,3.889792,1.713244,.844368,-.693972,3.545456,1.594809,.863128,-.665748,3.212762,1.487512,.880094,-.637003,2.926572,1.386724,.904252,-.613728,2.70426,1.288131,.920506,-.585217,2.483164,1.199845,.940919,-.559603,2.300348,1.114958,.957044,-.531597,2.130516,1.034754,.972648,-.503583,1.979313,.960912,.994318,-.478813,1.859664,.889786,1.008754,-.450943,1.742705,.820833,1.028667,-.425516,1.64522,.756332,1.046145,-.398977,1.557184,.693921,1.067212,-.373657,1.480814,.635955,1.084111,-.346657,1.408762,.578832,1.106749,-.321392,1.350468,.523561,1.12844,-.295773,1.294865,.471146,1.151073,-.270028,1.246118,.420298,1.178601,-.244816,1.204226,.370575,1.206845,-.219027,1.166896,.323716,1.235963,-.192622,1.135756,.278058,1.26303,-.165331,1.10924,.235743,1.288937,-.137489,1.088379,.19539,1.310681,-.108685,1.068987,.156439,1.334352,-.07971,1.054273,.117096,1.344847,-.049947,1.034598,.076554,1.354943,-.020272,1.016079,.035585,1.365515,.00917,.999969,-.004771,117e-6,-935e-6,9.424866,7.979243,41e-5,-.003275,33.013195,7.979422,.002009,-.016024,64.370331,7.977156,.004541,-.036176,64.655952,7.976128,.008109,-.064384,64.864494,7.964988,.012694,-.099984,64.487198,7.971348,.018554,-.143991,64.63797,7.923116,.025303,-.19204,61.930538,7.953975,.035297,-.259442,66.274422,7.921861,.045226,-.31837,63.33469,7.909609,.05837,-.388821,62.686401,7.864696,.074083,-.461667,61.332054,7.801843,.092537,-.533744,59.125607,7.708949,.113781,-.601905,55.997845,7.575799,.137786,-.664409,52.177567,7.393524,.16477,-.721193,48.019485,7.161756,.193894,-.768842,43.460278,6.882018,.225586,-.810332,39.08659,6.564607,.259311,-.845096,34.896049,6.221983,.294517,-.872849,30.952213,5.865831,.331163,-.895159,27.375792,5.507064,.368964,-.91286,24.21331,5.149763,.407255,-.925338,21.364958,4.806172,.444704,-.930956,18.791691,4.472272,.482041,-.932576,16.52116,4.160864,.519572,-.931547,14.589918,3.865206,.556236,-.926554,12.887797,3.590445,.590431,-.915839,11.352402,3.332747,.622723,-.901266,10.00266,3.093264,.657029,-.888747,8.90521,2.873842,.686164,-.868666,7.876704,2.66674,.719168,-.853152,7.051816,2.479017,.742294,-.826169,6.226034,2.306498,.77032,-.804936,5.590831,2.141328,.792337,-.777772,4.984083,1.994663,.81905,-.755478,4.507655,1.85395,.837684,-.726072,4.049884,1.72559,.861324,-.701424,3.678201,1.606303,.880741,-.673615,3.337163,1.495452,.903335,-.648506,3.05572,1.391162,.920311,-.61964,2.792068,1.294734,.935769,-.590245,2.554566,1.204518,.956592,-.564944,2.366468,1.11863,.972424,-.536842,2.187863,1.038323,.986269,-.50802,2.02348,.963803,1.006122,-.482411,1.895137,.890986,1.022504,-.45511,1.775886,.820936,1.037905,-.42745,1.665951,.758556,1.059281,-.402198,1.577363,.696126,1.076613,-.375156,1.493391,.636676,1.097828,-.349577,1.421129,.579947,1.116671,-.322955,1.355205,.52514,1.140514,-.297406,1.299979,.47146,1.166473,-.271786,1.249847,.420473,1.192591,-.245461,1.204625,.371118,1.223349,-.219412,1.166686,.3226,1.254833,-.19266,1.134121,.277572,1.285808,-.165167,1.108617,.234417,1.322015,-.137236,1.093841,.19464,1.342172,-.106871,1.074616,.155001,1.357238,-.075759,1.05355,.114648,1.367725,-.044279,1.033851,.073254,1.379461,-.013001,1.015713,.031895,1.391625,.018075,1.000203,-.009397,109e-6,-.001093,10.98682,9.992467,378e-6,-.003779,37.989063,9.992861,.002028,-.020252,101.850441,9.988345,.004557,-.045429,101.10675,9.983879,.008115,-.080453,100.646606,9.953411,.012864,-.125836,101.366592,9.943727,.018734,-.17935,100.786118,9.908408,.026314,-.24368,99.779343,9.821631,.0355,-.313552,98.608231,9.78245,.047562,-.394644,97.689568,9.845875,.062065,-.476697,95.177795,9.755218,.079552,-.557933,91.095581,9.615121,.099905,-.632818,85.110382,9.408299,.123231,-.699926,77.948921,9.120996,.14998,-.760671,70.491119,8.764173,.17955,-.812251,62.821407,8.341752,.211839,-.855909,55.51289,7.876337,.246434,-.892023,48.744549,7.386268,.282317,-.9192,42.462059,6.886009,.31958,-.940333,36.901031,6.400318,.360135,-.962176,32.353752,5.937503,.397805,-.969755,27.996445,5.489783,.437077,-.976494,24.359192,5.072855,.474388,-.975265,21.1243,4.684682,.513695,-.975335,18.476677,4.326597,.551542,-.970264,16.167391,3.999049,.587525,-.960365,14.143442,3.696317,.621251,-.945944,12.374341,3.414176,.654738,-.930709,10.877112,3.160455,.685794,-.911702,9.580887,2.921461,.717135,-.892948,8.481939,2.707478,.740798,-.865086,7.435941,2.510382,.77092,-.845137,6.650625,2.329648,.792303,-.815956,5.879976,2.163206,.818363,-.792225,5.274404,2.008042,.837362,-.762396,4.70096,1.867576,.862266,-.738465,4.254798,1.735819,.880069,-.70889,3.828697,1.61469,.896021,-.678588,3.451655,1.503477,.920156,-.654832,3.168722,1.3958,.934948,-.62474,2.879533,1.299955,.949686,-.595203,2.628258,1.208597,.970989,-.570041,2.433689,1.12231,.985606,-.541116,2.241461,1.042168,1.000819,-.512835,2.075567,.966543,1.012209,-.483024,1.919932,.895758,1.03532,-.459125,1.807884,.825668,1.052077,-.432333,1.695689,.760812,1.070459,-.406131,1.595491,.699897,1.088704,-.379721,1.508512,.640575,1.103817,-.352104,1.428159,.583765,1.131711,-.328122,1.366565,.52824,1.156448,-.302568,1.306843,.473988,1.181821,-.276487,1.252861,.422189,1.211347,-.25054,1.205265,.372005,1.243636,-.224264,1.165943,.324184,1.283038,-.198289,1.137772,.278419,1.316722,-.170179,1.115057,.235425,1.342715,-.140095,1.092994,.195084,1.363288,-.108794,1.071875,.155439,1.380656,-.076774,1.052475,.114636,1.394826,-.044509,1.032525,.07289,1.40883,-.011968,1.015459,.031101,1.42237,.020555,.999808,-.011002,1e-4,-.001334,13.377127,13.342275,342e-6,-.004563,45.758434,13.34271,.002026,-.027004,179.672058,13.331846,.004559,-.060563,179.294235,13.314877,.008232,-.108154,181.242035,13.222856,.013031,-.16759,179.684509,13.15386,.019526,-.242041,181.004608,12.986094,.026364,-.309289,159.606293,13.247752,.03767,-.409755,179.468521,12.368877,.051804,-.512051,167.955582,12.981333,.068214,-.601994,156.278793,12.704532,.088295,-.686849,143.096878,12.316531,.111478,-.75867,127.423111,11.793048,.138336,-.821348,111.763031,11.157992,.168447,-.873616,96.887924,10.447472,.201411,-.916322,83.225327,9.696606,.237443,-.95309,71.403137,8.949244,.274234,-.977751,60.739277,8.225874,.314566,-1.003135,52.115578,7.547433,.353932,-1.016312,44.341869,6.910326,.393858,-1.024848,37.827263,6.324401,.433805,-1.02895,32.380932,5.790555,.475812,-1.034084,27.955982,5.312826,.513254,-1.026743,23.977417,4.866118,.549965,-1.01674,20.628025,4.468437,.5903,-1.01203,18.036856,4.105483,.62642,-.998919,15.669224,3.780593,.658897,-.979874,13.603898,3.482054,.687252,-.955238,11.788331,3.211213,.718941,-.935663,10.355552,2.962083,.749877,-.915206,9.131123,2.741382,.772094,-.884837,7.973935,2.536501,.799495,-.861214,7.08623,2.347282,.820136,-.830976,6.240769,2.179332,.846715,-.807408,5.604792,2.018005,.865176,-.776657,4.975034,1.877021,.8811,-.744657,4.442767,1.743528,.907637,-.722088,4.035177,1.621563,.922239,-.690432,3.63316,1.506158,.936558,-.65965,3.281798,1.403606,.950047,-.629105,2.974179,1.304276,.961959,-.598277,2.704483,1.213888,.98741,-.576085,2.510453,1.125569,.999996,-.546494,2.304016,1.045567,1.014127,-.518186,2.127867,.970718,1.036275,-.494009,1.985804,.897557,1.049695,-.465659,1.845074,.830584,1.064617,-.438159,1.72513,.766083,1.077131,-.409813,1.613818,.705101,1.101054,-.385632,1.528694,.644828,1.122361,-.360045,1.447086,.587878,1.147359,-.335186,1.377588,.53213,1.169881,-.30904,1.313673,.478843,1.200554,-.28459,1.257256,.426855,1.232047,-.259332,1.208431,.376125,1.275402,-.235215,1.174692,.326614,1.306595,-.207508,1.141042,.281524,1.334304,-.17829,1.111778,.238694,1.364678,-.14853,1.090976,.198549,1.387168,-.117114,1.069308,.158529,1.408657,-.084977,1.050625,.118042,1.426214,-.052052,1.031444,.076541,1.444257,-.018653,1.014298,.034061,1.460618,.015206,.999413,-.008132,1e-4,-.002003,20.052612,20.032721,297e-6,-.005947,59.540512,20.033842,.002022,-.040439,404.848511,20.032743,.004588,-.090999,403.741241,19.910591,.008769,-.169802,441.471558,19.572552,.013708,-.253629,411.667816,19.145721,.020331,-.349396,371.322571,18.591049,.030259,-.468121,385.816498,18.331083,.04519,-.611444,391.924133,15.807686,.058476,-.676875,319.638641,16.947781,.079894,-.781421,278.80426,17.512903,.103871,-.855116,235.999786,16.290295,.131756,-.915747,197.168076,14.956566,.163487,-.966333,163.452347,13.60801,.198693,-1.008386,135.632706,12.299661,.236157,-1.039862,111.919281,11.08879,.274579,-1.059988,92.136581,9.983883,.317164,-1.084069,77.063034,9.008505,.357624,-1.092124,63.963051,8.127298,.399009,-1.09756,53.483341,7.347628,.441182,-1.100981,45.052429,6.658191,.481606,-1.097318,37.93264,6.047333,.524253,-1.09657,32.395638,5.505878,.564351,-1.088739,27.67938,5.018494,.600843,-1.073396,23.611519,4.58077,.635527,-1.055024,20.207081,4.194785,.672045,-1.039775,17.469036,3.847436,.698372,-1.009545,14.928226,3.532546,.729336,-.987168,12.95317,3.248834,.761147,-.966299,11.346271,2.994166,.78227,-.932841,9.813129,2.762244,.811832,-.910431,8.672224,2.549933,.832053,-.878369,7.578633,2.363132,.849383,-.844673,6.648379,2.189266,.86602,-.811703,5.850784,2.031716,.893083,-.789181,5.273372,1.88448,.909212,-.757541,4.700618,1.750298,.923169,-.725157,4.19664,1.62759,.937112,-.693769,3.764841,1.514906,.961901,-.670828,3.444598,1.406839,.975245,-.64024,3.120745,1.307873,.989696,-.611032,2.840732,1.216417,1.002057,-.581144,2.591596,1.132553,1.014022,-.55162,2.37382,1.051695,1.025307,-.522268,2.177992,.9775,1.05219,-.500826,2.042511,.904301,1.064408,-.472355,1.891934,.837557,1.077876,-.444815,1.761054,.773004,1.088939,-.416531,1.638939,.713958,1.118551,-.395057,1.555724,.652485,1.134469,-.368289,1.46549,.59633,1.162778,-.345095,1.390977,.539703,1.185298,-.319527,1.321225,.48625,1.208419,-.29359,1.259318,.434178,1.261013,-.273471,1.219767,.382032,1.297811,-.248226,1.176422,.33419,1.326591,-.220354,1.139881,.289075,1.357918,-.191937,1.111418,.246259,1.38759,-.162282,1.086511,.205129,1.415797,-.131515,1.067072,.165601,1.440194,-.099555,1.047799,.125462,1.4656,-.066957,1.030406,.084082,1.487714,-.033496,1.013889,.041981,1.509947,663e-6,.998773,-485e-6,1e-4,-.004009,40.102047,40.087105,228e-6,-.009141,91.431366,40.074432,.001522,-.060544,605.651733,39.918827,.004919,-.188871,1712.9823,38.873421,.009053,-.320325,1583.453125,39.715633,.015375,-.471415,1486.033691,39.162876,.029306,-.735111,1751.70105,28.0832,.04345,-.859759,1392.47522,24.599945,.079075,-1.220033,1629.972656,18.507019,.09013,-1.091255,940.347351,17.961655,.098008,-.945965,425.901093,24.47801,.138246,-1.084105,416.823944,20.003433,.174489,-1.133148,302.730042,18.550846,.207969,-1.138483,242.853577,15.923334,.249132,-1.168197,191.649445,13.940813,.291391,-1.187038,152.910309,12.263267,.332856,-1.192793,121.905075,10.822873,.377473,-1.202846,99.145561,9.618412,.422601,-1.208871,81.343315,8.591735,.465276,-1.204545,66.742569,7.692911,.50471,-1.190839,54.787876,6.915612,.544909,-1.178827,45.507313,6.242786,.582125,-1.16059,37.819912,5.65169,.620694,-1.145481,31.926588,5.12366,.659127,-1.130178,27.14731,4.669475,.684358,-1.093728,22.650702,4.258717,.719453,-1.074591,19.454103,3.901225,.751695,-1.051678,16.735672,3.57687,.775082,-1.017716,14.281039,3.287471,.796233,-.982759,12.261332,3.023708,.827404,-.961227,10.767912,2.78774,.848149,-.928433,9.37135,2.570737,.864891,-.892838,8.142364,2.379204,.880979,-.858193,7.118954,2.20447,.910434,-.837281,6.389041,2.041554,.925396,-.803638,5.643217,1.893353,.942463,-.772925,5.031223,1.757331,.955217,-.73972,4.486978,1.633572,.96857,-.708048,4.014621,1.520414,.981672,-.677109,3.617768,1.412506,.992829,-.645712,3.258773,1.317079,1.02127,-.625746,3.00664,1.222611,1.031247,-.594628,2.733073,1.137911,1.043581,-.56554,2.498495,1.058439,1.05593,-.536962,2.289843,.984428,1.066727,-.508076,2.108603,.912794,1.081225,-.481297,1.951454,.845536,1.088198,-.451563,1.801891,.782718,1.123316,-.433247,1.704316,.721664,1.133206,-.404812,1.586153,.662761,1.152889,-.379901,1.490958,.606866,1.188158,-.359421,1.41573,.550666,1.217064,-.336049,1.344172,.496748,1.257727,-.314816,1.283196,.443538,1.286647,-.28953,1.225903,.394018,1.308729,-.262053,1.173928,.346255,1.351453,-.237704,1.139992,.300393,1.380284,-.209733,1.105997,.256661,1.414621,-.181613,1.082109,.215429,1.453045,-.152797,1.063853,.177098,1.481066,-.121803,1.043185,.137203,1.514113,-.09025,1.027072,.096998,1.547317,-.057603,1.012551,.055328,1.577983,-.023799,.999267,.013094,108e-6,-.12497,1249.704346,1249.703491,14e-5,-.119585,1195.855469,1195.85437,.003995,-.927433,9274.246094,232.443573,.012013,-1.13158,11315.999023,98.211105,.023892,-1.216018,12162.739258,67.2145,.047506,-1.517865,15186.294922,42.410069,.082523,-1.812564,18145.71875,24.421545,.112452,-1.805072,11112.966797,18.450365,.16446,-2.016784,8086.032715,14.043465,.19587,-1.898199,4245.658203,13.178202,.197797,-1.556158,1315.561768,30.760096,.21954,-1.433455,802.380371,25.037956,.268696,-1.483235,579.715515,20.975695,.265968,-1.261051,386.583649,12.017023,.325369,-1.343349,316.795959,12.612406,.387968,-1.411606,232.491623,13.29694,.435543,-1.411236,181.515228,11.646996,.482729,-1.405722,143.425354,10.265131,.531742,-1.402782,114.920082,9.114828,.559383,-1.346165,88.589005,8.089214,.607851,-1.342407,73.05661,7.249064,.656928,-1.338238,60.826897,6.531094,.681212,-1.285692,48.727219,5.868711,.729238,-1.279951,41.256016,5.324553,.751172,-1.230045,33.72826,4.816513,.773107,-1.184288,27.913816,4.377203,.815726,-1.171653,24.065962,3.999965,.837886,-1.130636,20.25486,3.658493,.857674,-1.089071,17.138168,3.34793,.87612,-1.048303,14.572968,3.072666,.893935,-1.00904,12.496377,2.825165,.927998,-.989064,11.040731,2.60552,.928445,-.935017,9.365102,2.401481,.945279,-.899993,8.177711,2.222282,.959378,-.863854,7.155303,2.059342,.971761,-.827684,6.284632,1.909314,.987812,-.795878,5.583837,1.771094,1.001958,-.76354,4.962345,1.645968,1.014357,-.730897,4.435898,1.527438,1.025946,-.698675,3.973241,1.421337,1.036435,-.666662,3.568025,1.323677,1.046807,-.635466,3.218647,1.232678,1.052974,-.60266,2.902273,1.147675,1.086089,-.585364,2.694939,1.068352,1.09466,-.554784,2.454491,.993445,1.117131,-.5315,2.270746,.923758,1.114009,-.496581,2.063934,.858381,1.137328,-.473914,1.91799,.79498,1.158671,-.450127,1.786523,.735697,1.177878,-.425306,1.662454,.677498,1.20751,-.403797,1.559058,.621762,1.244496,-.383812,1.466801,.56619,1.240412,-.35108,1.366853,.514288,1.321257,-.3412,1.309808,.464621,1.336512,-.31271,1.241822,.413228,1.365047,-.286935,1.186612,.366092,1.418984,-.265184,1.15212,.321528,1.388864,-.22775,1.089937,.271827,1.464383,-.207168,1.077271,.232838,1.473125,-.17577,1.041835,.193289,1.542908,-.150424,1.036794,.156153,1.563005,-.118748,1.013029,.114866,1.637048,-.089604,1.013493,.076804,1.670777,-.056398,.999208,.032691];
var t=[1,1,1,1,1,1,1,1,1,1,1,1,.999995,.99999,.999971,.999937,.999853,.99967,.999138,.996746,.979578,.979309,.978836,.977972,.976223,.972205,.962466,.953919,.949829,.942492,.92987,.921319,.911112,.896015,.885105,.869971,.855017,.838328,.821241,.802352,.783873,.763309,.743058,.721929,.699755,.677721,.655456,.632681,.609629,.586831,.564287,.541772,.519428,.497353,.475624,.454606,.434099,.414085,.394605,.375698,.357386,.339871,.323085,.306905,1,1,1,1,1,1,1,1,.999999,.999999,.999998,.999995,.99999,.99998,.999959,.999923,.999842,.99966,.999119,.996613,.981824,.979298,.978826,.977957,.976184,.972091,.962188,.953875,.949746,.942335,.930166,.921211,.910927,.896979,.88494,.869864,.854835,.8382,.821049,.802552,.783659,.763512,.742927,.721715,.699938,.677775,.655246,.632555,.609805,.586996,.564225,.541606,.519346,.497419,.475863,.454738,.434099,.414003,.394547,.375747,.357564,.340012,.323099,.306861,1,1,1,1,1,1,1,1,1,.999999,.999998,.999995,.999991,.999979,.999959,.999917,.999839,.999648,.999074,.996168,.98377,.979279,.9788,.977905,.976058,.971727,.96212,.953901,.949485,.941859,.930911,.920853,.910394,.8976,.884427,.870101,.854522,.838325,.820754,.802707,.783223,.763605,.742872,.721565,.699935,.677726,.655242,.63258,.609766,.586946,.564275,.541759,.519467,.497478,.475886,.454794,.434233,.414207,.394751,.375892,.357683,.340146,.323287,.307095,1,1,1,1,1,1,1,.999999,.999999,.999998,.999996,.999992,.999987,.999975,.999953,.999913,.99983,.99963,.998993,.995279,.985142,.979252,.978754,.977821,.975838,.971088,.962563,.954785,.949048,.941052,.93142,.920812,.90975,.897867,.883856,.870091,.854353,.838166,.820661,.802465,.783308,.763346,.742734,.721608,.699747,.677626,.655245,.632547,.609793,.587044,.56434,.541779,.519529,.497633,.476114,.45503,.43443,.414406,.394974,.376154,.357979,.340443,.323572,.307379,1,1,1,1,1,1,1,1,.999998,.999998,.999996,.999991,.999984,.99997,.999946,.999905,.999815,.999599,.998856,.993704,.986135,.979212,.97869,.977691,.975504,.970133,.962951,.955649,.948405,.940418,.93166,.920881,.909376,.897785,.883844,.869756,.854326,.837732,.820617,.802053,.783195,.763119,.74261,.721344,.699709,.677624,.655114,.632523,.609812,.587052,.564417,.541966,.519751,.497824,.476309,.455271,.434735,.414736,.395317,.376524,.358364,.340852,.323988,.307786,1,1,1,1,1,1,.999999,.999999,.999997,.999996,.999994,.999989,.99998,.999965,.99994,.999895,.999796,.999559,.998638,.992774,.986878,.980297,.978602,.977514,.975026,.969169,.963214,.956267,.947689,.940054,.931637,.920678,.90899,.897349,.883905,.869139,.854177,.837476,.820295,.801977,.782798,.762978,.742418,.721193,.69956,.677402,.655108,.632543,.609804,.587158,.564557,.542096,.519908,.498088,.476632,.455623,.435104,.415161,.395783,.377005,.358843,.341345,.324529,.308355,1,1,1,1,1,.999999,.999999,.999998,.999997,.999992,.999991,.999985,.999977,.999959,.999935,.999878,.999773,.999505,.998284,.992353,.987457,.981665,.978492,.977277,.97436,.968716,.963373,.956629,.947397,.939657,.931339,.920588,.908975,.896712,.883763,.86889,.853731,.837333,.819702,.801738,.782454,.762712,.742024,.721037,.699325,.677359,.65503,.632439,.609869,.587221,.564663,.542328,.52022,.4984,.476997,.456053,.435593,.415658,.3963,.377577,.359473,.342004,.32517,.308997,1,1,1,1,1,.999999,.999998,.999998,.999996,.999993,.999988,.999981,.999971,.999951,.999921,.999863,.999748,.999433,.997681,.99212,.98792,.982864,.978353,.976961,.973451,.968396,.9634,.95668,.947529,.939151,.930747,.920511,.908867,.896142,.883335,.868764,.853025,.837015,.819452,.801249,.782176,.762345,.741843,.720721,.699135,.677194,.654889,.632487,.609902,.587328,.564891,.542567,.520501,.498793,.477442,.456528,.436131,.416273,.39698,.378276,.360176,.342738,.32595,.309803,1,1,1,1,.999999,.999998,.999999,.999997,.999995,.999991,.999985,.999978,.999963,.999942,.999907,.999844,.999715,.999332,.996612,.991974,.988297,.983843,.978349,.97654,.972351,.968109,.96328,.956464,.947779,.938754,.929952,.920253,.90853,.895785,.882679,.868456,.852669,.836406,.819138,.800708,.781803,.761855,.741534,.720405,.698959,.676964,.654827,.632411,.609922,.587477,.565051,.542829,.520889,.499225,.477951,.457148,.436792,.416963,.397723,.379068,.361025,.343608,.326842,.310718,1,1,1,1,1,.999999,.999998,.999995,.999994,.99999,.999983,.999971,.999954,.999932,.999892,.99982,.999675,.99919,.995492,.991911,.98861,.984662,.979221,.975975,.971671,.967788,.963002,.955938,.947965,.938692,.929309,.919781,.908268,.895518,.882022,.867884,.852346,.835746,.818607,.800261,.781335,.761539,.741063,.720116,.698617,.676815,.6547,.632389,.610037,.587591,.565328,.543205,.521293,.499745,.478562,.457776,.437515,.417776,.398586,.379963,.361984,.344616,.327857,.311751,1,1,1,1,1,.999999,.999997,.999996,.999992,.999986,.999977,.999965,.999947,.999916,.999873,.999794,.999628,.998966,.994914,.991849,.988873,.985288,.98017,.975207,.971156,.967476,.962538,.955601,.947978,.938542,.928618,.919056,.90789,.895098,.881352,.867263,.851806,.835168,.818003,.799785,.780633,.76108,.740618,.719795,.698332,.676629,.654544,.632411,.610042,.587805,.565593,.543549,.521793,.500309,.479195,.458546,.438353,.418669,.399557,.381012,.363049,.34571,.329006,.312948,1,1,1,1,1,.999999,.999997,.999993,.99999,.999984,.999972,.99996,.999939,.999906,.999853,.999765,.999567,.998603,.994519,.991794,.989089,.985781,.980956,.974161,.970688,.967064,.96189,.955292,.947848,.938359,.928226,.918214,.907361,.894702,.880834,.8665,.851209,.834627,.817211,.79925,.780131,.760512,.740218,.719264,.698063,.676325,.65445,.632316,.61017,.587988,.565891,.544013,.522305,.500958,.479971,.459376,.439271,.419699,.40062,.382126,.364246,.346967,.330273,.314236,1,1,1,1,.999999,.999998,.999996,.999994,.999988,.999979,.999967,.999952,.999924,.999888,.999833,.999733,.99949,.997946,.994192,.991812,.989274,.986224,.981547,.974,.970269,.966545,.961031,.954921,.947416,.938226,.928003,.91739,.906553,.894191,.880329,.86554,.850476,.834058,.816467,.798509,.779561,.759828,.739738,.718878,.697718,.676138,.654342,.632317,.610292,.588207,.566289,.544443,.522927,.501674,.480765,.460314,.440304,.420782,.401824,.38341,.365538,.348312,.331692,.315688,1,1,1,1,.999999,.999998,.999996,.999993,.999985,.999976,.999961,.999943,.999913,.999872,.999807,.999691,.99939,.996859,.994003,.991808,.989423,.986523,.981783,.974511,.969791,.965933,.960377,.954434,.946803,.938026,.92762,.916545,.905639,.893489,.87982,.864852,.849513,.833311,.815878,.797621,.778938,.759253,.739142,.718479,.697274,.675902,.654135,.632357,.610364,.588497,.566631,.545012,.523579,.502429,.48168,.461304,.441425,.422039,.403135,.384779,.366976,.349796,.333231,.317277,1,1,1,1,.999999,.999998,.999996,.999991,.999983,.999974,.999956,.999932,.999901,.999852,.99978,.999646,.999248,.996193,.993784,.991782,.989539,.986694,.981765,.975135,.969309,.965128,.959788,.953831,.946255,.937664,.927351,.916044,.904715,.892528,.879111,.864256,.848452,.832434,.815129,.796806,.778118,.758668,.738466,.718024,.696958,.675642,.654067,.632325,.610546,.588786,.567123,.545617,.524312,.503348,.482637,.462418,.442657,.423338,.404564,.386277,.368545,.351448,.334906,.318961,1,1,1,.999999,.999999,.999998,.999994,.999989,.999979,.999968,.999949,.999921,.999886,.999833,.999747,.999596,.999029,.995749,.993677,.991724,.98962,.986723,.981515,.975767,.969056,.964124,.959142,.953036,.94565,.937022,.926971,.915515,.903584,.891603,.878212,.863472,.847652,.831398,.814299,.796105,.777231,.757977,.737895,.717415,.696595,.675317,.65398,.632343,.610735,.589076,.56762,.546251,.525165,.504255,.483759,.463666,.443987,.424783,.406042,.387891,.370293,.353221,.336715,.320806,1,1,1,.999999,.999998,.999998,.999993,.999987,.999977,.999964,.999943,.999911,.999867,.999807,.999714,.999531,.998645,.995399,.993512,.991717,.989661,.986652,.981559,.976183,.969411,.963317,.958457,.952091,.944951,.936307,.926454,.915043,.902668,.890462,.877245,.862672,.846823,.830201,.813293,.795306,.776393,.757199,.737324,.716808,.696187,.675094,.653814,.632453,.610885,.589483,.568099,.546975,.525953,.505268,.484936,.464988,.445458,.426314,.40775,.38967,.372098,.355105,.338682,.322825,1,1,1,1,.999999,.999996,.999992,.999983,.999976,.999959,.999933,.999898,.999849,.99978,.999676,.999454,.997884,.995166,.993394,.991723,.989654,.986389,.981632,.976607,.969701,.962555,.957605,.951232,.944099,.935556,.925699,.914492,.902027,.889116,.876093,.861649,.845956,.829238,.81222,.79442,.775657,.756265,.736673,.716372,.695669,.674886,.653728,.632568,.611217,.589929,.568783,.547752,.526931,.506425,.486238,.466425,.446945,.428026,.409536,.391551,.374087,.357155,.340787,.324974,1,1,1,1,.999998,.999996,.99999,.999984,.99997,.999952,.999925,.999886,.999831,.999757,.999633,.999356,.997017,.994868,.993337,.99171,.98958,.985848,.98164,.976711,.969755,.962166,.956609,.950365,.943026,.934693,.92488,.913729,.90135,.887966,.874726,.860474,.844905,.828269,.810905,.793364,.774812,.755478,.735886,.715847,.695231,.674537,.653667,.632527,.611475,.590363,.569462,.548571,.527976,.507634,.487632,.467901,.44868,.429833,.411467,.393568,.376197,.359374,.343034,.327273,1,1,1,.999999,.999998,.999993,.999989,.99998,.999965,.999945,.999913,.999869,.99981,.999723,.999583,.999213,.99654,.99474,.993244,.991671,.989411,.985533,.981616,.976847,.969968,.962315,.955468,.94942,.942016,.933617,.923949,.912899,.900495,.887022,.873283,.859153,.84383,.827325,.809888,.792172,.773832,.754686,.735035,.715297,.694955,.674242,.65366,.632752,.611804,.590993,.570154,.549539,.529087,.508974,.48903,.469599,.450466,.431761,.413508,.395761,.37848,.361679,.345465,.329752,1,1,1,1,.999997,.999994,.999987,.999978,.999961,.999936,.999903,.999855,.999786,.999689,.999527,.998988,.996137,.994527,.993108,.991599,.989084,.985308,.981527,.976677,.970079,.962535,.95449,.948271,.940942,.932422,.922836,.911896,.899632,.886118,.871864,.857719,.842536,.826163,.808849,.79086,.772802,.75386,.734335,.714582,.694543,.674071,.653544,.632922,.612153,.591573,.570951,.55052,.530352,.510311,.490707,.471359,.452396,.433837,.415736,.398052,.380874,.364232,.348023,.332368,1,1,1,.999999,.999998,.999994,.999988,.999976,.999957,.999928,.999891,.999837,.999759,.99965,.999463,.998551,.995879,.994366,.992964,.991479,.988521,.985101,.981482,.976168,.970242,.962585,.95395,.946973,.939686,.931248,.921614,.910765,.898617,.885183,.870772,.856138,.84112,.824962,.807732,.789813,.771638,.753008,.733686,.713927,.694082,.673967,.653549,.633135,.612702,.5922,.571904,.551679,.531678,.511898,.492437,.473239,.454451,.436067,.418054,.400542,.383486,.366848,.350781,.335182,1,1,1,.999999,.999997,.999993,.999985,.999972,.999951,.999919,.999877,.999817,.999733,.999608,.99938,.997685,.995603,.994264,.992911,.991287,.987923,.984871,.981239,.975933,.970149,.962511,.953824,.945699,.938285,.929907,.920343,.909537,.897435,.884056,.869626,.85449,.839459,.823511,.806511,.788752,.77044,.751995,.732962,.713424,.693525,.673798,.653622,.633301,.613224,.592938,.572833,.552904,.53303,.513556,.494215,.475279,.456673,.438411,.420583,.403178,.386178,.369728,.353688,.338147,1,1,1,.999999,.999997,.999991,.999984,.999967,.999944,.999912,.999863,.999796,.999703,.999563,.999279,.997104,.995394,.994111,.992825,.990979,.987529,.984661,.980774,.975758,.969866,.962465,.953678,.944489,.936886,.928356,.91882,.908073,.896092,.882833,.868463,.853212,.837744,.822048,.805333,.787643,.769414,.75083,.732178,.712972,.693227,.673569,.653744,.633739,.613735,.593822,.573916,.554158,.534652,.515248,.496233,.477436,.459009,.440929,.423259,.405951,.389136,.37269,.356789,.341329,1,1,1,.999999,.999996,.999991,.999981,.999966,.999939,.999903,.999847,.999771,.999666,.99951,.999131,.99669,.995147,.993882,.992696,.990474,.987227,.984334,.980153,.975438,.969406,.962238,.953598,.943868,.935356,.926721,.917122,.90643,.89455,.881354,.867131,.851954,.835972,.820331,.803911,.786452,.76842,.749821,.731298,.712393,.692979,.673418,.653859,.634232,.614327,.594732,.575131,.555584,.536346,.517175,.498323,.479744,.461485,.443645,.426061,.408969,.392155,.375921,.36006,.344677,1,1,1,.999999,.999997,.999991,.999979,.99996,.999931,.999891,.999832,.999748,.999629,.999449,.99888,.996305,.995024,.993812,.992508,.989721,.986936,.983936,.979629,.974979,.968928,.96197,.953291,.943458,.933644,.925007,.915388,.904755,.892932,.879831,.865794,.850672,.834591,.818398,.802304,.785151,.76745,.748987,.730325,.711758,.692761,.673417,.653908,.634686,.615168,.595707,.576393,.557198,.538018,.519253,.500555,.48222,.464197,.446414,.429106,.412035,.395508,.379284,.363538,.34822,1,1,1,.999999,.999995,.999989,.999977,.999955,.999924,.999879,.999813,.999722,.99959,.999381,.998335,.996088,.994814,.993709,.99222,.989209,.986575,.983383,.979084,.974272,.968359,.961275,.953025,.943098,.932434,.923101,.913477,.902861,.891059,.878072,.864118,.849188,.833281,.816808,.800596,.783745,.766331,.748123,.729686,.711078,.692527,.673491,.654296,.635113,.616048,.596847,.57772,.558879,.540028,.521371,.502996,.484858,.466997,.449477,.432217,.415426,.398924,.38289,.367206,.351955,1,1,1,.999998,.999996,.999988,.999974,.999953,.999918,.999865,.999791,.99969,.999542,.999293,.997535,.99579,.994609,.993557,.991766,.988767,.986255,.982544,.978541,.973528,.9677,.960596,.952299,.942684,.931653,.921211,.911489,.900818,.889018,.876245,.862406,.847517,.831852,.815367,.798719,.782224,.765167,.747304,.729133,.710485,.692196,.673589,.65477,.635717,.616986,.598119,.579298,.56056,.542163,.523669,.505564,.487642,.469991,.452658,.43562,.418937,.402612,.386633,.371091,.355949,1,1,.999999,.999998,.999995,.999986,.999973,.999948,.999909,.999852,.999769,.999656,.99949,.999186,.997059,.995624,.99451,.993327,.99102,.988379,.985771,.981971,.978051,.972892,.96702,.959965,.951625,.941902,.930951,.91937,.909285,.898562,.886809,.874251,.860597,.845808,.830365,.813972,.79726,.780597,.763854,.746401,.728519,.710203,.691882,.673687,.655275,.636621,.617909,.599473,.581032,.56256,.544295,.526228,.508293,.490652,.473242,.456004,.439212,.422663,.406476,.390647,.375204,.360129,1,1,1,.999999,.999994,.999984,.999969,.99994,.999898,.999837,.999746,.999617,.999438,.999016,.996703,.995302,.994356,.992993,.99039,.988072,.985152,.981447,.977273,.972234,.966113,.959033,.950869,.941217,.930175,.918279,.906941,.896201,.884509,.87192,.85842,.843906,.82873,.812524,.795978,.778979,.76245,.745459,.727966,.710046,.691808,.673739,.655756,.637574,.619153,.600887,.582796,.564748,.546636,.528904,.511252,.493791,.476563,.459695,.442942,.426632,.410558,.394895,.379517,.36456,1,1,1,.999998,.999994,.999984,.999966,.999934,.999887,.999819,.99972,.999578,.999367,.998696,.996353,.995201,.994115,.992665,.989948,.987633,.984331,.980827,.97639,.971327,.965201,.957977,.949712,.940128,.929187,.917237,.904645,.893711,.882112,.869516,.856236,.841929,.826924,.810991,.794686,.777761,.76098,.744384,.727314,.709877,.691988,.674098,.656243,.638603,.620606,.602574,.584694,.567018,.549311,.531673,.514403,.497148,.480177,.463439,.446998,.430743,.414943,.399304,.384121,.369251,1,1,1,.999997,.999992,.999981,.999962,.999927,.999874,.999798,.999691,.999533,.999291,.997909,.996117,.995029,.99388,.992142,.989576,.987185,.983587,.980055,.975487,.970172,.963998,.956738,.948637,.939083,.928169,.916144,.903147,.890916,.879389,.866895,.853826,.839729,.824957,.809472,.793341,.776743,.759808,.743277,.726643,.709685,.692249,.674639,.657008,.639576,.622114,.604471,.586851,.56934,.552135,.534806,.517599,.500765,.484035,.46744,.451212,.43524,.419399,.404083,.388944,.374182,1,1,1,.999998,.999993,.999979,.999958,.999919,.999861,.999774,.999656,.999482,.999195,.997307,.995837,.994722,.993707,.991391,.989169,.986461,.982904,.979062,.974536,.969035,.962653,.955486,.947243,.937747,.926861,.914936,.901835,.888472,.876571,.864223,.851252,.837374,.822985,.807788,.791927,.775702,.758928,.742347,.725914,.709495,.692569,.675363,.658085,.640639,.623698,.606505,.589267,.572008,.554939,.538132,.521211,.504487,.488048,.471807,.455651,.439858,.424332,.408983,.394071,.379402,1,1,1,.999997,.999992,.999978,.999954,.999913,.999844,.999753,.999618,.999424,.999067,.996875,.995659,.994603,.99342,.990874,.988713,.985585,.982193,.978145,.973416,.967801,.961483,.954069,.945704,.936138,.925374,.913395,.900339,.886675,.873512,.861326,.848513,.834956,.82082,.805943,.790574,.774677,.758279,.741807,.725271,.709231,.692874,.676189,.659352,.642296,.62525,.6087,.591823,.575012,.558143,.541491,.525075,.508558,.492277,.47627,.460459,.44474,.4294,.414309,.399421,.384907,1,1,1,.999997,.99999,.999977,.999947,.999902,.999832,.99973,.999577,.999359,.998845,.996554,.995328,.994442,.992919,.990393,.98817,.984855,.981312,.977149,.972137,.966207,.959967,.952454,.943873,.934434,.923813,.911942,.898928,.88512,.871043,.858248,.845666,.832346,.818482,.804029,.788982,.773571,.7577,.741484,.725186,.708915,.693244,.677028,.660656,.644079,.627377,.610804,.594542,.578112,.56165,.545163,.528962,.512926,.496893,.481007,.465397,.450042,.43474,.419831,.405156,.390692,1,1,.999999,.999997,.999989,.999973,.999942,.999891,.999813,.999698,.999532,.999285,.998286,.996295,.995215,.994182,.992032,.989855,.987415,.984047,.98005,.976017,.970845,.964767,.958269,.9506,.942033,.932501,.921807,.910017,.897149,.883414,.869182,.855055,.842687,.829548,.816162,.802072,.787436,.772533,.757043,.741263,.72533,.709262,.693497,.678038,.662128,.646068,.629824,.613437,.597334,.581401,.565372,.549288,.533182,.517405,.501765,.486143,.470675,.455465,.440532,.42563,.411113,.396887,1,1,.999999,.999996,.999989,.99997,.999934,.999879,.999793,.999665,.999481,.999192,.997506,.995926,.995009,.993736,.991298,.989326,.986371,.983199,.979032,.974596,.969364,.963198,.956385,.948509,.939993,.930421,.91959,.90814,.895349,.881699,.867456,.852784,.8395,.826629,.813602,.799983,.785873,.77134,.75648,.74119,.725687,.709997,.694192,.678975,.663673,.648135,.632442,.616477,.600565,.584772,.569202,.553595,.537881,.522193,.506784,.491554,.476349,.461278,.446419,.431913,.417443,.403271,1,1,.999999,.999995,.999986,.999966,.999927,.999867,.999772,.999629,.999423,.999075,.997024,.995773,.994651,.993353,.990822,.988569,.985596,.982182,.977871,.97314,.967584,.961408,.954294,.946398,.937603,.927937,.917305,.905833,.893138,.87977,.86572,.851023,.836801,.823784,.810909,.797886,.784177,.770243,.755925,.741144,.726214,.710971,.695563,.680212,.665304,.650297,.635168,.619796,.604217,.588692,.573254,.557998,.542839,.52747,.512162,.497115,.482296,.467477,.452812,.43831,.424184,.410163,1,1,.999999,.999996,.999984,.999962,.99992,.999852,.999745,.999586,.999354,.998894,.996686,.995485,.994493,.992573,.990323,.987772,.984692,.980887,.976446,.971625,.965717,.959421,.951975,.944086,.935066,.925403,.914814,.903208,.890958,.877817,.863828,.849289,.834872,.820889,.808183,.79566,.782556,.769066,.755386,.741229,.726726,.71217,.697209,.68217,.667203,.652689,.637938,.623262,.60819,.593002,.577817,.562737,.547836,.533036,.518052,.503135,.488422,.473986,.459552,.445282,.431149,.417407,1,1,.999999,.999994,.999983,.999957,.999914,.999835,.999718,.999538,.999275,.998454,.996341,.995246,.994222,.991844,.989829,.986688,.983562,.979638,.974932,.969827,.963621,.957146,.949365,.941398,.932245,.922556,.911949,.900627,.88844,.875544,.862005,.84781,.833372,.819134,.805508,.793339,.780916,.767837,.754858,.741307,.727496,.713386,.699131,.684542,.669878,.655261,.641035,.626685,.612377,.597625,.582805,.56803,.553204,.538684,.524269,.509662,.495119,.480735,.466634,.452593,.438748,.424915,1,1,.999998,.999994,.999982,.999956,.999901,.999818,.999683,.999487,.999185,.997584,.996004,.99505,.993715,.991212,.989057,.985879,.982243,.978206,.973119,.967919,.961343,.954603,.946712,.938378,.929266,.919443,.908911,.897725,.885589,.873254,.859889,.846123,.832094,.817898,.803866,.791061,.779235,.766885,.754292,.741565,.728331,.714861,.701179,.687166,.673012,.658716,.644442,.630472,.616519,.602514,.588172,.573689,.559281,.544768,.530543,.516485,.502303,.4881,.474095,.460245,.446598,.433169,1,1,.999997,.999993,.99998,.999947,.999891,.999794,.999647,.999425,.999062,.997049,.995778,.994652,.992778,.990482,.988004,.984893,.980881,.976605,.971199,.96561,.958925,.951746,.943791,.9352,.926018,.916028,.905724,.894528,.882914,.87074,.857802,.844552,.830857,.816921,.803102,.789625,.77748,.765891,.753908,.741795,.72939,.71644,.703411,.690068,.676438,.662586,.648697,.634732,.620997,.607451,.593765,.579748,.565661,.551594,.537396,.523433,.509708,.495972,.482082,.468427,.45489,.441623,1,1,.999999,.999991,.999977,.99994,.999875,.999769,.999605,.999352,.998882,.996665,.995459,.99438,.992014,.989912,.986796,.983537,.979326,.974792,.96914,.96316,.956222,.948807,.940518,.931755,.922452,.912319,.902227,.891142,.879838,.868047,.855745,.842718,.829827,.816398,.802786,.789396,.776581,.764901,.75371,.742102,.730448,.718337,.705768,.693172,.680153,.666882,.653401,.639837,.626152,.612676,.599435,.586109,.572473,.558715,.544964,.531112,.517416,.503992,.490653,.477162,.463832,.450645,1,1,.999999,.999992,.999973,.999933,.999861,.999741,.999554,.999267,.998411,.996303,.995191,.993945,.991406,.989019,.98572,.982057,.977501,.972605,.966697,.96034,.953031,.945347,.936866,.927917,.918562,.908598,.898486,.887794,.876545,.865379,.853428,.841167,.828649,.815967,.802957,.789865,.777077,.764695,.753544,.742694,.731571,.720304,.70849,.696351,.684134,.67147,.658541,.645376,.632209,.618776,.605511,.592527,.579546,.56631,.55286,.539492,.526005,.512564,.49934,.48636,.473357,.460306,1,1,.999998,.999991,.99997,.999926,.999842,.99971,.999498,.999164,.997464,.99587,.994917,.992911,.990682,.987816,.98441,.980551,.975693,.970263,.963946,.957248,.949765,.941571,.932941,.923873,.914332,.90456,.894394,.884127,.873294,.862503,.851335,.839566,.827776,.815708,.80337,.790821,.778386,.766121,.754193,.74342,.732975,.722326,.711376,.699992,.68818,.676354,.664004,.651449,.6386,.625776,.61266,.599603,.586719,.574078,.561273,.548129,.535155,.522015,.508851,.495837,.48319,.470624,1,1,.999998,.999988,.999965,.999916,.999823,.999669,.999425,.999025,.996874,.99567,.994415,.991991,.989766,.986646,.982812,.978356,.973317,.967612,.96082,.953603,.945969,.937323,.928661,.919507,.909833,.900245,.89039,.880252,.87,.859518,.849163,.838101,.82696,.815688,.804126,.792234,.780356,.768474,.756678,.745159,.734601,.724624,.714339,.703751,.692766,.681267,.669799,.657871,.645577,.633102,.62056,.607737,.59489,.582143,.569779,.55736,.544651,.531942,.519228,.506467,.49371,.481143,1,1,.999998,.999988,.999961,.999902,.999798,.999622,.999341,.998801,.996397,.995225,.993927,.991338,.9885,.985327,.981195,.976383,.970726,.964471,.957386,.949813,.941694,.932681,.923974,.914755,.905026,.895649,.886178,.876277,.866629,.85689,.846934,.836887,.826373,.815885,.805169,.794133,.782812,.771547,.760175,.748896,.737687,.727152,.717601,.70767,.697425,.686788,.675664,.664513,.652962,.640965,.628851,.616551,.604168,.591559,.579009,.566648,.554597,.542382,.529999,.517655,.505254,.492894,1,1,.999997,.999986,.999956,.999889,.999766,.999562,.99924,.997952,.996094,.994979,.992773,.990536,.987214,.983322,.978938,.973714,.967681,.960981,.953144,.945475,.936909,.927734,.918826,.90959,.900085,.890867,.881801,.872565,.863236,.854239,.84506,.835686,.826251,.816284,.806586,.796419,.785914,.77521,.764461,.753599,.742805,.731872,.72137,.711898,.702337,.692383,.682137,.671365,.660479,.649314,.637685,.625899,.613898,.601865,.589582,.577285,.565013,.553106,.54128,.529367,.51732,.505411,1,1,.999997,.999983,.999948,.999869,.999732,.999499,.999111,.997167,.99572,.994349,.991727,.989197,.985883,.981483,.976618,.970597,.964122,.956994,.948639,.9405,.931606,.922385,.913291,.904205,.894938,.88589,.877334,.868754,.860053,.851683,.843447,.834889,.826304,.817441,.808285,.799141,.78957,.7796,.76951,.759155,.748882,.738346,.727629,.717273,.707467,.698283,.688609,.678748,.668371,.657739,.646951,.635765,.624254,.612647,.6009,.589061,.576998,.564991,.553102,.541517,.530027,.518495,1,1,.999997,.999983,.999939,.999851,.999684,.999412,.998925,.996597,.995207,.993603,.990903,.987594,.983814,.979016,.973647,.967048,.960109,.952123,.94356,.9349,.925747,.916566,.907305,.898441,.889629,.881042,.872874,.865064,.857225,.849446,.842063,.834561,.826814,.818875,.810748,.802316,.793699,.784704,.775198,.765643,.755735,.745873,.735526,.725229,.714892,.704807,.695502,.686241,.676633,.666688,.656384,.645871,.635174,.624113,.612788,.601426,.589925,.578399,.566612,.554931,.543383,.532065,1,1,.999996,.999977,.999928,.999824,.999633,.999306,.998429,.996133,.99489,.992316,.989752,.986095,.981564,.976234,.970081,.962779,.955232,.946702,.937716,.928604,.919281,.910167,.901046,.892446,.884183,.876253,.868619,.861545,.854673,.847885,.841074,.83461,.827984,.820945,.813648,.806232,.798444,.790232,.781853,.772897,.763648,.754227,.744542,.734689,.724526,.714204,.704152,.694222,.685143,.67586,.666319,.656415,.646273,.635902,.625399,.614563,.60349,.592413,.581217,.57,.558608,.547242,1,.999999,.999995,.999972,.999915,.99979,.999562,.999168,.997237,.995672,.994074,.99122,.987792,.983822,.978599,.972804,.965718,.958053,.94946,.940503,.931011,.921608,.912409,.903378,.894606,.886369,.878756,.871573,.864862,.858421,.852541,.846802,.841027,.835206,.829628,.82373,.817415,.810655,.803873,.796659,.788887,.78094,.772537,.763507,.754487,.745163,.735572,.725687,.715611,.705398,.695418,.685592,.676518,.667304,.657875,.648182,.638235,.628062,.617813,.607283,.596552,.58577,.575033,.564153,1,1,.999995,.99997,.999898,.999748,.999472,.998969,.996528,.995102,.992701,.989963,.985981,.981194,.975183,.968501,.960502,.952012,.942861,.933376,.923506,.914042,.904921,.896282,.887987,.880341,.873536,.867293,.861556,.856148,.850987,.846352,.841684,.83688,.832036,.827091,.8219,.816206,.810042,.803629,.796918,.789653,.781915,.774014,.76553,.756526,.747669,.738342,.72877,.718942,.708942,.698855,.688933,.679131,.669855,.660811,.651549,.642127,.632454,.622651,.612709,.602606,.592344,.581877,1,.999999,.999993,.999963,.999874,.999691,.99935,.998431,.995873,.994456,.991327,.987798,.983232,.9775,.970828,.962815,.954228,.944752,.935126,.925179,.915102,.905763,.897087,.888933,.881452,.874687,.868716,.863585,.858931,.854662,.850569,.846719,.843151,.839426,.835588,.831443,.827004,.822395,.817254,.81163,.805464,.799124,.792382,.785091,.777315,.76936,.760908,.751957,.743128,.733917,.72434,.714713,.704721,.694835,.684862,.675099,.66557,.656644,.647651,.638581,.629337,.619926,.610358,.600707,1,1,.99999,.999953,.999843,.999613,.999186,.997025,.995317,.99285,.98976,.98527,.979807,.973049,.965228,.956248,.946394,.936324,.926124,.915808,.905942,.89706,.889001,.881755,.875351,.869688,.864736,.860745,.857305,.85419,.851261,.848484,.845642,.842948,.84006,.836901,.833379,.829393,.825103,.820431,.815288,.809575,.803326,.796949,.790174,.782873,.775048,.767139,.758772,.750019,.74112,.732127,.722743,.713225,.703637,.693768,.684016,.674277,.664703,.655328,.64655,.637812,.629036,.620129,1,1,.999988,.999933,.9998,.999508,.998917,.996236,.994617,.991176,.987089,.98188,.974966,.967156,.957914,.947585,.936937,.926318,.915662,.905567,.896223,.888166,.881117,.875079,.869981,.865675,.862091,.859183,.856981,.855065,.853273,.851572,.849782,.847768,.845668,.843345,.840703,.837646,.834094,.83003,.825631,.820873,.815619,.809856,.803578,.797096,.790359,.783152,.775507,.767504,.759411,.750982,.742208,.733383,.724445,.71519,.705827,.69644,.686773,.677242,.667735,.658471,.649236,.640305,1,.999999,.999984,.999918,.999737,.99935,.997576,.995476,.992614,.988817,.983601,.97688,.968694,.959092,.948297,.936831,.925592,.914494,.904159,.894643,.886417,.87962,.874023,.869533,.865967,.863238,.861113,.859527,.858367,.857594,.856882,.856172,.855316,.854197,.852818,.851062,.849046,.846747,.844043,.840842,.837164,.832985,.828344,.823544,.818276,.812543,.806374,.799838,.79317,.786246,.778956,.771297,.763278,.755252,.746984,.738445,.729688,.721045,.712189,.703099,.694045,.68493,.675601,.66648,1,.999999,.999978,.999888,.999639,.999093,.99631,.994405,.990527,.985186,.978518,.969748,.959597,.948104,.935724,.923704,.912023,.901356,.89185,.883847,.87728,.872289,.868583,.865913,.864098,.862993,.862356,.862125,.862107,.862168,.862359,.86249,.86243,.862063,.861431,.860386,.85895,.85709,.854848,.852381,.849503,.846167,.842399,.838194,.833566,.828579,.823464,.817951,.812079,.805873,.79932,.792533,.785715,.778636,.77126,.763618,.755719,.747815,.739825,.731602,.723212,.714845,.706465,.697933,1,.999998,.999969,.999836,.999475,.997943,.995219,.99176,.986663,.979592,.970218,.959155,.946575,.933047,.920022,.907749,.896801,.887506,.880077,.874322,.870126,.867481,.865949,.865293,.865287,.865746,.866502,.867439,.868442,.869382,.870161,.870782,.871303,.871511,.871427,.870978,.870136,.868892,.867248,.865209,.862775,.859944,.857004,.853671,.849984,.845927,.841518,.836774,.83175,.826407,.821001,.815333,.809412,.803238,.796802,.790204,.783457,.776713,.769749,.762596,.755239,.74769,.740127,.732595,1,.999997,.99995,.999744,.999162,.996124,.992844,.987757,.980062,.969642,.957087,.942735,.927747,.913622,.900889,.890115,.881584,.875288,.870926,.868307,.867033,.866972,.867692,.86895,.870549,.87232,.874144,.875947,.877674,.879192,.880478,.881539,.882307,.882739,.882902,.882847,.882461,.881725,.880636,.879197,.877422,.875296,.872849,.870076,.866988,.863637,.860159,.856475,.852525,.848328,.843883,.839198,.834322,.829221,.823907,.818461,.812972,.807316,.801474,.795459,.789276,.783025,.776615,.770223,.999999,.999994,.999909,.999536,.997195,.994123,.988168,.979344,.967003,.951763,.934724,.917948,.902918,.890432,.880902,.874401,.870394,.868503,.868209,.869062,.870725,.873006,.875558,.87823,.880893,.883445,.885832,.888059,.890058,.891782,.893247,.89446,.895397,.896023,.89638,.896433,.896198,.895673,.894865,.893908,.8927,.891224,.889501,.887539,.885336,.882903,.880244,.877373,.874296,.871019,.867549,.863933,.860153,.856355,.852395,.848277,.844006,.839587,.835045,.830378,.825579,.820649,.815592,.810432,.999998,.999988,.999795,.998892,.994635,.98729,.975397,.958508,.938352,.917733,.8998,.885878,.876516,.8712,.869099,.869317,.871112,.87387,.87716,.880682,.884228,.887737,.891076,.894161,.896981,.899543,.901847,.903882,.905672,.907188,.908451,.90948,.910289,.910878,.911259,.91143,.911396,.911154,.910712,.910081,.909266,.908264,.907094,.905752,.904244,.902577,.900799,.898931,.896923,.894782,.892513,.890117,.8876,.884968,.882222,.879369,.876408,.873345,.870183,.866926,.863575,.86016,.856672,.853098,.999991,.999947,.999158,.992842,.980107,.95723,.928231,.901539,.882688,.872588,.869394,.870671,.874458,.879378,.884639,.88977,.894601,.898972,.90293,.906456,.909568,.912329,.91475,.916893,.918774,.920429,.921868,.92311,.924185,.925089,.925842,.926457,.926934,.927285,.927522,.927639,.92765,.927553,.927356,.927061,.926671,.926187,.925617,.924962,.924224,.923409,.922519,.921555,.920521,.919419,.918252,.917021,.915729,.914377,.912967,.911503,.909984,.908414,.906791,.905122,.903401,.901637,.899826,.897972,.987461,.940121,.871507,.898572,.916705,.926425,.931922,.935265,.937431,.938899,.93995,.940717,.941301,.941754,.942111,.942397,.942631,.942823,.942983,.943117,.943231,.943329,.943412,.943484,.943545,.943599,.943644,.943682,.943716,.943744,.943766,.943785,.943799,.943808,.943815,.943818,.943818,.943814,.943807,.943797,.943784,.943769,.943751,.94373,.943707,.943681,.943652,.943623,.943589,.943554,.943518,.943479,.943438,.943396,.943351,.943305,.943257,.943207,.943156,.943104,.943049,.942993,.942936,.942877];var i=new Fr(new Float32Array(e),64,64,Ue,Le,ne,de,de,ye,me,1);var r=new Fr(new Float32Array(t),64,64,Ne,Le,ne,de,de,ye,me,1);i.onUpdate=function(e){e.needsUpdate=true};r.onUpdate=function(e){e.needsUpdate=true};i.needsUpdate=true;r.needsUpdate=true;Xa.ltc_brdf={ltcMat:{value:i},ltcMag:{value:r}}})();var Wa={basic:{uniforms:ja.merge([Xa.common,Xa.aomap,Xa.lightmap,Xa.fog]),vertexShader:Va.meshbasic_vert,fragmentShader:Va.meshbasic_frag},lambert:{uniforms:ja.merge([Xa.common,Xa.aomap,Xa.lightmap,Xa.emissivemap,Xa.fog,Xa.lights,{emissive:{value:new bt(0)}}]),vertexShader:Va.meshlambert_vert,fragmentShader:Va.meshlambert_frag},phong:{uniforms:ja.merge([Xa.common,Xa.aomap,Xa.lightmap,Xa.emissivemap,Xa.bumpmap,Xa.normalmap,Xa.displacementmap,Xa.gradientmap,Xa.fog,Xa.lights,Xa.ltc_brdf,{
emissive:{value:new bt(0)},specular:{value:new bt(1118481)},shininess:{value:30}}]),vertexShader:Va.meshphong_vert,fragmentShader:Va.meshphong_frag},standard:{uniforms:ja.merge([Xa.common,Xa.aomap,Xa.lightmap,Xa.emissivemap,Xa.bumpmap,Xa.normalmap,Xa.displacementmap,Xa.roughnessmap,Xa.metalnessmap,Xa.fog,Xa.lights,Xa.ltc_brdf,{emissive:{value:new bt(0)},roughness:{value:.5},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Va.meshphysical_vert,fragmentShader:Va.meshphysical_frag},points:{uniforms:ja.merge([Xa.points,Xa.fog]),vertexShader:Va.points_vert,fragmentShader:Va.points_frag},dashed:{uniforms:ja.merge([Xa.common,Xa.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Va.linedashed_vert,fragmentShader:Va.linedashed_frag},depth:{uniforms:ja.merge([Xa.common,Xa.displacementmap]),vertexShader:Va.depth_vert,fragmentShader:Va.depth_frag},normal:{uniforms:ja.merge([Xa.common,Xa.bumpmap,Xa.normalmap,Xa.displacementmap,{opacity:{value:1}}]),vertexShader:Va.normal_vert,fragmentShader:Va.normal_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Va.cube_vert,fragmentShader:Va.cube_frag},equirect:{uniforms:{tEquirect:{value:null},tFlip:{value:-1}},vertexShader:Va.equirect_vert,fragmentShader:Va.equirect_frag},distanceRGBA:{uniforms:{lightPos:{value:new At}},vertexShader:Va.distanceRGBA_vert,fragmentShader:Va.distanceRGBA_frag}};Wa.physical={uniforms:ja.merge([Wa.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:Va.meshphysical_vert,fragmentShader:Va.meshphysical_frag};var Ha=new Dr;var Za=new zr;function Ya(){this.seq=[];this.map={}}var qa=[];var Ja=[];function Ka(e,t,i){var r=e[0];if(r<=0||r>0)return e;var n=t*i,a=qa[n];if(a===undefined){a=new Float32Array(n);qa[n]=a}if(t!==0){r.toArray(a,0);for(var o=1,s=0;o!==t;++o){s+=i;e[o].toArray(a,s)}}return a}function Qa(e,t){var i=Ja[t];if(i===undefined){i=new Int32Array(t);Ja[t]=i}for(var r=0;r!==t;++r)i[r]=e.allocTextureUnit();return i}function $a(e,t){e.uniform1f(this.addr,t)}function eo(e,t){e.uniform1i(this.addr,t)}function to(e,t){if(t.x===undefined)e.uniform2fv(this.addr,t);else e.uniform2f(this.addr,t.x,t.y)}function io(e,t){if(t.x!==undefined)e.uniform3f(this.addr,t.x,t.y,t.z);else if(t.r!==undefined)e.uniform3f(this.addr,t.r,t.g,t.b);else e.uniform3fv(this.addr,t)}function ro(e,t){if(t.x===undefined)e.uniform4fv(this.addr,t);else e.uniform4f(this.addr,t.x,t.y,t.z,t.w)}function no(e,t){e.uniformMatrix2fv(this.addr,false,t.elements||t)}function ao(e,t){e.uniformMatrix3fv(this.addr,false,t.elements||t)}function oo(e,t){e.uniformMatrix4fv(this.addr,false,t.elements||t)}function so(e,t,i){var r=i.allocTextureUnit();e.uniform1i(this.addr,r);i.setTexture2D(t||Ha,r)}function co(e,t,i){var r=i.allocTextureUnit();e.uniform1i(this.addr,r);i.setTextureCube(t||Za,r)}function lo(e,t){e.uniform2iv(this.addr,t)}function uo(e,t){e.uniform3iv(this.addr,t)}function ho(e,t){e.uniform4iv(this.addr,t)}function fo(e){switch(e){case 5126:return $a;case 35664:return to;case 35665:return io;case 35666:return ro;case 35674:return no;case 35675:return ao;case 35676:return oo;case 35678:return so;case 35680:return co;case 5124:case 35670:return eo;case 35667:case 35671:return lo;case 35668:case 35672:return uo;case 35669:case 35673:return ho}}function po(e,t){e.uniform1fv(this.addr,t)}function mo(e,t){e.uniform1iv(this.addr,t)}function vo(e,t){e.uniform2fv(this.addr,Ka(t,this.size,2))}function go(e,t){e.uniform3fv(this.addr,Ka(t,this.size,3))}function yo(e,t){e.uniform4fv(this.addr,Ka(t,this.size,4))}function xo(e,t){e.uniformMatrix2fv(this.addr,false,Ka(t,this.size,4))}function _o(e,t){e.uniformMatrix3fv(this.addr,false,Ka(t,this.size,9))}function bo(e,t){e.uniformMatrix4fv(this.addr,false,Ka(t,this.size,16))}function wo(e,t,i){var r=t.length,n=Qa(i,r);e.uniform1iv(this.addr,n);for(var a=0;a!==r;++a){i.setTexture2D(t[a]||Ha,n[a])}}function Mo(e,t,i){var r=t.length,n=Qa(i,r);e.uniform1iv(this.addr,n);for(var a=0;a!==r;++a){i.setTextureCube(t[a]||Za,n[a])}}function So(e){switch(e){case 5126:return po;case 35664:return vo;case 35665:return go;case 35666:return yo;case 35674:return xo;case 35675:return _o;case 35676:return bo;case 35678:return wo;case 35680:return Mo;case 5124:case 35670:return mo;case 35667:case 35671:return lo;case 35668:case 35672:return uo;case 35669:case 35673:return ho}}function To(e,t,i){this.id=e;this.addr=i;this.setValue=fo(t.type)}function Ao(e,t,i){this.id=e;this.addr=i;this.size=t.size;this.setValue=So(t.type)}function Lo(e){this.id=e;Ya.call(this)}Lo.prototype.setValue=function(e,t){var i=this.seq;for(var r=0,n=i.length;r!==n;++r){var a=i[r];a.setValue(e,t[a.id])}};var Eo=/([\w\d_]+)(\])?(\[|\.)?/g;function Po(e,t){e.seq.push(t);e.map[t.id]=t}function Co(e,t,i){var r=e.name,n=r.length;Eo.lastIndex=0;for(;;){var a=Eo.exec(r),o=Eo.lastIndex,s=a[1],c=a[2]==="]",l=a[3];if(c)s=s|0;if(l===undefined||l==="["&&o+2===n){Po(i,l===undefined?new To(s,e,t):new Ao(s,e,t));break}else{var u=i.map,h=u[s];if(h===undefined){h=new Lo(s);Po(i,h)}i=h}}}function Io(e,t,i){Ya.call(this);this.renderer=i;var r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(var n=0;n<r;++n){var a=e.getActiveUniform(t,n),o=a.name,s=e.getUniformLocation(t,o);Co(a,s,this)}}Io.prototype.setValue=function(e,t,i){var r=this.map[t];if(r!==undefined)r.setValue(e,i,this.renderer)};Io.prototype.set=function(e,t,i){var r=this.map[i];if(r!==undefined)r.setValue(e,t[i],this.renderer)};Io.prototype.setOptional=function(e,t,i){var r=t[i];if(r!==undefined)this.setValue(e,i,r)};Io.upload=function(e,t,i,r){for(var n=0,a=t.length;n!==a;++n){var o=t[n],s=i[o.id];if(s.needsUpdate!==false){o.setValue(e,s.value,r)}}};Io.seqWithValue=function(e,t){var i=[];for(var r=0,n=e.length;r!==n;++r){var a=e[r];if(a.id in t)i.push(a)}return i};function Ro(e,t){var i=e.context;var r=e.state;var n,a;var o,s,c,l;var u,h;function f(){var e=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]);var t=new Uint16Array([0,1,2,0,2,3]);n=i.createBuffer();a=i.createBuffer();i.bindBuffer(i.ARRAY_BUFFER,n);i.bufferData(i.ARRAY_BUFFER,e,i.STATIC_DRAW);i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,a);i.bufferData(i.ELEMENT_ARRAY_BUFFER,t,i.STATIC_DRAW);u=i.createTexture();h=i.createTexture();r.bindTexture(i.TEXTURE_2D,u);i.texImage2D(i.TEXTURE_2D,0,i.RGB,16,16,0,i.RGB,i.UNSIGNED_BYTE,null);i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE);i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE);i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.NEAREST);i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.NEAREST);r.bindTexture(i.TEXTURE_2D,h);i.texImage2D(i.TEXTURE_2D,0,i.RGBA,16,16,0,i.RGBA,i.UNSIGNED_BYTE,null);i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE);i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE);i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.NEAREST);i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.NEAREST);o={vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","uniform sampler2D occlusionMap;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float vVisibility;","void main() {","vUV = uv;","vec2 pos = position;","if ( renderType == 2 ) {","vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );","vVisibility =        visibility.r / 9.0;","vVisibility *= 1.0 - visibility.g / 9.0;","vVisibility *=       visibility.b / 9.0;","vVisibility *= 1.0 - visibility.a / 9.0;","pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","}","gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["uniform lowp int renderType;","uniform sampler2D map;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","varying float vVisibility;","void main() {","if ( renderType == 0 ) {","gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );","} else if ( renderType == 1 ) {","gl_FragColor = texture2D( map, vUV );","} else {","vec4 texture = texture2D( map, vUV );","texture.a *= opacity * vVisibility;","gl_FragColor = texture;","gl_FragColor.rgb *= color;","}","}"].join("\n")};s=d(o);c={vertex:i.getAttribLocation(s,"position"),uv:i.getAttribLocation(s,"uv")};l={renderType:i.getUniformLocation(s,"renderType"),map:i.getUniformLocation(s,"map"),occlusionMap:i.getUniformLocation(s,"occlusionMap"),opacity:i.getUniformLocation(s,"opacity"),color:i.getUniformLocation(s,"color"),scale:i.getUniformLocation(s,"scale"),rotation:i.getUniformLocation(s,"rotation"),screenPosition:i.getUniformLocation(s,"screenPosition")}}this.render=function(o,d,p){if(t.length===0)return;var m=new At;var v=p.w/p.z,g=p.z*.5,y=p.w*.5;var x=16/p.w,_=new Mt(x*v,x);var b=new At(1,1,0),w=new Mt(1,1);var M=new It;M.min.set(p.x,p.y);M.max.set(p.x+(p.z-16),p.y+(p.w-16));if(s===undefined){f()}i.useProgram(s);r.initAttributes();r.enableAttribute(c.vertex);r.enableAttribute(c.uv);r.disableUnusedAttributes();i.uniform1i(l.occlusionMap,0);i.uniform1i(l.map,1);i.bindBuffer(i.ARRAY_BUFFER,n);i.vertexAttribPointer(c.vertex,2,i.FLOAT,false,2*8,0);i.vertexAttribPointer(c.uv,2,i.FLOAT,false,2*8,8);i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,a);r.disable(i.CULL_FACE);r.setDepthWrite(false);for(var S=0,T=t.length;S<T;S++){x=16/p.w;_.set(x*v,x);var A=t[S];m.set(A.matrixWorld.elements[12],A.matrixWorld.elements[13],A.matrixWorld.elements[14]);m.applyMatrix4(d.matrixWorldInverse);m.applyMatrix4(d.projectionMatrix);b.copy(m);w.x=p.x+b.x*g+g-8;w.y=p.y+b.y*y+y-8;if(M.containsPoint(w)===true){r.activeTexture(i.TEXTURE0);r.bindTexture(i.TEXTURE_2D,null);r.activeTexture(i.TEXTURE1);r.bindTexture(i.TEXTURE_2D,u);i.copyTexImage2D(i.TEXTURE_2D,0,i.RGB,w.x,w.y,16,16,0);i.uniform1i(l.renderType,0);i.uniform2f(l.scale,_.x,_.y);i.uniform3f(l.screenPosition,b.x,b.y,b.z);r.disable(i.BLEND);r.enable(i.DEPTH_TEST);i.drawElements(i.TRIANGLES,6,i.UNSIGNED_SHORT,0);r.activeTexture(i.TEXTURE0);r.bindTexture(i.TEXTURE_2D,h);i.copyTexImage2D(i.TEXTURE_2D,0,i.RGBA,w.x,w.y,16,16,0);i.uniform1i(l.renderType,1);r.disable(i.DEPTH_TEST);r.activeTexture(i.TEXTURE1);r.bindTexture(i.TEXTURE_2D,u);i.drawElements(i.TRIANGLES,6,i.UNSIGNED_SHORT,0);A.positionScreen.copy(b);if(A.customUpdateCallback){A.customUpdateCallback(A)}else{A.updateLensFlares()}i.uniform1i(l.renderType,2);r.enable(i.BLEND);for(var L=0,E=A.lensFlares.length;L<E;L++){var P=A.lensFlares[L];if(P.opacity>.001&&P.scale>.001){b.x=P.x;b.y=P.y;b.z=P.z;x=P.size*P.scale/p.w;_.x=x*v;_.y=x;i.uniform3f(l.screenPosition,b.x,b.y,b.z);i.uniform2f(l.scale,_.x,_.y);i.uniform1f(l.rotation,P.rotation);i.uniform1f(l.opacity,P.opacity);i.uniform3f(l.color,P.color.r,P.color.g,P.color.b);r.setBlending(P.blending,P.blendEquation,P.blendSrc,P.blendDst);e.setTexture2D(P.texture,1);i.drawElements(i.TRIANGLES,6,i.UNSIGNED_SHORT,0)}}}}r.enable(i.CULL_FACE);r.enable(i.DEPTH_TEST);r.setDepthWrite(true);e.resetGLState()};function d(t){var r=i.createProgram();var n=i.createShader(i.FRAGMENT_SHADER);var a=i.createShader(i.VERTEX_SHADER);var o="precision "+e.getPrecision()+" float;\n";i.shaderSource(n,o+t.fragmentShader);i.shaderSource(a,o+t.vertexShader);i.compileShader(n);i.compileShader(a);i.attachShader(r,n);i.attachShader(r,a);i.linkProgram(r);return r}}function No(e,t){var i=e.context;var r=e.state;var n,a;var o,s,c;var l;var u=new At;var h=new Tt;var f=new At;function d(){var e=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]);var t=new Uint16Array([0,1,2,0,2,3]);n=i.createBuffer();a=i.createBuffer();i.bindBuffer(i.ARRAY_BUFFER,n);i.bufferData(i.ARRAY_BUFFER,e,i.STATIC_DRAW);i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,a);i.bufferData(i.ELEMENT_ARRAY_BUFFER,t,i.STATIC_DRAW);o=p();s={position:i.getAttribLocation(o,"position"),uv:i.getAttribLocation(o,"uv")};c={uvOffset:i.getUniformLocation(o,"uvOffset"),uvScale:i.getUniformLocation(o,"uvScale"),rotation:i.getUniformLocation(o,"rotation"),scale:i.getUniformLocation(o,"scale"),color:i.getUniformLocation(o,"color"),map:i.getUniformLocation(o,"map"),opacity:i.getUniformLocation(o,"opacity"),modelViewMatrix:i.getUniformLocation(o,"modelViewMatrix"),projectionMatrix:i.getUniformLocation(o,"projectionMatrix"),fogType:i.getUniformLocation(o,"fogType"),fogDensity:i.getUniformLocation(o,"fogDensity"),fogNear:i.getUniformLocation(o,"fogNear"),fogFar:i.getUniformLocation(o,"fogFar"),fogColor:i.getUniformLocation(o,"fogColor"),alphaTest:i.getUniformLocation(o,"alphaTest")};var r=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");r.width=8;r.height=8;var u=r.getContext("2d");u.fillStyle="white";u.fillRect(0,0,8,8);l=new Dr(r);l.needsUpdate=true}this.render=function(p,v){if(t.length===0)return;if(o===undefined){d()}i.useProgram(o);r.initAttributes();r.enableAttribute(s.position);r.enableAttribute(s.uv);r.disableUnusedAttributes();r.disable(i.CULL_FACE);r.enable(i.BLEND);i.bindBuffer(i.ARRAY_BUFFER,n);i.vertexAttribPointer(s.position,2,i.FLOAT,false,2*8,0);i.vertexAttribPointer(s.uv,2,i.FLOAT,false,2*8,8);i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,a);i.uniformMatrix4fv(c.projectionMatrix,false,v.projectionMatrix.elements);r.activeTexture(i.TEXTURE0);i.uniform1i(c.map,0);var g=0;var y=0;var x=p.fog;if(x){i.uniform3f(c.fogColor,x.color.r,x.color.g,x.color.b);if(x.isFog){i.uniform1f(c.fogNear,x.near);i.uniform1f(c.fogFar,x.far);i.uniform1i(c.fogType,1);g=1;y=1}else if(x.isFogExp2){i.uniform1f(c.fogDensity,x.density);i.uniform1i(c.fogType,2);g=2;y=2}}else{i.uniform1i(c.fogType,0);g=0;y=0}for(var _=0,b=t.length;_<b;_++){var w=t[_];w.modelViewMatrix.multiplyMatrices(v.matrixWorldInverse,w.matrixWorld);w.z=-w.modelViewMatrix.elements[14]}t.sort(m);var M=[];for(var _=0,b=t.length;_<b;_++){var w=t[_];var S=w.material;if(S.visible===false)continue;i.uniform1f(c.alphaTest,S.alphaTest);i.uniformMatrix4fv(c.modelViewMatrix,false,w.modelViewMatrix.elements);w.matrixWorld.decompose(u,h,f);M[0]=f.x;M[1]=f.y;var T=0;if(p.fog&&S.fog){T=y}if(g!==T){i.uniform1i(c.fogType,T);g=T}if(S.map!==null){i.uniform2f(c.uvOffset,S.map.offset.x,S.map.offset.y);i.uniform2f(c.uvScale,S.map.repeat.x,S.map.repeat.y)}else{i.uniform2f(c.uvOffset,0,0);i.uniform2f(c.uvScale,1,1)}i.uniform1f(c.opacity,S.opacity);i.uniform3f(c.color,S.color.r,S.color.g,S.color.b);i.uniform1f(c.rotation,S.rotation);i.uniform2fv(c.scale,M);r.setBlending(S.blending,S.blendEquation,S.blendSrc,S.blendDst);r.setDepthTest(S.depthTest);r.setDepthWrite(S.depthWrite);if(S.map){e.setTexture2D(S.map,0)}else{e.setTexture2D(l,0)}i.drawElements(i.TRIANGLES,6,i.UNSIGNED_SHORT,0)}r.enable(i.CULL_FACE);e.resetGLState()};function p(){var t=i.createProgram();var r=i.createShader(i.VERTEX_SHADER);var n=i.createShader(i.FRAGMENT_SHADER);i.shaderSource(r,["precision "+e.getPrecision()+" float;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float rotation;","uniform vec2 scale;","uniform vec2 uvOffset;","uniform vec2 uvScale;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","vUV = uvOffset + uv * uvScale;","vec2 alignedPosition = position * scale;","vec2 rotatedPosition;","rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;","rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;","vec4 finalPosition;","finalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );","finalPosition.xy += rotatedPosition;","finalPosition = projectionMatrix * finalPosition;","gl_Position = finalPosition;","}"].join("\n"));i.shaderSource(n,["precision "+e.getPrecision()+" float;","uniform vec3 color;","uniform sampler2D map;","uniform float opacity;","uniform int fogType;","uniform vec3 fogColor;","uniform float fogDensity;","uniform float fogNear;","uniform float fogFar;","uniform float alphaTest;","varying vec2 vUV;","void main() {","vec4 texture = texture2D( map, vUV );","if ( texture.a < alphaTest ) discard;","gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );","if ( fogType > 0 ) {","float depth = gl_FragCoord.z / gl_FragCoord.w;","float fogFactor = 0.0;","if ( fogType == 1 ) {","fogFactor = smoothstep( fogNear, fogFar, depth );","} else {","const float LOG2 = 1.442695;","fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );","fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","}","gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );","}","}"].join("\n"));i.compileShader(r);i.compileShader(n);i.attachShader(t,r);i.attachShader(t,n);i.linkProgram(t);return t}function m(e,t){if(e.renderOrder!==t.renderOrder){return e.renderOrder-t.renderOrder}else if(e.z!==t.z){return t.z-e.z}else{return t.id-e.id}}}function Do(e,t,i){this.uuid=_t.generateUUID();this.width=e;this.height=t;this.scissor=new St(0,0,e,t);this.scissorTest=false;this.viewport=new St(0,0,e,t);i=i||{};if(i.minFilter===undefined)i.minFilter=ye;this.texture=new Dr(undefined,undefined,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding);this.depthBuffer=i.depthBuffer!==undefined?i.depthBuffer:true;this.stencilBuffer=i.stencilBuffer!==undefined?i.stencilBuffer:true;this.depthTexture=i.depthTexture!==undefined?i.depthTexture:null}Do.prototype={constructor:Do,isWebGLRenderTarget:true,setSize:function(e,t){if(this.width!==e||this.height!==t){this.width=e;this.height=t;this.dispose()}this.viewport.set(0,0,e,t);this.scissor.set(0,0,e,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.width=e.width;this.height=e.height;this.viewport.copy(e.viewport);this.texture=e.texture.clone();this.depthBuffer=e.depthBuffer;this.stencilBuffer=e.stencilBuffer;this.depthTexture=e.depthTexture;return this},dispose:function(){this.dispatchEvent({type:"dispose"})}};Object.assign(Do.prototype,Ht.prototype);var Uo=0;function Oo(){Object.defineProperty(this,"id",{value:Uo++});this.uuid=_t.generateUUID();this.name="";this.type="Material";this.fog=true;this.lights=true;this.blending=b;this.side=f;this.shading=v;this.vertexColors=g;this.opacity=1;this.transparent=false;this.blendSrc=U;this.blendDst=O;this.blendEquation=A;this.blendSrcAlpha=null;this.blendDstAlpha=null;this.blendEquationAlpha=null;this.depthFunc=W;this.depthTest=true;this.depthWrite=true;this.clippingPlanes=null;this.clipIntersection=false;this.clipShadows=false;this.colorWrite=true;this.precision=null;this.polygonOffset=false;this.polygonOffsetFactor=0;this.polygonOffsetUnits=0;this.alphaTest=0;this.premultipliedAlpha=false;this.overdraw=0;this.visible=true;this._needsUpdate=true}Oo.prototype={constructor:Oo,isMaterial:true,get needsUpdate(){return this._needsUpdate},set needsUpdate(e){if(e===true)this.update();this._needsUpdate=e},setValues:function(e){if(e===undefined)return;for(var t in e){var i=e[t];if(i===undefined){console.warn("SZX3D.Material: '"+t+"' parameter is undefined.");continue}var r=this[t];if(r===undefined){console.warn("SZX3D."+this.type+": '"+t+"' is not a property of this material.");continue}if(r&&r.isColor){r.set(i)}else if(r&&r.isVector3&&(i&&i.isVector3)){r.copy(i)}else if(t==="overdraw"){this[t]=Number(i)}else{this[t]=i}}},toJSON:function(e){var t=e===undefined;if(t){e={textures:{},images:{}}}var i={metadata:{version:4.4,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid;i.type=this.type;if(this.name!=="")i.name=this.name;if(this.color&&this.color.isColor)i.color=this.color.getHex();if(this.roughness!==undefined)i.roughness=this.roughness;if(this.metalness!==undefined)i.metalness=this.metalness;if(this.emissive&&this.emissive.isColor)i.emissive=this.emissive.getHex();if(this.specular&&this.specular.isColor)i.specular=this.specular.getHex();if(this.shininess!==undefined)i.shininess=this.shininess;if(this.clearCoat!==undefined)i.clearCoat=this.clearCoat;if(this.clearCoatRoughness!==undefined)i.clearCoatRoughness=this.clearCoatRoughness;if(this.map&&this.map.isTexture)i.map=this.map.toJSON(e).uuid;if(this.alphaMap&&this.alphaMap.isTexture)i.alphaMap=this.alphaMap.toJSON(e).uuid;if(this.lightMap&&this.lightMap.isTexture)i.lightMap=this.lightMap.toJSON(e).uuid;if(this.bumpMap&&this.bumpMap.isTexture){i.bumpMap=this.bumpMap.toJSON(e).uuid;i.bumpScale=this.bumpScale}if(this.normalMap&&this.normalMap.isTexture){i.normalMap=this.normalMap.toJSON(e).uuid;i.normalScale=this.normalScale.toArray()}if(this.displacementMap&&this.displacementMap.isTexture){i.displacementMap=this.displacementMap.toJSON(e).uuid;i.displacementScale=this.displacementScale;i.displacementBias=this.displacementBias}if(this.roughnessMap&&this.roughnessMap.isTexture)i.roughnessMap=this.roughnessMap.toJSON(e).uuid;if(this.metalnessMap&&this.metalnessMap.isTexture)i.metalnessMap=this.metalnessMap.toJSON(e).uuid;if(this.emissiveMap&&this.emissiveMap.isTexture)i.emissiveMap=this.emissiveMap.toJSON(e).uuid;if(this.specularMap&&this.specularMap.isTexture)i.specularMap=this.specularMap.toJSON(e).uuid;if(this.envMap&&this.envMap.isTexture){i.envMap=this.envMap.toJSON(e).uuid;i.reflectivity=this.reflectivity}if(this.gradientMap&&this.gradientMap.isTexture){i.gradientMap=this.gradientMap.toJSON(e).uuid}if(this.size!==undefined)i.size=this.size;if(this.sizeAttenuation!==undefined)i.sizeAttenuation=this.sizeAttenuation;if(this.blending!==b)i.blending=this.blending;if(this.shading!==v)i.shading=this.shading;if(this.side!==f)i.side=this.side;if(this.vertexColors!==g)i.vertexColors=this.vertexColors;if(this.opacity<1)i.opacity=this.opacity;if(this.transparent===true)i.transparent=this.transparent;i.depthFunc=this.depthFunc;i.depthTest=this.depthTest;i.depthWrite=this.depthWrite;if(this.alphaTest>0)i.alphaTest=this.alphaTest;if(this.premultipliedAlpha===true)i.premultipliedAlpha=this.premultipliedAlpha;if(this.wireframe===true)i.wireframe=this.wireframe;if(this.wireframeLinewidth>1)i.wireframeLinewidth=this.wireframeLinewidth;if(this.wireframeLinecap!=="round")i.wireframeLinecap=this.wireframeLinecap;if(this.wireframeLinejoin!=="round")i.wireframeLinejoin=this.wireframeLinejoin;i.skinning=this.skinning;i.morphTargets=this.morphTargets;function r(e){var t=[];for(var i in e){var r=e[i];delete r.metadata;t.push(r)}return t}if(t){var n=r(e.textures);var a=r(e.images);if(n.length>0)i.textures=n;if(a.length>0)i.images=a}return i},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name;this.fog=e.fog;this.lights=e.lights;this.blending=e.blending;this.side=e.side;this.shading=e.shading;this.vertexColors=e.vertexColors;this.opacity=e.opacity;this.transparent=e.transparent;this.blendSrc=e.blendSrc;this.blendDst=e.blendDst;this.blendEquation=e.blendEquation;this.blendSrcAlpha=e.blendSrcAlpha;this.blendDstAlpha=e.blendDstAlpha;this.blendEquationAlpha=e.blendEquationAlpha;this.depthFunc=e.depthFunc;this.depthTest=e.depthTest;this.depthWrite=e.depthWrite;this.colorWrite=e.colorWrite;this.precision=e.precision;this.polygonOffset=e.polygonOffset;this.polygonOffsetFactor=e.polygonOffsetFactor;this.polygonOffsetUnits=e.polygonOffsetUnits;this.alphaTest=e.alphaTest;this.premultipliedAlpha=e.premultipliedAlpha;this.overdraw=e.overdraw;this.visible=e.visible;this.clipShadows=e.clipShadows;this.clipIntersection=e.clipIntersection;var t=e.clippingPlanes,i=null;if(t!==null){var r=t.length;i=new Array(r);for(var n=0;n!==r;++n)i[n]=t[n].clone()}this.clippingPlanes=i;return this},update:function(){this.dispatchEvent({type:"update"})},dispose:function(){this.dispatchEvent({type:"dispose"})}};Object.assign(Oo.prototype,Ht.prototype);function zo(e){Oo.call(this);this.type="ShaderMaterial";this.defines={};this.uniforms={};this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}";this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";this.linewidth=1;this.wireframe=false;this.wireframeLinewidth=1;this.fog=false;this.lights=false;this.clipping=false;this.skinning=false;this.morphTargets=false;this.morphNormals=false;this.extensions={derivatives:false,fragDepth:false,drawBuffers:false,shaderTextureLOD:false};this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]};this.index0AttributeName=undefined;if(e!==undefined){if(e.attributes!==undefined){console.error("SZX3D.ShaderMaterial: attributes should now be defined in SZX3D.BufferGeometry instead.")}this.setValues(e)}}zo.prototype=Object.create(Oo.prototype);zo.prototype.constructor=zo;zo.prototype.isShaderMaterial=true;zo.prototype.copy=function(e){Oo.prototype.copy.call(this,e);this.fragmentShader=e.fragmentShader;this.vertexShader=e.vertexShader;this.uniforms=ja.clone(e.uniforms);this.defines=e.defines;this.wireframe=e.wireframe;this.wireframeLinewidth=e.wireframeLinewidth;this.lights=e.lights;this.clipping=e.clipping;this.skinning=e.skinning;this.morphTargets=e.morphTargets;this.morphNormals=e.morphNormals;this.extensions=e.extensions;return this};zo.prototype.toJSON=function(e){var t=Oo.prototype.toJSON.call(this,e);t.uniforms=this.uniforms;t.vertexShader=this.vertexShader;t.fragmentShader=this.fragmentShader;return t};function Bo(e){Oo.call(this);this.type="MeshDepthMaterial";this.depthPacking=vt;this.skinning=false;this.morphTargets=false;this.map=null;this.alphaMap=null;this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.wireframe=false;this.wireframeLinewidth=1;this.fog=false;this.lights=false;this.setValues(e)}Bo.prototype=Object.create(Oo.prototype);Bo.prototype.constructor=Bo;Bo.prototype.isMeshDepthMaterial=true;Bo.prototype.copy=function(e){Oo.prototype.copy.call(this,e);this.depthPacking=e.depthPacking;this.skinning=e.skinning;this.morphTargets=e.morphTargets;this.map=e.map;this.alphaMap=e.alphaMap;this.displacementMap=e.displacementMap;this.displacementScale=e.displacementScale;this.displacementBias=e.displacementBias;this.wireframe=e.wireframe;this.wireframeLinewidth=e.wireframeLinewidth;return this};function Fo(e,t,i,r){var n=e.context,a=e.state,o=new Ot,s=new Lt,c=t.shadows,l=new Mt,h=new Mt(r.maxTextureSize,r.maxTextureSize),m=new At,v=new At,g=[],y=1,x=2,_=(y|x)+1,b=new Array(_),w=new Array(_),M={};var S=[new At(1,0,0),new At(-1,0,0),new At(0,0,1),new At(0,0,-1),new At(0,1,0),new At(0,-1,0)];var T=[new At(0,1,0),new At(0,1,0),new At(0,1,0),new At(0,1,0),new At(0,0,1),new At(0,0,-1)];var A=[new St,new St,new St,new St,new St,new St];var L=new Bo;L.depthPacking=gt;L.clipping=true;var E=Wa["distanceRGBA"];var P=ja.clone(E.uniforms);for(var C=0;C!==_;++C){var I=(C&y)!==0;var R=(C&x)!==0;var N=L.clone();N.morphTargets=I;N.skinning=R;b[C]=N;var D=new zo({defines:{USE_SHADOWMAP:""},uniforms:P,vertexShader:E.vertexShader,fragmentShader:E.fragmentShader,morphTargets:I,skinning:R,clipping:true});w[C]=D}var U=this;this.enabled=false;this.autoUpdate=true;this.needsUpdate=false;this.type=u;this.renderReverseSided=true;this.renderSingleSided=true;this.render=function(t,r){if(U.enabled===false)return;if(U.autoUpdate===false&&U.needsUpdate===false)return;if(c.length===0)return;a.buffers.color.setClear(1,1,1,1);a.disable(n.BLEND);a.setDepthTest(true);a.setScissorTest(false);var u,f;for(var d=0,p=c.length;d<p;d++){var y=c[d];var x=y.shadow;if(x===undefined){console.warn("SZX3D.WebGLShadowMap:",y,"has no shadow.");continue}var _=x.camera;l.copy(x.mapSize);l.min(h);if(y&&y.isPointLight){u=6;f=true;var b=l.x;var w=l.y;A[0].set(b*2,w,b,w);A[1].set(0,w,b,w);A[2].set(b*3,w,b,w);A[3].set(b,w,b,w);A[4].set(b*3,0,b,w);A[5].set(b,0,b,w);l.x*=4;l.y*=2}else{u=1;f=false}if(x.map===null){var M={minFilter:me,magFilter:me,format:Ue};x.map=new Do(l.x,l.y,M);_.updateProjectionMatrix()}if(x.isSpotLightShadow){x.update(y)}if(x&&x.isRectAreaLightShadow){x.update(y)}var L=x.map;var E=x.matrix;v.setFromMatrixPosition(y.matrixWorld);_.position.copy(v);e.setRenderTarget(L);e.clear();for(var P=0;P<u;P++){if(f){m.copy(_.position);m.add(S[P]);_.up.copy(T[P]);_.lookAt(m);var C=A[P];a.viewport(C)}else{m.setFromMatrixPosition(y.target.matrixWorld);_.lookAt(m)}_.updateMatrixWorld();_.matrixWorldInverse.getInverse(_.matrixWorld);E.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1);E.multiply(_.projectionMatrix);E.multiply(_.matrixWorldInverse);s.multiplyMatrices(_.projectionMatrix,_.matrixWorldInverse);o.setFromMatrix(s);g.length=0;z(t,r,_);for(var I=0,R=g.length;I<R;I++){var N=g[I];var D=i.update(N);var B=N.material;if(B&&B.isMultiMaterial){var F=D.groups;var k=B.materials;for(var G=0,V=F.length;G<V;G++){var j=F[G];var X=k[j.materialIndex];if(X.visible===true){var W=O(N,X,f,v);e.renderBufferDirect(_,null,D,W,N,j)}}}else{var W=O(N,B,f,v);e.renderBufferDirect(_,null,D,W,N,null)}}}}var H=e.getClearColor(),Z=e.getClearAlpha();e.setClearColor(H,Z);U.needsUpdate=false};function O(t,i,r,n){var a=t.geometry;var o=null;var s=b;var c=t.customDepthMaterial;if(r){s=w;c=t.customDistanceMaterial}if(!c){var l=false;if(i.morphTargets){if(a&&a.isBufferGeometry){l=a.morphAttributes&&a.morphAttributes.position&&a.morphAttributes.position.length>0}else if(a&&a.isGeometry){l=a.morphTargets&&a.morphTargets.length>0}}var u=t.isSkinnedMesh&&i.skinning;var h=0;if(l)h|=y;if(u)h|=x;o=s[h]}else{o=c}if(e.localClippingEnabled&&i.clipShadows===true&&i.clippingPlanes.length!==0){var m=o.uuid,v=i.uuid;var g=M[m];if(g===undefined){g={};M[m]=g}var _=g[v];if(_===undefined){_=o.clone();g[v]=_}o=_}o.visible=i.visible;o.wireframe=i.wireframe;var S=i.side;if(U.renderSingleSided&&S==p){S=f}if(U.renderReverseSided){if(S===f)S=d;else if(S===d)S=f}o.side=S;o.clipShadows=i.clipShadows;o.clippingPlanes=i.clippingPlanes;o.wireframeLinewidth=i.wireframeLinewidth;o.linewidth=i.linewidth;if(r&&o.uniforms.lightPos!==undefined){o.uniforms.lightPos.value.copy(n)}return o}function z(e,t,i){if(e.visible===false)return;var r=(e.layers.mask&t.layers.mask)!==0;if(r&&(e.isMesh||e.isLine||e.isPoints)){if(e.castShadow&&(e.frustumCulled===false||o.intersectsObject(e)===true)){var n=e.material;if(n.visible===true){e.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,e.matrixWorld);g.push(e)}}}var a=e.children;for(var s=0,c=a.length;s<c;s++){z(a[s],t,i)}}}function ko(e){Oo.call(this);this.type="MeshBasicMaterial";this.color=new bt(16777215);this.map=null;this.lightMap=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.specularMap=null;this.alphaMap=null;this.envMap=null;this.combine=J;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=false;this.wireframeLinewidth=1;this.wireframeLinecap="round";this.wireframeLinejoin="round";this.skinning=false;this.morphTargets=false;this.lights=false;this.setValues(e)}ko.prototype=Object.create(Oo.prototype);ko.prototype.constructor=ko;ko.prototype.isMeshBasicMaterial=true;ko.prototype.copy=function(e){Oo.prototype.copy.call(this,e);this.color.copy(e.color);this.map=e.map;this.lightMap=e.lightMap;this.lightMapIntensity=e.lightMapIntensity;this.aoMap=e.aoMap;this.aoMapIntensity=e.aoMapIntensity;this.specularMap=e.specularMap;this.alphaMap=e.alphaMap;this.envMap=e.envMap;this.combine=e.combine;this.reflectivity=e.reflectivity;this.refractionRatio=e.refractionRatio;this.wireframe=e.wireframe;this.wireframeLinewidth=e.wireframeLinewidth;this.wireframeLinecap=e.wireframeLinecap;this.wireframeLinejoin=e.wireframeLinejoin;this.skinning=e.skinning;this.morphTargets=e.morphTargets;return this};function Go(e,t){Qt.call(this);this.type="Mesh";this.geometry=e!==undefined?e:new yi;this.material=t!==undefined?t:new ko({color:Math.random()*16777215});this.drawMode=at;this.updateMorphTargets()}Go.prototype=Object.assign(Object.create(Qt.prototype),{
constructor:Go,isMesh:true,setDrawMode:function(e){this.drawMode=e},copy:function(e){Qt.prototype.copy.call(this,e);this.drawMode=e.drawMode;return this},updateMorphTargets:function(){var e=this.geometry.morphTargets;if(e!==undefined&&e.length>0){this.morphTargetInfluences=[];this.morphTargetDictionary={};for(var t=0,i=e.length;t<i;t++){this.morphTargetInfluences.push(0);this.morphTargetDictionary[e[t].name]=t}}},raycast:function(){var e=new Lt;var t=new Dt;var i=new Nt;var r=new At;var n=new At;var a=new At;var o=new At;var s=new At;var c=new At;var l=new Mt;var u=new Mt;var h=new Mt;var f=new At;var m=new At;var v=new At;function g(e,t,i,r,n,a,o){Ft.barycoordFromPoint(e,t,i,r,f);n.multiplyScalar(f.x);a.multiplyScalar(f.y);o.multiplyScalar(f.z);n.add(a).add(o);return n.clone()}function y(e,t,i,r,n,a,o){var s;var c=e.material;if(c.side===d){s=i.intersectTriangle(a,n,r,true,o)}else{s=i.intersectTriangle(r,n,a,c.side!==p,o)}if(s===null)return null;v.copy(o);v.applyMatrix4(e.matrixWorld);var l=t.ray.origin.distanceTo(v);if(l<t.near||l>t.far)return null;return{distance:l,point:v.clone(),object:e}}function x(e,t,i,o,s,c,f,d){r.fromBufferAttribute(o,c);n.fromBufferAttribute(o,f);a.fromBufferAttribute(o,d);var p=y(e,t,i,r,n,a,m);if(p){if(s){l.fromBufferAttribute(s,c);u.fromBufferAttribute(s,f);h.fromBufferAttribute(s,d);p.uv=g(m,r,n,a,l,u,h)}p.face=new $t(c,f,d,Ft.normal(r,n,a));p.faceIndex=c}return p}return function f(d,p){var v=this.geometry;var _=this.material;var b=this.matrixWorld;if(_===undefined)return;if(v.boundingSphere===null)v.computeBoundingSphere();i.copy(v.boundingSphere);i.applyMatrix4(b);if(d.ray.intersectsSphere(i)===false)return;e.getInverse(b);t.copy(d.ray).applyMatrix4(e);if(v.boundingBox!==null){if(t.intersectsBox(v.boundingBox)===false)return}var w;if(v.isBufferGeometry){var M,S,T;var A=v.index;var L=v.attributes.position;var E=v.attributes.uv;var P,C;if(A!==null){for(P=0,C=A.count;P<C;P+=3){M=A.getX(P);S=A.getX(P+1);T=A.getX(P+2);w=x(this,d,t,L,E,M,S,T);if(w){w.faceIndex=Math.floor(P/3);p.push(w)}}}else{for(P=0,C=L.count;P<C;P+=3){M=P;S=P+1;T=P+2;w=x(this,d,t,L,E,M,S,T);if(w){w.index=M;p.push(w)}}}}else if(v.isGeometry){var I,R,N;var D=_&&_.isMultiMaterial;var U=D===true?_.materials:null;var O=v.vertices;var z=v.faces;var B;var F=v.faceVertexUvs[0];if(F.length>0)B=F;for(var k=0,G=z.length;k<G;k++){var V=z[k];var j=D===true?U[V.materialIndex]:_;if(j===undefined)continue;I=O[V.a];R=O[V.b];N=O[V.c];if(j.morphTargets===true){var X=v.morphTargets;var W=this.morphTargetInfluences;r.set(0,0,0);n.set(0,0,0);a.set(0,0,0);for(var H=0,Z=X.length;H<Z;H++){var Y=W[H];if(Y===0)continue;var q=X[H].vertices;r.addScaledVector(o.subVectors(q[V.a],I),Y);n.addScaledVector(s.subVectors(q[V.b],R),Y);a.addScaledVector(c.subVectors(q[V.c],N),Y)}r.add(I);n.add(R);a.add(N);I=r;R=n;N=a}w=y(this,d,t,I,R,N,m);if(w){if(B){var J=B[k];l.copy(J[0]);u.copy(J[1]);h.copy(J[2]);w.uv=g(m,I,R,N,l,u,h)}w.face=V;w.faceIndex=k;p.push(w)}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});function Vo(){Qt.call(this);this.type="Camera";this.matrixWorldInverse=new Lt;this.projectionMatrix=new Lt}Vo.prototype=Object.create(Qt.prototype);Vo.prototype.constructor=Vo;Vo.prototype.isCamera=true;Vo.prototype.getWorldDirection=function(){var e=new Tt;return function t(i){var r=i||new At;this.getWorldQuaternion(e);return r.set(0,0,-1).applyQuaternion(e)}}();Vo.prototype.lookAt=function(){var e=new Lt;return function t(i){e.lookAt(this.position,i,this.up);this.quaternion.setFromRotationMatrix(e)}}();Vo.prototype.clone=function(){return(new this.constructor).copy(this)};Vo.prototype.copy=function(e){Qt.prototype.copy.call(this,e);this.matrixWorldInverse.copy(e.matrixWorldInverse);this.projectionMatrix.copy(e.projectionMatrix);return this};function jo(e,t,i,r){Vo.call(this);this.type="PerspectiveCamera";this.fov=e!==undefined?e:50;this.zoom=1;this.near=i!==undefined?i:.1;this.far=r!==undefined?r:2e3;this.focus=10;this.aspect=t!==undefined?t:1;this.view=null;this.filmGauge=35;this.filmOffset=0;this.updateProjectionMatrix()}jo.prototype=Object.assign(Object.create(Vo.prototype),{constructor:jo,isPerspectiveCamera:true,copy:function(e){Vo.prototype.copy.call(this,e);this.fov=e.fov;this.zoom=e.zoom;this.near=e.near;this.far=e.far;this.focus=e.focus;this.aspect=e.aspect;this.view=e.view===null?null:Object.assign({},e.view);this.filmGauge=e.filmGauge;this.filmOffset=e.filmOffset;return this},setFocalLength:function(e){var t=.5*this.getFilmHeight()/e;this.fov=_t.RAD2DEG*2*Math.atan(t);this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(_t.DEG2RAD*.5*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return _t.RAD2DEG*2*Math.atan(Math.tan(_t.DEG2RAD*.5*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,i,r,n,a){this.aspect=e/t;this.view={fullWidth:e,fullHeight:t,offsetX:i,offsetY:r,width:n,height:a};this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null;this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,t=e*Math.tan(_t.DEG2RAD*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,n=-.5*r,a=this.view;if(a!==null){var o=a.fullWidth,s=a.fullHeight;n+=a.offsetX*r/o;t-=a.offsetY*i/s;r*=a.width/o;i*=a.height/s}var c=this.filmOffset;if(c!==0)n+=e*c/this.getFilmWidth();this.projectionMatrix.makePerspective(n,n+r,t,t-i,e,this.far)},toJSON:function(e){var t=Qt.prototype.toJSON.call(this,e);t.object.fov=this.fov;t.object.zoom=this.zoom;t.object.near=this.near;t.object.far=this.far;t.object.focus=this.focus;t.object.aspect=this.aspect;if(this.view!==null)t.object.view=Object.assign({},this.view);t.object.filmGauge=this.filmGauge;t.object.filmOffset=this.filmOffset;return t}});function Xo(e,t,i,r,n,a){Vo.call(this);this.type="OrthographicCamera";this.zoom=1;this.view=null;this.left=e;this.right=t;this.top=i;this.bottom=r;this.near=n!==undefined?n:.1;this.far=a!==undefined?a:2e3;this.updateProjectionMatrix()}Xo.prototype=Object.assign(Object.create(Vo.prototype),{constructor:Xo,isOrthographicCamera:true,copy:function(e){Vo.prototype.copy.call(this,e);this.left=e.left;this.right=e.right;this.top=e.top;this.bottom=e.bottom;this.near=e.near;this.far=e.far;this.zoom=e.zoom;this.view=e.view===null?null:Object.assign({},e.view);return this},setViewOffset:function(e,t,i,r,n,a){this.view={fullWidth:e,fullHeight:t,offsetX:i,offsetY:r,width:n,height:a};this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null;this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom);var t=(this.top-this.bottom)/(2*this.zoom);var i=(this.right+this.left)/2;var r=(this.top+this.bottom)/2;var n=i-e;var a=i+e;var o=r+t;var s=r-t;if(this.view!==null){var c=this.zoom/(this.view.width/this.view.fullWidth);var l=this.zoom/(this.view.height/this.view.fullHeight);var u=(this.right-this.left)/this.view.width;var h=(this.top-this.bottom)/this.view.height;n+=u*(this.view.offsetX/c);a=n+u*(this.view.width/c);o-=h*(this.view.offsetY/l);s=o-h*(this.view.height/l)}this.projectionMatrix.makeOrthographic(n,a,o,s,this.near,this.far)},toJSON:function(e){var t=Qt.prototype.toJSON.call(this,e);t.object.zoom=this.zoom;t.object.left=this.left;t.object.right=this.right;t.object.top=this.top;t.object.bottom=this.bottom;t.object.near=this.near;t.object.far=this.far;if(this.view!==null)t.object.view=Object.assign({},this.view);return t}});function Wo(e,t,i){var r;function n(e){r=e}var a,o;function s(i){if(i.array instanceof Uint32Array&&t.get("OES_element_index_uint")){a=e.UNSIGNED_INT;o=4}else if(i.array instanceof Uint16Array){a=e.UNSIGNED_SHORT;o=2}else{a=e.UNSIGNED_BYTE;o=1}}function c(t,n){e.drawElements(r,n,a,t*o);i.calls++;i.vertices+=n;if(r===e.TRIANGLES)i.faces+=n/3}function l(n,s,c){var l=t.get("ANGLE_instanced_arrays");if(l===null){console.error("SZX3D.WebGLBufferRenderer: using SZX3D.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}l.drawElementsInstancedANGLE(r,c,a,s*o,n.maxInstancedCount);i.calls++;i.vertices+=c*n.maxInstancedCount;if(r===e.TRIANGLES)i.faces+=n.maxInstancedCount*c/3}return{setMode:n,setIndex:s,render:c,renderInstances:l}}function Ho(e,t,i){var r;function n(e){r=e}function a(t,n){e.drawArrays(r,t,n);i.calls++;i.vertices+=n;if(r===e.TRIANGLES)i.faces+=n/3}function o(n){var a=t.get("ANGLE_instanced_arrays");if(a===null){console.error("SZX3D.WebGLBufferRenderer: using SZX3D.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}var o=n.attributes.position;var s=0;if(o.isInterleavedBufferAttribute){s=o.data.count;a.drawArraysInstancedANGLE(r,0,s,n.maxInstancedCount)}else{s=o.count;a.drawArraysInstancedANGLE(r,0,s,n.maxInstancedCount)}i.calls++;i.vertices+=s*n.maxInstancedCount;if(r===e.TRIANGLES)i.faces+=n.maxInstancedCount*s/3}return{setMode:n,render:a,renderInstances:o}}function Zo(){var e={};return{get:function(t){if(e[t.id]!==undefined){return e[t.id]}var i;switch(t.type){case"DirectionalLight":i={direction:new At,color:new bt,shadow:false,shadowBias:0,shadowRadius:1,shadowMapSize:new Mt};break;case"SpotLight":i={position:new At,direction:new At,color:new bt,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:false,shadowBias:0,shadowRadius:1,shadowMapSize:new Mt};break;case"PointLight":i={position:new At,color:new bt,distance:0,decay:0,shadow:false,shadowBias:0,shadowRadius:1,shadowMapSize:new Mt};break;case"HemisphereLight":i={direction:new At,skyColor:new bt,groundColor:new bt};break;case"RectAreaLight":i={color:new bt,position:new At,halfWidth:new At,halfHeight:new At};break}e[t.id]=i;return i}}}function Yo(e){var t=e.split("\n");for(var i=0;i<t.length;i++){t[i]=i+1+": "+t[i]}return t.join("\n")}function qo(e,t,i){var r=e.createShader(t);e.shaderSource(r,i);e.compileShader(r);if(e.getShaderParameter(r,e.COMPILE_STATUS)===false){console.error("SZX3D.WebGLShader: Shader couldn't compile.")}if(e.getShaderInfoLog(r)!==""){console.warn("SZX3D.WebGLShader: gl.getShaderInfoLog()",t===e.VERTEX_SHADER?"vertex":"fragment",e.getShaderInfoLog(r),Yo(i))}return r}var Jo=0;function Ko(e){switch(e){case ct:return["Linear","( value )"];case lt:return["sRGB","( value )"];case ht:return["RGBE","( value )"];case dt:return["RGBM","( value, 7.0 )"];case pt:return["RGBM","( value, 16.0 )"];case mt:return["RGBD","( value, 256.0 )"];case ut:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+e)}}function Qo(e,t){var i=Ko(t);return"vec4 "+e+"( vec4 value ) { return "+i[0]+"ToLinear"+i[1]+"; }"}function $o(e,t){var i=Ko(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+i[0]+i[1]+"; }"}function es(e,t){var i;switch(t){case ee:i="Linear";break;case te:i="Reinhard";break;case ie:i="Uncharted2";break;case re:i="OptimizedCineon";break;default:throw new Error("unsupported toneMapping: "+t)}return"vec3 "+e+"( vec3 color ) { return "+i+"ToneMapping( color ); }"}function ts(e,t,i){e=e||{};var r=[e.derivatives||t.envMapCubeUV||t.bumpMap||t.normalMap||t.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(e.fragDepth||t.logarithmicDepthBuffer)&&i.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",e.drawBuffers&&i.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(e.shaderTextureLOD||t.envMap)&&i.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""];return r.filter(ns).join("\n")}function is(e){var t=[];for(var i in e){var r=e[i];if(r===false)continue;t.push("#define "+i+" "+r)}return t.join("\n")}function rs(e,t,i){var r={};var n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(var a=0;a<n;a++){var o=e.getActiveAttrib(t,a);var s=o.name;r[s]=e.getAttribLocation(t,s)}return r}function ns(e){return e!==""}function as(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights)}function os(e){var t=/#include +<([\w\d.]+)>/g;function i(e,t){var i=Va[t];if(i===undefined){throw new Error("Can not resolve #include <"+t+">")}return os(i)}return e.replace(t,i)}function ss(e){var t=/for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g;function i(e,t,i,r){var n="";for(var a=parseInt(t);a<parseInt(i);a++){n+=r.replace(/\[ i \]/g,"[ "+a+" ]")}return n}return e.replace(t,i)}function cs(e,t,i,r){var n=e.context;var a=i.extensions;var o=i.defines;var s=i.__webglShader.vertexShader;var c=i.__webglShader.fragmentShader;var l="SHADOWMAP_TYPE_BASIC";if(r.shadowMapType===u){l="SHADOWMAP_TYPE_PCF"}else if(r.shadowMapType===h){l="SHADOWMAP_TYPE_PCF_SOFT"}var f="ENVMAP_TYPE_CUBE";var d="ENVMAP_MODE_REFLECTION";var p="ENVMAP_BLENDING_MULTIPLY";if(r.envMap){switch(i.envMap.mapping){case ae:case oe:f="ENVMAP_TYPE_CUBE";break;case ue:case he:f="ENVMAP_TYPE_CUBE_UV";break;case se:case ce:f="ENVMAP_TYPE_EQUIREC";break;case le:f="ENVMAP_TYPE_SPHERE";break}switch(i.envMap.mapping){case oe:case ce:d="ENVMAP_MODE_REFRACTION";break}switch(i.combine){case J:p="ENVMAP_BLENDING_MULTIPLY";break;case K:p="ENVMAP_BLENDING_MIX";break;case Q:p="ENVMAP_BLENDING_ADD";break}}var m=e.gammaFactor>0?e.gammaFactor:1;var v=ts(a,r,e.extensions);var g=is(o);var y=n.createProgram();var x,_;if(i.isRawShaderMaterial){x=[g,"\n"].filter(ns).join("\n");_=[v,g,"\n"].filter(ns).join("\n")}else{x=["precision "+r.precision+" float;","precision "+r.precision+" int;","#define SHADER_NAME "+i.__webglShader.name,g,r.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+m,"#define MAX_BONES "+r.maxBones,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+d:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.displacementMap&&r.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.vertexColors?"#define USE_COLOR":"",r.flatShading?"#define FLAT_SHADED":"",r.skinning?"#define USE_SKINNING":"",r.useVertexTexture?"#define BONE_TEXTURE":"",r.morphTargets?"#define USE_MORPHTARGETS":"",r.morphNormals&&r.flatShading===false?"#define USE_MORPHNORMALS":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+r.numClippingPlanes,r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+l:"",r.sizeAttenuation?"#define USE_SIZEATTENUATION":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&e.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(ns).join("\n");_=[v,"precision "+r.precision+" float;","precision "+r.precision+" int;","#define SHADER_NAME "+i.__webglShader.name,g,r.alphaTest?"#define ALPHATEST "+r.alphaTest:"","#define GAMMA_FACTOR "+m,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+f:"",r.envMap?"#define "+d:"",r.envMap?"#define "+p:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.vertexColors?"#define USE_COLOR":"",r.gradientMap?"#define USE_GRADIENTMAP":"",r.flatShading?"#define FLAT_SHADED":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+r.numClippingPlanes,"#define UNION_CLIPPING_PLANES "+(r.numClippingPlanes-r.numClipIntersection),r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+l:"",r.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",r.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&e.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"",r.envMap&&e.extensions.get("EXT_shader_texture_lod")?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",r.toneMapping!==$?"#define TONE_MAPPING":"",r.toneMapping!==$?Va["tonemapping_pars_fragment"]:"",r.toneMapping!==$?es("toneMapping",r.toneMapping):"",r.outputEncoding||r.mapEncoding||r.envMapEncoding||r.emissiveMapEncoding?Va["encodings_pars_fragment"]:"",r.mapEncoding?Qo("mapTexelToLinear",r.mapEncoding):"",r.envMapEncoding?Qo("envMapTexelToLinear",r.envMapEncoding):"",r.emissiveMapEncoding?Qo("emissiveMapTexelToLinear",r.emissiveMapEncoding):"",r.outputEncoding?$o("linearToOutputTexel",r.outputEncoding):"",r.depthPacking?"#define DEPTH_PACKING "+i.depthPacking:"","\n"].filter(ns).join("\n")}s=os(s,r);s=as(s,r);c=os(c,r);c=as(c,r);if(!i.isShaderMaterial){s=ss(s);c=ss(c)}var b=x+s;var w=_+c;var M=qo(n,n.VERTEX_SHADER,b);var S=qo(n,n.FRAGMENT_SHADER,w);n.attachShader(y,M);n.attachShader(y,S);if(i.index0AttributeName!==undefined){n.bindAttribLocation(y,0,i.index0AttributeName)}else if(r.morphTargets===true){n.bindAttribLocation(y,0,"position")}n.linkProgram(y);var T=n.getProgramInfoLog(y);var A=n.getShaderInfoLog(M);var L=n.getShaderInfoLog(S);var E=true;var P=true;if(n.getProgramParameter(y,n.LINK_STATUS)===false){E=false;console.error("SZX3D.WebGLProgram: shader error: ",n.getError(),"gl.VALIDATE_STATUS",n.getProgramParameter(y,n.VALIDATE_STATUS),"gl.getProgramInfoLog",T,A,L)}else if(T!==""){console.warn("SZX3D.WebGLProgram: gl.getProgramInfoLog()",T)}else if(A===""||L===""){P=false}if(P){this.diagnostics={runnable:E,material:i,programLog:T,vertexShader:{log:A,prefix:x},fragmentShader:{log:L,prefix:_}}}n.deleteShader(M);n.deleteShader(S);var C;this.getUniforms=function(){if(C===undefined){C=new Io(n,y,e)}return C};var I;this.getAttributes=function(){if(I===undefined){I=rs(n,y)}return I};this.destroy=function(){n.deleteProgram(y);this.program=undefined};Object.defineProperties(this,{uniforms:{get:function(){console.warn("SZX3D.WebGLProgram: .uniforms is now .getUniforms().");return this.getUniforms()}},attributes:{get:function(){console.warn("SZX3D.WebGLProgram: .attributes is now .getAttributes().");return this.getAttributes()}}});this.id=Jo++;this.code=t;this.usedTimes=1;this.program=y;this.vertexShader=M;this.fragmentShader=S;return this}function ls(e,t){var i=[];var r={MeshDepthMaterial:"depth",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points"};var n=["precision","supportsVertexTextures","map","mapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking"];function a(e){if(t.floatVertexTextures&&e&&e.skeleton&&e.skeleton.useVertexTexture){return 1024}else{var i=t.maxVertexUniforms;var r=Math.floor((i-20)/4);var n=r;if(e!==undefined&&(e&&e.isSkinnedMesh)){n=Math.min(e.skeleton.bones.length,n);if(n<e.skeleton.bones.length){console.warn("WebGLRenderer: too many bones - "+e.skeleton.bones.length+", this GPU supports just "+n+" (try OpenGL instead of ANGLE)")}}return n}}function o(e,t){var i;if(!e){i=ct}else if(e.isTexture){i=e.encoding}else if(e.isWebGLRenderTarget){console.warn("SZX3D.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead.");i=e.texture.encoding}if(i===ct&&t){i=ut}return i}this.getParameters=function(i,n,s,c,l,u){var h=r[i.type];var f=a(u);var v=e.getPrecision();if(i.precision!==null){v=t.getMaxPrecision(i.precision);if(v!==i.precision){console.warn("SZX3D.WebGLProgram.getParameters:",i.precision,"not supported, using",v,"instead.")}}var g=e.getCurrentRenderTarget();var y={shaderID:h,precision:v,supportsVertexTextures:t.vertexTextures,outputEncoding:o(!g?null:g.texture,e.gammaOutput),map:!!i.map,mapEncoding:o(i.map,e.gammaInput),envMap:!!i.envMap,envMapMode:i.envMap&&i.envMap.mapping,envMapEncoding:o(i.envMap,e.gammaInput),envMapCubeUV:!!i.envMap&&(i.envMap.mapping===ue||i.envMap.mapping===he),lightMap:!!i.lightMap,aoMap:!!i.aoMap,emissiveMap:!!i.emissiveMap,emissiveMapEncoding:o(i.emissiveMap,e.gammaInput),bumpMap:!!i.bumpMap,normalMap:!!i.normalMap,displacementMap:!!i.displacementMap,roughnessMap:!!i.roughnessMap,metalnessMap:!!i.metalnessMap,specularMap:!!i.specularMap,alphaMap:!!i.alphaMap,gradientMap:!!i.gradientMap,combine:i.combine,vertexColors:i.vertexColors,fog:!!s,useFog:i.fog,fogExp:s&&s.isFogExp2,flatShading:i.shading===m,sizeAttenuation:i.sizeAttenuation,logarithmicDepthBuffer:t.logarithmicDepthBuffer,skinning:i.skinning,maxBones:f,useVertexTexture:t.floatVertexTextures&&u&&u.skeleton&&u.skeleton.useVertexTexture,morphTargets:i.morphTargets,morphNormals:i.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:n.directional.length,numPointLights:n.point.length,numSpotLights:n.spot.length,numRectAreaLights:n.rectArea.length,numHemiLights:n.hemi.length,numClippingPlanes:c,numClipIntersection:l,shadowMapEnabled:e.shadowMap.enabled&&u.receiveShadow&&n.shadows.length>0,shadowMapType:e.shadowMap.type,toneMapping:e.toneMapping,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:i.premultipliedAlpha,alphaTest:i.alphaTest,doubleSided:i.side===p,flipSided:i.side===d,depthPacking:i.depthPacking!==undefined?i.depthPacking:false};return y};this.getProgramCode=function(e,t){var i=[];if(t.shaderID){i.push(t.shaderID)}else{i.push(e.fragmentShader);i.push(e.vertexShader)}if(e.defines!==undefined){for(var r in e.defines){i.push(r);i.push(e.defines[r])}}for(var a=0;a<n.length;a++){i.push(t[n[a]])}return i.join()};this.acquireProgram=function(t,r,n){var a;for(var o=0,s=i.length;o<s;o++){var c=i[o];if(c.code===n){a=c;++a.usedTimes;break}}if(a===undefined){a=new cs(e,n,t,r);i.push(a)}return a};this.releaseProgram=function(e){if(--e.usedTimes===0){var t=i.indexOf(e);i[t]=i[i.length-1];i.pop();e.destroy()}};this.programs=i}function us(e,t,i){var r={};function n(e){var a=e.target;var c=r[a.id];if(c.index!==null){o(c.index)}s(c.attributes);a.removeEventListener("dispose",n);delete r[a.id];var l=t.get(a);if(l.wireframe){o(l.wireframe)}t.delete(a);var u=t.get(c);if(u.wireframe){o(u.wireframe)}t.delete(c);i.memory.geometries--}function a(e){if(e.isInterleavedBufferAttribute){return t.get(e.data).__webglBuffer}return t.get(e).__webglBuffer}function o(t){var i=a(t);if(i!==undefined){e.deleteBuffer(i);c(t)}}function s(e){for(var t in e){o(e[t])}}function c(e){if(e.isInterleavedBufferAttribute){t.delete(e.data)}else{t.delete(e)}}return{get:function(e){var t=e.geometry;if(r[t.id]!==undefined){return r[t.id]}t.addEventListener("dispose",n);var a;if(t.isBufferGeometry){a=t}else if(t.isGeometry){if(t._bufferGeometry===undefined){t._bufferGeometry=(new yi).setFromObject(e)}a=t._bufferGeometry}r[t.id]=a;i.memory.geometries++;return a}}}function hs(e,t,i){var r=new us(e,t,i);function n(t){var i=r.get(t);if(t.geometry.isGeometry){i.updateFromObject(t)}var n=i.index;var o=i.attributes;if(n!==null){a(n,e.ELEMENT_ARRAY_BUFFER)}for(var s in o){a(o[s],e.ARRAY_BUFFER)}var c=i.morphAttributes;for(var s in c){var l=c[s];for(var u=0,h=l.length;u<h;u++){a(l[u],e.ARRAY_BUFFER)}}return i}function a(e,i){var r=e.isInterleavedBufferAttribute?e.data:e;var n=t.get(r);if(n.__webglBuffer===undefined){o(n,r,i)}else if(n.version!==r.version){s(n,r,i)}}function o(t,i,r){t.__webglBuffer=e.createBuffer();e.bindBuffer(r,t.__webglBuffer);var n=i.dynamic?e.DYNAMIC_DRAW:e.STATIC_DRAW;e.bufferData(r,i.array,n);var a=e.FLOAT;var o=i.array;if(o instanceof Float32Array){a=e.FLOAT}else if(o instanceof Float64Array){console.warn("Unsupported data buffer format: Float64Array")}else if(o instanceof Uint16Array){a=e.UNSIGNED_SHORT}else if(o instanceof Int16Array){a=e.SHORT}else if(o instanceof Uint32Array){a=e.UNSIGNED_INT}else if(o instanceof Int32Array){a=e.INT}else if(o instanceof Int8Array){a=e.BYTE}else if(o instanceof Uint8Array){a=e.UNSIGNED_BYTE}t.bytesPerElement=o.BYTES_PER_ELEMENT;t.type=a;t.version=i.version;i.onUploadCallback()}function s(t,i,r){e.bindBuffer(r,t.__webglBuffer);if(i.dynamic===false){e.bufferData(r,i.array,e.STATIC_DRAW)}else if(i.updateRange.count===-1){e.bufferSubData(r,0,i.array)}else if(i.updateRange.count===0){console.error("SZX3D.WebGLObjects.updateBuffer: dynamic SZX3D.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually.")}else{e.bufferSubData(r,i.updateRange.offset*i.array.BYTES_PER_ELEMENT,i.array.subarray(i.updateRange.offset,i.updateRange.offset+i.updateRange.count));i.updateRange.count=0}t.version=i.version}function c(e){if(e.isInterleavedBufferAttribute){return t.get(e.data).__webglBuffer}return t.get(e).__webglBuffer}function l(e){if(e.isInterleavedBufferAttribute){return t.get(e.data)}return t.get(e)}function u(i){var r=t.get(i);if(r.wireframe!==undefined){return r.wireframe}var n=[];var o=i.index;var s=i.attributes;if(o!==null){var c=o.array;for(var l=0,u=c.length;l<u;l+=3){var h=c[l+0];var f=c[l+1];var d=c[l+2];n.push(h,f,f,d,d,h)}}else{var c=s.position.array;for(var l=0,u=c.length/3-1;l<u;l+=3){var h=l+0;var f=l+1;var d=l+2;n.push(h,f,f,d,d,h)}}var p=new(xt(n)>65535?si:ai)(n,1);a(p,e.ELEMENT_ARRAY_BUFFER);r.wireframe=p;return p}return{getAttributeBuffer:c,getAttributeProperties:l,getWireframeAttribute:u,update:n}}function fs(e,t,i,r,n,a,o){var s=o.memory;var c=typeof WebGL2RenderingContext!=="undefined"&&e instanceof WebGL2RenderingContext;function l(e,t){if(e.width>t||e.height>t){var i=t/Math.max(e.width,e.height);var r=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");r.width=Math.floor(e.width*i);r.height=Math.floor(e.height*i);var n=r.getContext("2d");n.drawImage(e,0,0,e.width,e.height,0,0,r.width,r.height);console.warn("SZX3D.WebGLRenderer: image is too big ("+e.width+"x"+e.height+"). Resized to "+r.width+"x"+r.height,e);return r}return e}function u(e){return _t.isPowerOfTwo(e.width)&&_t.isPowerOfTwo(e.height)}function h(e){if(e instanceof HTMLImageElement||e instanceof HTMLCanvasElement){var t=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");t.width=_t.nearestPowerOfTwo(e.width);t.height=_t.nearestPowerOfTwo(e.height);var i=t.getContext("2d");i.drawImage(e,0,0,t.width,t.height);console.warn("SZX3D.WebGLRenderer: image is not power of two ("+e.width+"x"+e.height+"). Resized to "+t.width+"x"+t.height,e);return t}return e}function f(e){return e.wrapS!==de||e.wrapT!==de||e.minFilter!==me&&e.minFilter!==ye}function d(t){if(t===me||t===ve||t===ge){return e.NEAREST}return e.LINEAR}function p(e){var t=e.target;t.removeEventListener("dispose",p);v(t);s.textures--}function m(e){var t=e.target;t.removeEventListener("dispose",m);g(t);s.textures--}function v(t){var i=r.get(t);if(t.image&&i.__image__webglTextureCube){e.deleteTexture(i.__image__webglTextureCube)}else{if(i.__webglInit===undefined)return;e.deleteTexture(i.__webglTexture)}r.delete(t)}function g(t){var i=r.get(t);var n=r.get(t.texture);if(!t)return;if(n.__webglTexture!==undefined){e.deleteTexture(n.__webglTexture)}if(t.depthTexture){t.depthTexture.dispose()}if(t.isWebGLRenderTargetCube){for(var a=0;a<6;a++){e.deleteFramebuffer(i.__webglFramebuffer[a]);if(i.__webglDepthbuffer)e.deleteRenderbuffer(i.__webglDepthbuffer[a])}}else{e.deleteFramebuffer(i.__webglFramebuffer);if(i.__webglDepthbuffer)e.deleteRenderbuffer(i.__webglDepthbuffer)}r.delete(t.texture);r.delete(t)}function y(t,n){var a=r.get(t);if(t.version>0&&a.__version!==t.version){var o=t.image;if(o===undefined){console.warn("SZX3D.WebGLRenderer: Texture marked for update but image is undefined",t)}else if(o.complete===false){console.warn("SZX3D.WebGLRenderer: Texture marked for update but image is incomplete",t)}else{w(a,t,n);return}}i.activeTexture(e.TEXTURE0+n);i.bindTexture(e.TEXTURE_2D,a.__webglTexture)}function x(t,o){var c=r.get(t);if(t.image.length===6){if(t.version>0&&c.__version!==t.version){if(!c.__image__webglTextureCube){t.addEventListener("dispose",p);c.__image__webglTextureCube=e.createTexture();s.textures++}i.activeTexture(e.TEXTURE0+o);i.bindTexture(e.TEXTURE_CUBE_MAP,c.__image__webglTextureCube);e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,t.flipY);var h=t&&t.isCompressedTexture;var f=t.image[0]&&t.image[0].isDataTexture;var d=[];for(var m=0;m<6;m++){if(!h&&!f){d[m]=l(t.image[m],n.maxCubemapSize)}else{d[m]=f?t.image[m].image:t.image[m]}}var v=d[0],g=u(v),y=a(t.format),x=a(t.type);b(e.TEXTURE_CUBE_MAP,t,g);for(var m=0;m<6;m++){if(!h){if(f){i.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+m,0,y,d[m].width,d[m].height,0,y,x,d[m].data)}else{i.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+m,0,y,y,x,d[m])}}else{var _,w=d[m].mipmaps;for(var M=0,S=w.length;M<S;M++){_=w[M];if(t.format!==Ue&&t.format!==De){if(i.getCompressedTextureFormats().indexOf(y)>-1){i.compressedTexImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+m,M,y,_.width,_.height,0,_.data)}else{console.warn("SZX3D.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()")}}else{i.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+m,M,y,_.width,_.height,0,y,x,_.data)}}}}if(t.generateMipmaps&&g){e.generateMipmap(e.TEXTURE_CUBE_MAP)}c.__version=t.version;if(t.onUpdate)t.onUpdate(t)}else{i.activeTexture(e.TEXTURE0+o);i.bindTexture(e.TEXTURE_CUBE_MAP,c.__image__webglTextureCube)}}}function _(t,n){i.activeTexture(e.TEXTURE0+n);i.bindTexture(e.TEXTURE_CUBE_MAP,r.get(t).__webglTexture)}function b(i,o,s){var c;if(s){e.texParameteri(i,e.TEXTURE_WRAP_S,a(o.wrapS));e.texParameteri(i,e.TEXTURE_WRAP_T,a(o.wrapT));e.texParameteri(i,e.TEXTURE_MAG_FILTER,a(o.magFilter));e.texParameteri(i,e.TEXTURE_MIN_FILTER,a(o.minFilter))}else{e.texParameteri(i,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE);e.texParameteri(i,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE);if(o.wrapS!==de||o.wrapT!==de){console.warn("SZX3D.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to SZX3D.ClampToEdgeWrapping.",o);
}e.texParameteri(i,e.TEXTURE_MAG_FILTER,d(o.magFilter));e.texParameteri(i,e.TEXTURE_MIN_FILTER,d(o.minFilter));if(o.minFilter!==me&&o.minFilter!==ye){console.warn("SZX3D.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to SZX3D.NearestFilter or SZX3D.LinearFilter.",o)}}c=t.get("EXT_texture_filter_anisotropic");if(c){if(o.type===Le&&t.get("OES_texture_float_linear")===null)return;if(o.type===Ee&&t.get("OES_texture_half_float_linear")===null)return;if(o.anisotropy>1||r.get(o).__currentAnisotropy){e.texParameterf(i,c.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,n.getMaxAnisotropy()));r.get(o).__currentAnisotropy=o.anisotropy}}}function w(t,r,o){if(t.__webglInit===undefined){t.__webglInit=true;r.addEventListener("dispose",p);t.__webglTexture=e.createTexture();s.textures++}i.activeTexture(e.TEXTURE0+o);i.bindTexture(e.TEXTURE_2D,t.__webglTexture);e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,r.flipY);e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.premultiplyAlpha);e.pixelStorei(e.UNPACK_ALIGNMENT,r.unpackAlignment);var d=l(r.image,n.maxTextureSize);if(f(r)&&u(d)===false){d=h(d)}var m=u(d),v=a(r.format),g=a(r.type);b(e.TEXTURE_2D,r,m);var y,x=r.mipmaps;if(r.isDepthTexture){var _=e.DEPTH_COMPONENT;if(r.type===Le){if(!c)throw new Error("Float Depth Texture only supported in WebGL2.0");_=e.DEPTH_COMPONENT32F}else if(c){_=e.DEPTH_COMPONENT16}if(r.format===Fe&&_===e.DEPTH_COMPONENT){if(r.type!==Se&&r.type!==Ae){console.warn("SZX3D.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture.");r.type=Se;g=a(r.type)}}if(r.format===ke){_=e.DEPTH_STENCIL;if(r.type!==Re){console.warn("SZX3D.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture.");r.type=Re;g=a(r.type)}}i.texImage2D(e.TEXTURE_2D,0,_,d.width,d.height,0,v,g,null)}else if(r.isDataTexture){if(x.length>0&&m){for(var w=0,M=x.length;w<M;w++){y=x[w];i.texImage2D(e.TEXTURE_2D,w,v,y.width,y.height,0,v,g,y.data)}r.generateMipmaps=false}else{i.texImage2D(e.TEXTURE_2D,0,v,d.width,d.height,0,v,g,d.data)}}else if(r.isCompressedTexture){for(var w=0,M=x.length;w<M;w++){y=x[w];if(r.format!==Ue&&r.format!==De){if(i.getCompressedTextureFormats().indexOf(v)>-1){i.compressedTexImage2D(e.TEXTURE_2D,w,v,y.width,y.height,0,y.data)}else{console.warn("SZX3D.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()")}}else{i.texImage2D(e.TEXTURE_2D,w,v,y.width,y.height,0,v,g,y.data)}}}else{if(x.length>0&&m){for(var w=0,M=x.length;w<M;w++){y=x[w];i.texImage2D(e.TEXTURE_2D,w,v,v,g,y)}r.generateMipmaps=false}else{i.texImage2D(e.TEXTURE_2D,0,v,v,g,d)}}if(r.generateMipmaps&&m)e.generateMipmap(e.TEXTURE_2D);t.__version=r.version;if(r.onUpdate)r.onUpdate(r)}function M(t,n,o,s){var c=a(n.texture.format);var l=a(n.texture.type);i.texImage2D(s,0,c,n.width,n.height,0,c,l,null);e.bindFramebuffer(e.FRAMEBUFFER,t);e.framebufferTexture2D(e.FRAMEBUFFER,o,s,r.get(n.texture).__webglTexture,0);e.bindFramebuffer(e.FRAMEBUFFER,null)}function S(t,i){e.bindRenderbuffer(e.RENDERBUFFER,t);if(i.depthBuffer&&!i.stencilBuffer){e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,i.width,i.height);e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,t)}else if(i.depthBuffer&&i.stencilBuffer){e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,i.width,i.height);e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,t)}else{e.renderbufferStorage(e.RENDERBUFFER,e.RGBA4,i.width,i.height)}e.bindRenderbuffer(e.RENDERBUFFER,null)}function T(t,i){var n=i&&i.isWebGLRenderTargetCube;if(n)throw new Error("Depth Texture with cube render targets is not supported!");e.bindFramebuffer(e.FRAMEBUFFER,t);if(!(i.depthTexture&&i.depthTexture.isDepthTexture)){throw new Error("renderTarget.depthTexture must be an instance of SZX3D.DepthTexture")}if(!r.get(i.depthTexture).__webglTexture||i.depthTexture.image.width!==i.width||i.depthTexture.image.height!==i.height){i.depthTexture.image.width=i.width;i.depthTexture.image.height=i.height;i.depthTexture.needsUpdate=true}y(i.depthTexture,0);var a=r.get(i.depthTexture).__webglTexture;if(i.depthTexture.format===Fe){e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,a,0)}else if(i.depthTexture.format===ke){e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.TEXTURE_2D,a,0)}else{throw new Error("Unknown depthTexture format")}}function A(t){var i=r.get(t);var n=t.isWebGLRenderTargetCube===true;if(t.depthTexture){if(n)throw new Error("target.depthTexture not supported in Cube render targets");T(i.__webglFramebuffer,t)}else{if(n){i.__webglDepthbuffer=[];for(var a=0;a<6;a++){e.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer[a]);i.__webglDepthbuffer[a]=e.createRenderbuffer();S(i.__webglDepthbuffer[a],t)}}else{e.bindFramebuffer(e.FRAMEBUFFER,i.__webglFramebuffer);i.__webglDepthbuffer=e.createRenderbuffer();S(i.__webglDepthbuffer,t)}}e.bindFramebuffer(e.FRAMEBUFFER,null)}function L(t){var n=r.get(t);var a=r.get(t.texture);t.addEventListener("dispose",m);a.__webglTexture=e.createTexture();s.textures++;var o=t.isWebGLRenderTargetCube===true;var c=u(t);if(o){n.__webglFramebuffer=[];for(var l=0;l<6;l++){n.__webglFramebuffer[l]=e.createFramebuffer()}}else{n.__webglFramebuffer=e.createFramebuffer()}if(o){i.bindTexture(e.TEXTURE_CUBE_MAP,a.__webglTexture);b(e.TEXTURE_CUBE_MAP,t.texture,c);for(var l=0;l<6;l++){M(n.__webglFramebuffer[l],t,e.COLOR_ATTACHMENT0,e.TEXTURE_CUBE_MAP_POSITIVE_X+l)}if(t.texture.generateMipmaps&&c)e.generateMipmap(e.TEXTURE_CUBE_MAP);i.bindTexture(e.TEXTURE_CUBE_MAP,null)}else{i.bindTexture(e.TEXTURE_2D,a.__webglTexture);b(e.TEXTURE_2D,t.texture,c);M(n.__webglFramebuffer,t,e.COLOR_ATTACHMENT0,e.TEXTURE_2D);if(t.texture.generateMipmaps&&c)e.generateMipmap(e.TEXTURE_2D);i.bindTexture(e.TEXTURE_2D,null)}if(t.depthBuffer){A(t)}}function E(t){var n=t.texture;if(n.generateMipmaps&&u(t)&&n.minFilter!==me&&n.minFilter!==ye){var a=t&&t.isWebGLRenderTargetCube?e.TEXTURE_CUBE_MAP:e.TEXTURE_2D;var o=r.get(n).__webglTexture;i.bindTexture(a,o);e.generateMipmap(a);i.bindTexture(a,null)}}this.setTexture2D=y;this.setTextureCube=x;this.setTextureCubeDynamic=_;this.setupRenderTarget=L;this.updateRenderTargetMipmap=E}function ds(){var e={};return{get:function(t){var i=t.uuid;var r=e[i];if(r===undefined){r={};e[i]=r}return r},delete:function(t){delete e[t.uuid]},clear:function(){e={}}}}function ps(e,t,i){function o(){var t=false;var i=new St;var r=null;var n=new St;return{setMask:function(i){if(r!==i&&!t){e.colorMask(i,i,i,i);r=i}},setLocked:function(e){t=e},setClear:function(t,r,a,o,s){if(s===true){t*=o;r*=o;a*=o}i.set(t,r,a,o);if(n.equals(i)===false){e.clearColor(t,r,a,o);n.copy(i)}},reset:function(){t=false;r=null;n.set(0,0,0,1)}}}function s(){var t=false;var i=null;var r=null;var n=null;return{setTest:function(t){if(t){oe(e.DEPTH_TEST)}else{se(e.DEPTH_TEST)}},setMask:function(r){if(i!==r&&!t){e.depthMask(r);i=r}},setFunc:function(t){if(r!==t){if(t){switch(t){case V:e.depthFunc(e.NEVER);break;case j:e.depthFunc(e.ALWAYS);break;case X:e.depthFunc(e.LESS);break;case W:e.depthFunc(e.LEQUAL);break;case H:e.depthFunc(e.EQUAL);break;case Z:e.depthFunc(e.GEQUAL);break;case Y:e.depthFunc(e.GREATER);break;case q:e.depthFunc(e.NOTEQUAL);break;default:e.depthFunc(e.LEQUAL)}}else{e.depthFunc(e.LEQUAL)}r=t}},setLocked:function(e){t=e},setClear:function(t){if(n!==t){e.clearDepth(t);n=t}},reset:function(){t=false;i=null;r=null;n=null}}}function c(){var t=false;var i=null;var r=null;var n=null;var a=null;var o=null;var s=null;var c=null;var l=null;return{setTest:function(t){if(t){oe(e.STENCIL_TEST)}else{se(e.STENCIL_TEST)}},setMask:function(r){if(i!==r&&!t){e.stencilMask(r);i=r}},setFunc:function(t,i,o){if(r!==t||n!==i||a!==o){e.stencilFunc(t,i,o);r=t;n=i;a=o}},setOp:function(t,i,r){if(o!==t||s!==i||c!==r){e.stencilOp(t,i,r);o=t;s=i;c=r}},setLocked:function(e){t=e},setClear:function(t){if(l!==t){e.clearStencil(t);l=t}},reset:function(){t=false;i=null;r=null;n=null;a=null;o=null;s=null;c=null;l=null}}}var l=new o;var u=new s;var h=new c;var f=e.getParameter(e.MAX_VERTEX_ATTRIBS);var d=new Uint8Array(f);var p=new Uint8Array(f);var m=new Uint8Array(f);var v={};var g=null;var y=null;var x=null;var A=null;var L=null;var E=null;var P=null;var C=null;var I=false;var R=null;var N=null;var D=null;var U=null;var O=null;var z=null;var B=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);var F=parseFloat(/^WebGL\ ([0-9])/.exec(e.getParameter(e.VERSION))[1]);var k=parseFloat(F)>=1;var G=null;var J={};var K=new St;var Q=new St;function $(t,i,r){var n=new Uint8Array(4);var a=e.createTexture();e.bindTexture(t,a);e.texParameteri(t,e.TEXTURE_MIN_FILTER,e.NEAREST);e.texParameteri(t,e.TEXTURE_MAG_FILTER,e.NEAREST);for(var o=0;o<r;o++){e.texImage2D(i+o,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,n)}return a}var ee={};ee[e.TEXTURE_2D]=$(e.TEXTURE_2D,e.TEXTURE_2D,1);ee[e.TEXTURE_CUBE_MAP]=$(e.TEXTURE_CUBE_MAP,e.TEXTURE_CUBE_MAP_POSITIVE_X,6);function te(){l.setClear(0,0,0,1);u.setClear(1);h.setClear(0);oe(e.DEPTH_TEST);de(W);ye(false);xe(n);oe(e.CULL_FACE);oe(e.BLEND);le(b)}function ie(){for(var e=0,t=d.length;e<t;e++){d[e]=0}}function re(i){d[i]=1;if(p[i]===0){e.enableVertexAttribArray(i);p[i]=1}if(m[i]!==0){var r=t.get("ANGLE_instanced_arrays");r.vertexAttribDivisorANGLE(i,0);m[i]=0}}function ne(t,i,r){d[t]=1;if(p[t]===0){e.enableVertexAttribArray(t);p[t]=1}if(m[t]!==i){r.vertexAttribDivisorANGLE(t,i);m[t]=i}}function ae(){for(var t=0,i=p.length;t!==i;++t){if(p[t]!==d[t]){e.disableVertexAttribArray(t);p[t]=0}}}function oe(t){if(v[t]!==true){e.enable(t);v[t]=true}}function se(t){if(v[t]!==false){e.disable(t);v[t]=false}}function ce(){if(g===null){g=[];if(t.get("WEBGL_compressed_texture_pvrtc")||t.get("WEBGL_compressed_texture_s3tc")||t.get("WEBGL_compressed_texture_etc1")){var i=e.getParameter(e.COMPRESSED_TEXTURE_FORMATS);for(var r=0;r<i.length;r++){g.push(i[r])}}}return g}function le(t,r,n,a,o,s,c,l){if(t!==_){oe(e.BLEND)}else{se(e.BLEND)}if(t!==y||l!==I){if(t===w){if(l){e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD);e.blendFuncSeparate(e.ONE,e.ONE,e.ONE,e.ONE)}else{e.blendEquation(e.FUNC_ADD);e.blendFunc(e.SRC_ALPHA,e.ONE)}}else if(t===M){if(l){e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD);e.blendFuncSeparate(e.ZERO,e.ZERO,e.ONE_MINUS_SRC_COLOR,e.ONE_MINUS_SRC_ALPHA)}else{e.blendEquation(e.FUNC_ADD);e.blendFunc(e.ZERO,e.ONE_MINUS_SRC_COLOR)}}else if(t===S){if(l){e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD);e.blendFuncSeparate(e.ZERO,e.SRC_COLOR,e.ZERO,e.SRC_ALPHA)}else{e.blendEquation(e.FUNC_ADD);e.blendFunc(e.ZERO,e.SRC_COLOR)}}else{if(l){e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD);e.blendFuncSeparate(e.ONE,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA)}else{e.blendEquationSeparate(e.FUNC_ADD,e.FUNC_ADD);e.blendFuncSeparate(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA)}}y=t;I=l}if(t===T){o=o||r;s=s||n;c=c||a;if(r!==x||o!==E){e.blendEquationSeparate(i(r),i(o));x=r;E=o}if(n!==A||a!==L||s!==P||c!==C){e.blendFuncSeparate(i(n),i(a),i(s),i(c));A=n;L=a;P=s;C=c}}else{x=null;A=null;L=null;E=null;P=null;C=null}}function ue(e){l.setMask(e)}function he(e){u.setTest(e)}function fe(e){u.setMask(e)}function de(e){u.setFunc(e)}function pe(e){h.setTest(e)}function me(e){h.setMask(e)}function ve(e,t,i){h.setFunc(e,t,i)}function ge(e,t,i){h.setOp(e,t,i)}function ye(t){if(R!==t){if(t){e.frontFace(e.CW)}else{e.frontFace(e.CCW)}R=t}}function xe(t){if(t!==r){oe(e.CULL_FACE);if(t!==N){if(t===n){e.cullFace(e.BACK)}else if(t===a){e.cullFace(e.FRONT)}else{e.cullFace(e.FRONT_AND_BACK)}}}else{se(e.CULL_FACE)}N=t}function _e(t){if(t!==D){if(k)e.lineWidth(t);D=t}}function be(t,i,r){if(t){oe(e.POLYGON_OFFSET_FILL);if(U!==i||O!==r){e.polygonOffset(i,r);U=i;O=r}}else{se(e.POLYGON_OFFSET_FILL)}}function we(){return z}function Me(t){z=t;if(t){oe(e.SCISSOR_TEST)}else{se(e.SCISSOR_TEST)}}function Se(t){if(t===undefined)t=e.TEXTURE0+B-1;if(G!==t){e.activeTexture(t);G=t}}function Te(t,i){if(G===null){Se()}var r=J[G];if(r===undefined){r={type:undefined,texture:undefined};J[G]=r}if(r.type!==t||r.texture!==i){e.bindTexture(t,i||ee[t]);r.type=t;r.texture=i}}function Ae(){try{e.compressedTexImage2D.apply(e,arguments)}catch(e){console.error(e)}}function Le(){try{e.texImage2D.apply(e,arguments)}catch(e){console.error(e)}}function Ee(t){if(K.equals(t)===false){e.scissor(t.x,t.y,t.z,t.w);K.copy(t)}}function Pe(t){if(Q.equals(t)===false){e.viewport(t.x,t.y,t.z,t.w);Q.copy(t)}}function Ce(){for(var t=0;t<p.length;t++){if(p[t]===1){e.disableVertexAttribArray(t);p[t]=0}}v={};g=null;G=null;J={};y=null;R=null;N=null;l.reset();u.reset();h.reset()}return{buffers:{color:l,depth:u,stencil:h},init:te,initAttributes:ie,enableAttribute:re,enableAttributeAndDivisor:ne,disableUnusedAttributes:ae,enable:oe,disable:se,getCompressedTextureFormats:ce,setBlending:le,setColorWrite:ue,setDepthTest:he,setDepthWrite:fe,setDepthFunc:de,setStencilTest:pe,setStencilWrite:me,setStencilFunc:ve,setStencilOp:ge,setFlipSided:ye,setCullFace:xe,setLineWidth:_e,setPolygonOffset:be,getScissorTest:we,setScissorTest:Me,activeTexture:Se,bindTexture:Te,compressedTexImage2D:Ae,texImage2D:Le,scissor:Ee,viewport:Pe,reset:Ce}}function ms(e,t,i){var r;function n(){if(r!==undefined)return r;var i=t.get("EXT_texture_filter_anisotropic");if(i!==null){r=e.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else{r=0}return r}function a(t){if(t==="highp"){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.HIGH_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision>0){return"highp"}t="mediump"}if(t==="mediump"){if(e.getShaderPrecisionFormat(e.VERTEX_SHADER,e.MEDIUM_FLOAT).precision>0&&e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.MEDIUM_FLOAT).precision>0){return"mediump"}}return"lowp"}var o=i.precision!==undefined?i.precision:"highp";var s=a(o);if(s!==o){console.warn("SZX3D.WebGLRenderer:",o,"not supported, using",s,"instead.");o=s}var c=i.logarithmicDepthBuffer===true&&!!t.get("EXT_frag_depth");var l=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);var u=e.getParameter(e.MAX_VERTEX_TEXTURE_IMAGE_UNITS);var h=e.getParameter(e.MAX_TEXTURE_SIZE);var f=e.getParameter(e.MAX_CUBE_MAP_TEXTURE_SIZE);var d=e.getParameter(e.MAX_VERTEX_ATTRIBS);var p=e.getParameter(e.MAX_VERTEX_UNIFORM_VECTORS);var m=e.getParameter(e.MAX_VARYING_VECTORS);var v=e.getParameter(e.MAX_FRAGMENT_UNIFORM_VECTORS);var g=u>0;var y=!!t.get("OES_texture_float");var x=g&&y;return{getMaxAnisotropy:n,getMaxPrecision:a,precision:o,logarithmicDepthBuffer:c,maxTextures:l,maxVertexTextures:u,maxTextureSize:h,maxCubemapSize:f,maxAttributes:d,maxVertexUniforms:p,maxVaryings:m,maxFragmentUniforms:v,vertexTextures:g,floatFragmentTextures:y,floatVertexTextures:x}}function vs(e){var t={};return{get:function(i){if(t[i]!==undefined){return t[i]}var r;switch(i){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case"WEBGL_compressed_texture_etc1":r=e.getExtension("WEBGL_compressed_texture_etc1");break;default:r=e.getExtension(i)}if(r===null){console.warn("SZX3D.WebGLRenderer: "+i+" extension not supported.")}t[i]=r;return r}}}function gs(){var e=this,t=null,i=0,r=false,n=false,a=new Ut,o=new Et,s={value:null,needsUpdate:false};this.uniform=s;this.numPlanes=0;this.numIntersection=0;this.init=function(e,n,a){var o=e.length!==0||n||i!==0||r;r=n;t=l(e,a,0);i=e.length;return o};this.beginShadows=function(){n=true;l(null)};this.endShadows=function(){n=false;c()};this.setState=function(e,a,o,u,h,f){if(!r||e===null||e.length===0||n&&!o){if(n){l(null)}else{c()}}else{var d=n?0:i,p=d*4,m=h.clippingState||null;s.value=m;m=l(e,u,p,f);for(var v=0;v!==p;++v){m[v]=t[v]}h.clippingState=m;this.numIntersection=a?this.numPlanes:0;this.numPlanes+=d}};function c(){if(s.value!==t){s.value=t;s.needsUpdate=i>0}e.numPlanes=i;e.numIntersection=0}function l(t,i,r,n){var c=t!==null?t.length:0,l=null;if(c!==0){l=s.value;if(n!==true||l===null){var u=r+c*4,h=i.matrixWorldInverse;o.getNormalMatrix(h);if(l===null||l.length<u){l=new Float32Array(u)}for(var f=0,d=r;f!==c;++f,d+=4){a.copy(t[f]).applyMatrix4(h,o);a.normal.toArray(l,d);l[d+3]=a.constant}}s.value=l;s.needsUpdate=true}e.numPlanes=c;return l}}function ys(e){console.log("SZX3D.WebGLRenderer",t);e=e||{};var i=e.canvas!==undefined?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),r=e.context!==undefined?e.context:null,n=e.alpha!==undefined?e.alpha:false,a=e.depth!==undefined?e.depth:true,o=e.stencil!==undefined?e.stencil:true,c=e.antialias!==undefined?e.antialias:false,l=e.premultipliedAlpha!==undefined?e.premultipliedAlpha:true,u=e.preserveDrawingBuffer!==undefined?e.preserveDrawingBuffer:false;var h=[];var f=[];var v=-1;var y=[];var x=-1;var b=new Float32Array(8);var w=[];var M=[];this.domElement=i;this.context=null;this.autoClear=true;this.autoClearColor=true;this.autoClearDepth=true;this.autoClearStencil=true;this.sortObjects=true;this.clippingPlanes=[];this.localClippingEnabled=false;this.gammaFactor=2;this.gammaInput=false;this.gammaOutput=false;this.physicallyCorrectLights=false;this.toneMapping=ee;this.toneMappingExposure=1;this.toneMappingWhitePoint=1;this.maxMorphTargets=8;this.maxMorphNormals=4;var S=this,T=null,V=null,j=null,X=-1,W="",H=null,Z=new St,Y=null,q=new St,J=0,K=new bt(0),Q=0,$=i.width,te=i.height,ie=1,re=new St(0,0,$,te),ne=false,ae=new St(0,0,$,te),oe=new Ot,se=new gs,ce=false,le=false,ue=new Nt,he=new Lt,Be=new At,Je=new Lt,Ke=new Lt,Qe={hash:"",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],shadows:[]},$e={calls:0,vertices:0,faces:0,points:0};this.info={render:$e,memory:{geometries:0,textures:0},programs:null};var et;try{var tt={alpha:n,depth:a,stencil:o,antialias:c,premultipliedAlpha:l,preserveDrawingBuffer:u};et=r||i.getContext("webgl",tt)||i.getContext("experimental-webgl",tt);if(et===null){if(i.getContext("webgl")!==null){throw"Error creating WebGL context with your selected attributes."}else{throw"Error creating WebGL context."}}if(et.getShaderPrecisionFormat===undefined){et.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}}}i.addEventListener("webglcontextlost",Pt,false)}catch(e){console.error("SZX3D.WebGLRenderer: "+e)}var it=new vs(et);it.get("WEBGL_depth_texture");it.get("OES_texture_float");it.get("OES_texture_float_linear");it.get("OES_texture_half_float");it.get("OES_texture_half_float_linear");it.get("OES_standard_derivatives");it.get("ANGLE_instanced_arrays");if(it.get("OES_element_index_uint")){yi.MaxIndex=4294967296}var rt=new ms(et,it,e);var nt=new ps(et,it,li);var ct=new ds;var lt=new fs(et,it,nt,ct,rt,li,this.info);var ut=new hs(et,ct,this.info);var ht=new ls(this,rt);var ft=new Zo;this.info.programs=ht.programs;var dt=new Ho(et,it,$e);var pt=new Wo(et,it,$e);var mt,vt;var gt,yt;function xt(){return V===null?ie:1}function _t(){nt.init();nt.scissor(Z.copy(re).multiplyScalar(ie));nt.viewport(q.copy(ae).multiplyScalar(ie));nt.buffers.color.setClear(K.r,K.g,K.b,Q,l)}function wt(){T=null;H=null;W="";X=-1;nt.reset()}_t();this.context=et;this.capabilities=rt;this.extensions=it;this.properties=ct;this.state=nt;var Mt=new Fo(this,Qe,ut,rt);this.shadowMap=Mt;var Tt=new No(this,w);var Et=new Ro(this,M);this.getContext=function(){return et};this.getContextAttributes=function(){return et.getContextAttributes()};this.forceContextLoss=function(){it.get("WEBGL_lose_context").loseContext()};this.getMaxAnisotropy=function(){return rt.getMaxAnisotropy()};this.getPrecision=function(){return rt.precision};this.getPixelRatio=function(){return ie};this.setPixelRatio=function(e){if(e===undefined)return;ie=e;this.setSize(ae.z,ae.w,false)};this.getSize=function(){return{width:$,height:te}};this.setSize=function(e,t,r){$=e;te=t;i.width=e*ie;i.height=t*ie;if(r!==false){i.style.width=e+"px";i.style.height=t+"px"}this.setViewport(0,0,e,t)};this.setViewport=function(e,t,i,r){nt.viewport(ae.set(e,t,i,r))};this.setScissor=function(e,t,i,r){nt.scissor(re.set(e,t,i,r))};this.setScissorTest=function(e){nt.setScissorTest(ne=e)};this.getClearColor=function(){return K};this.setClearColor=function(e,t){K.set(e);Q=t!==undefined?t:1;nt.buffers.color.setClear(K.r,K.g,K.b,Q,l)};this.getClearAlpha=function(){return Q};this.setClearAlpha=function(e){Q=e;nt.buffers.color.setClear(K.r,K.g,K.b,Q,l)};this.clear=function(e,t,i){var r=0;if(e===undefined||e)r|=et.COLOR_BUFFER_BIT;if(t===undefined||t)r|=et.DEPTH_BUFFER_BIT;if(i===undefined||i)r|=et.STENCIL_BUFFER_BIT;et.clear(r)};this.clearColor=function(){this.clear(true,false,false)};this.clearDepth=function(){this.clear(false,true,false)};this.clearStencil=function(){this.clear(false,false,true)};this.clearTarget=function(e,t,i,r){this.setRenderTarget(e);this.clear(t,i,r)};this.resetGLState=wt;this.dispose=function(){y=[];x=-1;f=[];v=-1;i.removeEventListener("webglcontextlost",Pt,false)};function Pt(e){e.preventDefault();wt();_t();ct.clear()}function Ct(e){var t=e.target;t.removeEventListener("dispose",Ct);It(t)}function It(e){Rt(e);ct.delete(e)}function Rt(e){var t=ct.get(e).program;e.program=undefined;if(t!==undefined){ht.releaseProgram(t)}}this.renderBufferImmediate=function(e,t,i){nt.initAttributes();var r=ct.get(e);if(e.hasPositions&&!r.position)r.position=et.createBuffer();if(e.hasNormals&&!r.normal)r.normal=et.createBuffer();if(e.hasUvs&&!r.uv)r.uv=et.createBuffer();if(e.hasColors&&!r.color)r.color=et.createBuffer();var n=t.getAttributes();if(e.hasPositions){et.bindBuffer(et.ARRAY_BUFFER,r.position);et.bufferData(et.ARRAY_BUFFER,e.positionArray,et.DYNAMIC_DRAW);nt.enableAttribute(n.position);et.vertexAttribPointer(n.position,3,et.FLOAT,false,0,0)}if(e.hasNormals){et.bindBuffer(et.ARRAY_BUFFER,r.normal);if(!i.isMeshPhongMaterial&&!i.isMeshStandardMaterial&&!i.isMeshNormalMaterial&&i.shading===m){for(var a=0,o=e.count*3;a<o;a+=9){var s=e.normalArray;var c=(s[a+0]+s[a+3]+s[a+6])/3;var l=(s[a+1]+s[a+4]+s[a+7])/3;var u=(s[a+2]+s[a+5]+s[a+8])/3;s[a+0]=c;s[a+1]=l;s[a+2]=u;s[a+3]=c;s[a+4]=l;s[a+5]=u;s[a+6]=c;s[a+7]=l;s[a+8]=u}}et.bufferData(et.ARRAY_BUFFER,e.normalArray,et.DYNAMIC_DRAW);nt.enableAttribute(n.normal);et.vertexAttribPointer(n.normal,3,et.FLOAT,false,0,0)}if(e.hasUvs&&i.map){et.bindBuffer(et.ARRAY_BUFFER,r.uv);et.bufferData(et.ARRAY_BUFFER,e.uvArray,et.DYNAMIC_DRAW);nt.enableAttribute(n.uv);et.vertexAttribPointer(n.uv,2,et.FLOAT,false,0,0)}if(e.hasColors&&i.vertexColors!==g){et.bindBuffer(et.ARRAY_BUFFER,r.color);et.bufferData(et.ARRAY_BUFFER,e.colorArray,et.DYNAMIC_DRAW);nt.enableAttribute(n.color);et.vertexAttribPointer(n.color,3,et.FLOAT,false,0,0)}nt.disableUnusedAttributes();et.drawArrays(et.TRIANGLES,0,e.count);e.count=0};this.renderBufferDirect=function(e,t,i,r,n,a){Ht(r);var o=Zt(e,t,r,n);var s=false;var c=i.id+"_"+o.id+"_"+r.wireframe;if(c!==W){W=c;s=true}var l=n.morphTargetInfluences;if(l!==undefined){var u=[];for(var h=0,f=l.length;h<f;h++){var d=l[h];u.push([d,h])}u.sort(Ut);if(u.length>8){u.length=8}var p=i.morphAttributes;for(var h=0,f=u.length;h<f;h++){var d=u[h];b[h]=d[0];if(d[0]!==0){var m=d[1];if(r.morphTargets===true&&p.position)i.addAttribute("morphTarget"+h,p.position[m]);if(r.morphNormals===true&&p.normal)i.addAttribute("morphNormal"+h,p.normal[m])}else{if(r.morphTargets===true)i.removeAttribute("morphTarget"+h);if(r.morphNormals===true)i.removeAttribute("morphNormal"+h)}}for(var h=u.length,v=b.length;h<v;h++){b[h]=0}o.getUniforms().setValue(et,"morphTargetInfluences",b);s=true}var m=i.index;var g=i.attributes.position;var y=1;if(r.wireframe===true){m=ut.getWireframeAttribute(i);y=2}var x;if(m!==null){x=pt;x.setIndex(m)}else{x=dt}if(s){Dt(r,o,i);if(m!==null){et.bindBuffer(et.ELEMENT_ARRAY_BUFFER,ut.getAttributeBuffer(m))}}var _=0;if(m!==null){_=m.count}else if(g!==undefined){_=g.count}var w=i.drawRange.start*y;var M=i.drawRange.count*y;var S=a!==null?a.start*y:0;var T=a!==null?a.count*y:Infinity;var A=Math.max(w,S);var L=Math.min(_,w+M,S+T)-1;var E=Math.max(0,L-A+1);if(E===0)return;if(n.isMesh){if(r.wireframe===true){nt.setLineWidth(r.wireframeLinewidth*xt());x.setMode(et.LINES)}else{switch(n.drawMode){case at:x.setMode(et.TRIANGLES);break;case ot:x.setMode(et.TRIANGLE_STRIP);break;case st:x.setMode(et.TRIANGLE_FAN);break}}}else if(n.isLine){var P=r.linewidth;if(P===undefined)P=1;nt.setLineWidth(P*xt());if(n.isLineSegments){x.setMode(et.LINES)}else{x.setMode(et.LINE_STRIP)}}else if(n.isPoints){x.setMode(et.POINTS)}if(i&&i.isInstancedBufferGeometry){if(i.maxInstancedCount>0){x.renderInstances(i,A,E)}}else{x.render(A,E)}};function Dt(e,t,i,r){var n;if(i&&i.isInstancedBufferGeometry){n=it.get("ANGLE_instanced_arrays");if(n===null){console.error("SZX3D.WebGLRenderer.setupVertexAttributes: using SZX3D.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}}if(r===undefined)r=0;nt.initAttributes();var a=i.attributes;var o=t.getAttributes();var s=e.defaultAttributeValues;for(var c in o){var l=o[c];if(l>=0){var u=a[c];if(u!==undefined){var h=u.normalized;var f=u.itemSize;var d=ut.getAttributeProperties(u);var p=d.__webglBuffer;var m=d.type;var v=d.bytesPerElement;if(u.isInterleavedBufferAttribute){var g=u.data;var y=g.stride;var x=u.offset;if(g&&g.isInstancedInterleavedBuffer){nt.enableAttributeAndDivisor(l,g.meshPerAttribute,n);if(i.maxInstancedCount===undefined){i.maxInstancedCount=g.meshPerAttribute*g.count}}else{nt.enableAttribute(l)}et.bindBuffer(et.ARRAY_BUFFER,p);et.vertexAttribPointer(l,f,m,h,y*v,(r*y+x)*v)}else{if(u.isInstancedBufferAttribute){nt.enableAttributeAndDivisor(l,u.meshPerAttribute,n);if(i.maxInstancedCount===undefined){i.maxInstancedCount=u.meshPerAttribute*u.count}}else{nt.enableAttribute(l)}et.bindBuffer(et.ARRAY_BUFFER,p);et.vertexAttribPointer(l,f,m,h,0,r*f*v)}}else if(s!==undefined){var _=s[c];if(_!==undefined){switch(_.length){case 2:et.vertexAttrib2fv(l,_);break;case 3:et.vertexAttrib3fv(l,_);break;case 4:et.vertexAttrib4fv(l,_);break;default:et.vertexAttrib1fv(l,_)}}}}}nt.disableUnusedAttributes()}function Ut(e,t){return Math.abs(t[0])-Math.abs(e[0])}function zt(e,t){if(e.object.renderOrder!==t.object.renderOrder){return e.object.renderOrder-t.object.renderOrder}else if(e.material.program&&t.material.program&&e.material.program!==t.material.program){return e.material.program.id-t.material.program.id}else if(e.material.id!==t.material.id){return e.material.id-t.material.id}else if(e.z!==t.z){return e.z-t.z}else{return e.id-t.id}}function Bt(e,t){if(e.object.renderOrder!==t.object.renderOrder){return e.object.renderOrder-t.object.renderOrder}if(e.z!==t.z){return t.z-e.z}else{return e.id-t.id}}this.render=function(e,t,i,r){if(t!==undefined&&t.isCamera!==true){console.error("SZX3D.WebGLRenderer.render: camera is not an instance of SZX3D.Camera.");return}W="";X=-1;H=null;if(e.autoUpdate===true)e.updateMatrixWorld();if(t.parent===null)t.updateMatrixWorld();t.matrixWorldInverse.getInverse(t.matrixWorld);he.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse);oe.setFromMatrix(he);h.length=0;v=-1;x=-1;w.length=0;M.length=0;le=this.localClippingEnabled;ce=se.init(this.clippingPlanes,le,t);jt(e,t);f.length=v+1;y.length=x+1;if(S.sortObjects===true){f.sort(zt);y.sort(Bt)}if(ce)se.beginShadows();oi(h);Mt.render(e,t);si(h,t);if(ce)se.endShadows();$e.calls=0;$e.vertices=0;$e.faces=0;$e.points=0;if(i===undefined){i=null}this.setRenderTarget(i);var n=e.background;if(n===null){nt.buffers.color.setClear(K.r,K.g,K.b,Q,l)}else if(n&&n.isColor){nt.buffers.color.setClear(n.r,n.g,n.b,1,l);r=true}if(this.autoClear||r){this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil)}if(n&&n.isCubeTexture){if(gt===undefined){gt=new jo;yt=new Go(new ji(5,5,5),new zo({uniforms:Wa.cube.uniforms,vertexShader:Wa.cube.vertexShader,fragmentShader:Wa.cube.fragmentShader,side:d,depthTest:false,depthWrite:false,fog:false}))}gt.projectionMatrix.copy(t.projectionMatrix);gt.matrixWorld.extractRotation(t.matrixWorld);gt.matrixWorldInverse.getInverse(gt.matrixWorld);yt.material.uniforms["tCube"].value=n;yt.modelViewMatrix.multiplyMatrices(gt.matrixWorldInverse,yt.matrixWorld);ut.update(yt);S.renderBufferDirect(gt,null,yt.geometry,yt.material,yt,null)}else if(n&&n.isTexture){if(mt===undefined){mt=new Xo(-1,1,1,-1,0,1);vt=new Go(new nr(2,2),new ko({depthTest:false,depthWrite:false,fog:false}))}vt.material.map=n;ut.update(vt);S.renderBufferDirect(mt,null,vt.geometry,vt.material,vt,null)}if(e.overrideMaterial){var a=e.overrideMaterial;Xt(f,e,t,a);Xt(y,e,t,a)}else{nt.setBlending(_);Xt(f,e,t);Xt(y,e,t)}Tt.render(e,t);Et.render(e,t,q);if(i){lt.updateRenderTargetMipmap(i)}nt.setDepthTest(true);nt.setDepthWrite(true);nt.setColorWrite(true)};function Ft(e,t,i,r,n){var a,o;if(i.transparent){a=y;o=++x}else{a=f;o=++v}var s=a[o];if(s!==undefined){s.id=e.id;s.object=e;s.geometry=t;s.material=i;s.z=Be.z;s.group=n}else{s={id:e.id,object:e,geometry:t,material:i,z:Be.z,group:n};a.push(s)}}function kt(e){var t=e.geometry;if(t.boundingSphere===null)t.computeBoundingSphere();ue.copy(t.boundingSphere).applyMatrix4(e.matrixWorld);return Vt(ue)}function Gt(e){ue.center.set(0,0,0);ue.radius=.7071067811865476;ue.applyMatrix4(e.matrixWorld);return Vt(ue)}function Vt(e){if(!oe.intersectsSphere(e))return false;var t=se.numPlanes;if(t===0)return true;var i=S.clippingPlanes,r=e.center,n=-e.radius,a=0;do{if(i[a].distanceToPoint(r)<n)return false}while(++a!==t);return true}function jt(e,t){if(e.visible===false)return;var i=(e.layers.mask&t.layers.mask)!==0;if(i){if(e.isLight){h.push(e)}else if(e.isSprite){if(e.frustumCulled===false||Gt(e)===true){w.push(e)}}else if(e.isLensFlare){M.push(e)}else if(e.isImmediateRenderObject){if(S.sortObjects===true){Be.setFromMatrixPosition(e.matrixWorld);Be.applyMatrix4(he)}Ft(e,null,e.material,Be.z,null)}else if(e.isMesh||e.isLine||e.isPoints){if(e.isSkinnedMesh){e.skeleton.update()}if(e.frustumCulled===false||kt(e)===true){var r=e.material;if(r.visible===true){if(S.sortObjects===true){Be.setFromMatrixPosition(e.matrixWorld);Be.applyMatrix4(he)}var n=ut.update(e);if(r.isMultiMaterial){var a=n.groups;var o=r.materials;for(var s=0,c=a.length;s<c;s++){var l=a[s];var u=o[l.materialIndex];if(u.visible===true){Ft(e,n,u,Be.z,l)}}}else{Ft(e,n,r,Be.z,null)}}}}}var f=e.children;for(var s=0,c=f.length;s<c;s++){jt(f[s],t)}}function Xt(e,t,i,r){for(var n=0,a=e.length;n<a;n++){var o=e[n];var s=o.object;var c=o.geometry;var l=r===undefined?o.material:r;var u=o.group;s.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,s.matrixWorld);s.normalMatrix.getNormalMatrix(s.modelViewMatrix);s.onBeforeRender(S,t,i,c,l,u);if(s.isImmediateRenderObject){Ht(l);var h=Zt(i,t.fog,l,s);W="";s.render(function(e){S.renderBufferImmediate(e,h,l)})}else{S.renderBufferDirect(i,t.fog,c,l,s,u)}s.onAfterRender(S,t,i,c,l,u)}}function Wt(e,t,i){var r=ct.get(e);var n=ht.getParameters(e,Qe,t,se.numPlanes,se.numIntersection,i);var a=ht.getProgramCode(e,n);var o=r.program;var s=true;if(o===undefined){e.addEventListener("dispose",Ct)}else if(o.code!==a){Rt(e)}else if(n.shaderID!==undefined){return}else{s=false}if(s){if(n.shaderID){var c=Wa[n.shaderID];r.__webglShader={name:e.type,uniforms:ja.clone(c.uniforms),vertexShader:c.vertexShader,fragmentShader:c.fragmentShader}}else{r.__webglShader={name:e.type,uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader}}e.__webglShader=r.__webglShader;
o=ht.acquireProgram(e,n,a);r.program=o;e.program=o}var l=o.getAttributes();if(e.morphTargets){e.numSupportedMorphTargets=0;for(var u=0;u<S.maxMorphTargets;u++){if(l["morphTarget"+u]>=0){e.numSupportedMorphTargets++}}}if(e.morphNormals){e.numSupportedMorphNormals=0;for(var u=0;u<S.maxMorphNormals;u++){if(l["morphNormal"+u]>=0){e.numSupportedMorphNormals++}}}var h=r.__webglShader.uniforms;if(!e.isShaderMaterial&&!e.isRawShaderMaterial||e.clipping===true){r.numClippingPlanes=se.numPlanes;r.numIntersection=se.numIntersection;h.clippingPlanes=se.uniform}r.fog=t;r.lightsHash=Qe.hash;if(e.lights){h.ambientLightColor.value=Qe.ambient;h.directionalLights.value=Qe.directional;h.spotLights.value=Qe.spot;h.rectAreaLights.value=Qe.rectArea;h.pointLights.value=Qe.point;h.hemisphereLights.value=Qe.hemi;h.directionalShadowMap.value=Qe.directionalShadowMap;h.directionalShadowMatrix.value=Qe.directionalShadowMatrix;h.spotShadowMap.value=Qe.spotShadowMap;h.spotShadowMatrix.value=Qe.spotShadowMatrix;h.pointShadowMap.value=Qe.pointShadowMap;h.pointShadowMatrix.value=Qe.pointShadowMatrix}var f=r.program.getUniforms(),d=Io.seqWithValue(f.seq,h);r.uniformsList=d}function Ht(e){e.side===p?nt.disable(et.CULL_FACE):nt.enable(et.CULL_FACE);nt.setFlipSided(e.side===d);e.transparent===true?nt.setBlending(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha):nt.setBlending(_);nt.setDepthFunc(e.depthFunc);nt.setDepthTest(e.depthTest);nt.setDepthWrite(e.depthWrite);nt.setColorWrite(e.colorWrite);nt.setPolygonOffset(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)}function Zt(e,t,i,r){J=0;var n=ct.get(i);if(ce){if(le||e!==H){var a=e===H&&i.id===X;se.setState(i.clippingPlanes,i.clipIntersection,i.clipShadows,e,n,a)}}if(i.needsUpdate===false){if(n.program===undefined){i.needsUpdate=true}else if(i.fog&&n.fog!==t){i.needsUpdate=true}else if(i.lights&&n.lightsHash!==Qe.hash){i.needsUpdate=true}else if(n.numClippingPlanes!==undefined&&(n.numClippingPlanes!==se.numPlanes||n.numIntersection!==se.numIntersection)){i.needsUpdate=true}}if(i.needsUpdate){Wt(i,t,r);i.needsUpdate=false}var o=false;var s=false;var c=false;var l=n.program,u=l.getUniforms(),h=n.__webglShader.uniforms;if(l.id!==T){et.useProgram(l.program);T=l.id;o=true;s=true;c=true}if(i.id!==X){X=i.id;s=true}if(o||e!==H){u.set(et,e,"projectionMatrix");if(rt.logarithmicDepthBuffer){u.setValue(et,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2))}if(e!==H){H=e;s=true;c=true}if(i.isShaderMaterial||i.isMeshPhongMaterial||i.isMeshStandardMaterial||i.envMap){var f=u.map.cameraPosition;if(f!==undefined){f.setValue(et,Be.setFromMatrixPosition(e.matrixWorld))}}if(i.isMeshPhongMaterial||i.isMeshLambertMaterial||i.isMeshBasicMaterial||i.isMeshStandardMaterial||i.isShaderMaterial||i.skinning){u.setValue(et,"viewMatrix",e.matrixWorldInverse)}u.set(et,S,"toneMappingExposure");u.set(et,S,"toneMappingWhitePoint")}if(i.skinning){u.setOptional(et,r,"bindMatrix");u.setOptional(et,r,"bindMatrixInverse");var d=r.skeleton;if(d){if(rt.floatVertexTextures&&d.useVertexTexture){u.set(et,d,"boneTexture");u.set(et,d,"boneTextureWidth");u.set(et,d,"boneTextureHeight")}else{u.setOptional(et,d,"boneMatrices")}}}if(s){if(i.lights){ai(h,c)}if(t&&i.fog){Qt(h,t)}if(i.isMeshBasicMaterial||i.isMeshLambertMaterial||i.isMeshPhongMaterial||i.isMeshStandardMaterial||i.isMeshNormalMaterial||i.isMeshDepthMaterial){Yt(h,i)}if(i.isLineBasicMaterial){qt(h,i)}else if(i.isLineDashedMaterial){qt(h,i);Jt(h,i)}else if(i.isPointsMaterial){Kt(h,i)}else if(i.isMeshLambertMaterial){$t(h,i)}else if(i.isMeshToonMaterial){ti(h,i)}else if(i.isMeshPhongMaterial){ei(h,i)}else if(i.isMeshPhysicalMaterial){ri(h,i)}else if(i.isMeshStandardMaterial){ii(h,i)}else if(i.isMeshDepthMaterial){if(i.displacementMap){h.displacementMap.value=i.displacementMap;h.displacementScale.value=i.displacementScale;h.displacementBias.value=i.displacementBias}}else if(i.isMeshNormalMaterial){ni(h,i)}Io.upload(et,n.uniformsList,h,S)}u.set(et,r,"modelViewMatrix");u.set(et,r,"normalMatrix");u.setValue(et,"modelMatrix",r.matrixWorld);return l}function Yt(e,t){e.opacity.value=t.opacity;e.diffuse.value=t.color;if(t.emissive){e.emissive.value.copy(t.emissive).multiplyScalar(t.emissiveIntensity)}e.map.value=t.map;e.specularMap.value=t.specularMap;e.alphaMap.value=t.alphaMap;if(t.lightMap){e.lightMap.value=t.lightMap;e.lightMapIntensity.value=t.lightMapIntensity}if(t.aoMap){e.aoMap.value=t.aoMap;e.aoMapIntensity.value=t.aoMapIntensity}var i;if(t.map){i=t.map}else if(t.specularMap){i=t.specularMap}else if(t.displacementMap){i=t.displacementMap}else if(t.normalMap){i=t.normalMap}else if(t.bumpMap){i=t.bumpMap}else if(t.roughnessMap){i=t.roughnessMap}else if(t.metalnessMap){i=t.metalnessMap}else if(t.alphaMap){i=t.alphaMap}else if(t.emissiveMap){i=t.emissiveMap}if(i!==undefined){if(i.isWebGLRenderTarget){i=i.texture}var r=i.offset;var n=i.repeat;e.offsetRepeat.value.set(r.x,r.y,n.x,n.y)}e.envMap.value=t.envMap;e.flipEnvMap.value=!(t.envMap&&t.envMap.isCubeTexture)?1:-1;e.reflectivity.value=t.reflectivity;e.refractionRatio.value=t.refractionRatio}function qt(e,t){e.diffuse.value=t.color;e.opacity.value=t.opacity}function Jt(e,t){e.dashSize.value=t.dashSize;e.totalSize.value=t.dashSize+t.gapSize;e.scale.value=t.scale}function Kt(e,t){e.diffuse.value=t.color;e.opacity.value=t.opacity;e.size.value=t.size*ie;e.scale.value=te*.5;e.map.value=t.map;if(t.map!==null){var i=t.map.offset;var r=t.map.repeat;e.offsetRepeat.value.set(i.x,i.y,r.x,r.y)}}function Qt(e,t){e.fogColor.value=t.color;if(t.isFog){e.fogNear.value=t.near;e.fogFar.value=t.far}else if(t.isFogExp2){e.fogDensity.value=t.density}}function $t(e,t){if(t.emissiveMap){e.emissiveMap.value=t.emissiveMap}}function ei(e,t){e.specular.value=t.specular;e.shininess.value=Math.max(t.shininess,1e-4);if(t.emissiveMap){e.emissiveMap.value=t.emissiveMap}if(t.bumpMap){e.bumpMap.value=t.bumpMap;e.bumpScale.value=t.bumpScale}if(t.normalMap){e.normalMap.value=t.normalMap;e.normalScale.value.copy(t.normalScale)}if(t.displacementMap){e.displacementMap.value=t.displacementMap;e.displacementScale.value=t.displacementScale;e.displacementBias.value=t.displacementBias}}function ti(e,t){ei(e,t);if(t.gradientMap){e.gradientMap.value=t.gradientMap}}function ii(e,t){e.roughness.value=t.roughness;e.metalness.value=t.metalness;if(t.roughnessMap){e.roughnessMap.value=t.roughnessMap}if(t.metalnessMap){e.metalnessMap.value=t.metalnessMap}if(t.emissiveMap){e.emissiveMap.value=t.emissiveMap}if(t.bumpMap){e.bumpMap.value=t.bumpMap;e.bumpScale.value=t.bumpScale}if(t.normalMap){e.normalMap.value=t.normalMap;e.normalScale.value.copy(t.normalScale)}if(t.displacementMap){e.displacementMap.value=t.displacementMap;e.displacementScale.value=t.displacementScale;e.displacementBias.value=t.displacementBias}if(t.envMap){e.envMapIntensity.value=t.envMapIntensity}}function ri(e,t){e.clearCoat.value=t.clearCoat;e.clearCoatRoughness.value=t.clearCoatRoughness;ii(e,t)}function ni(e,t){if(t.bumpMap){e.bumpMap.value=t.bumpMap;e.bumpScale.value=t.bumpScale}if(t.normalMap){e.normalMap.value=t.normalMap;e.normalScale.value.copy(t.normalScale)}if(t.displacementMap){e.displacementMap.value=t.displacementMap;e.displacementScale.value=t.displacementScale;e.displacementBias.value=t.displacementBias}}function ai(e,t){e.ambientLightColor.needsUpdate=t;e.directionalLights.needsUpdate=t;e.pointLights.needsUpdate=t;e.spotLights.needsUpdate=t;e.rectAreaLights.needsUpdate=t;e.hemisphereLights.needsUpdate=t}function oi(e){var t=0;for(var i=0,r=e.length;i<r;i++){var n=e[i];if(n.castShadow){Qe.shadows[t++]=n}}Qe.shadows.length=t}function si(e,t){var i,r,n,a=0,o=0,s=0,c,l,u,h,f=t.matrixWorldInverse,d=0,p=0,m=0,v=0,g=0;for(i=0,r=e.length;i<r;i++){n=e[i];c=n.color;l=n.intensity;u=n.distance;h=n.shadow&&n.shadow.map?n.shadow.map.texture:null;if(n.isAmbientLight){a+=c.r*l;o+=c.g*l;s+=c.b*l}else if(n.isDirectionalLight){var y=ft.get(n);y.color.copy(n.color).multiplyScalar(n.intensity);y.direction.setFromMatrixPosition(n.matrixWorld);Be.setFromMatrixPosition(n.target.matrixWorld);y.direction.sub(Be);y.direction.transformDirection(f);y.shadow=n.castShadow;if(n.castShadow){y.shadowBias=n.shadow.bias;y.shadowRadius=n.shadow.radius;y.shadowMapSize=n.shadow.mapSize}Qe.directionalShadowMap[d]=h;Qe.directionalShadowMatrix[d]=n.shadow.matrix;Qe.directional[d++]=y}else if(n.isSpotLight){var y=ft.get(n);y.position.setFromMatrixPosition(n.matrixWorld);y.position.applyMatrix4(f);y.color.copy(c).multiplyScalar(l);y.distance=u;y.direction.setFromMatrixPosition(n.matrixWorld);Be.setFromMatrixPosition(n.target.matrixWorld);y.direction.sub(Be);y.direction.transformDirection(f);y.coneCos=Math.cos(n.angle);y.penumbraCos=Math.cos(n.angle*(1-n.penumbra));y.decay=n.distance===0?0:n.decay;y.shadow=n.castShadow;if(n.castShadow){y.shadowBias=n.shadow.bias;y.shadowRadius=n.shadow.radius;y.shadowMapSize=n.shadow.mapSize}Qe.spotShadowMap[m]=h;Qe.spotShadowMatrix[m]=n.shadow.matrix;Qe.spot[m++]=y}else if(n.isRectAreaLight){var y=ft.get(n);y.position.setFromMatrixPosition(n.matrixWorld);y.position.applyMatrix4(f);y.color.copy(c).multiplyScalar(l);Ke.identity();Je.copy(n.matrixWorld);Je.premultiply(f);Ke.extractRotation(Je);y.halfWidth.set(n.width*.5,0,0);y.halfHeight.set(0,n.height*.5,0);y.halfWidth.applyMatrix4(Ke);y.halfHeight.applyMatrix4(Ke);Qe.rectArea[v++]=y}else if(n.isPointLight){var y=ft.get(n);y.position.setFromMatrixPosition(n.matrixWorld);y.position.applyMatrix4(f);y.color.copy(n.color).multiplyScalar(n.intensity);y.distance=n.distance;y.decay=n.distance===0?0:n.decay;y.shadow=n.castShadow;if(n.castShadow){y.shadowBias=n.shadow.bias;y.shadowRadius=n.shadow.radius;y.shadowMapSize=n.shadow.mapSize}Qe.pointShadowMap[p]=h;if(Qe.pointShadowMatrix[p]===undefined){Qe.pointShadowMatrix[p]=new Lt}Be.setFromMatrixPosition(n.matrixWorld).negate();Qe.pointShadowMatrix[p].identity().setPosition(Be);Qe.point[p++]=y}else if(n.isHemisphereLight){var y=ft.get(n);y.direction.setFromMatrixPosition(n.matrixWorld);y.direction.transformDirection(f);y.direction.normalize();y.skyColor.copy(n.color).multiplyScalar(l);y.groundColor.copy(n.groundColor).multiplyScalar(l);Qe.hemi[g++]=y}}Qe.ambient[0]=a;Qe.ambient[1]=o;Qe.ambient[2]=s;Qe.directional.length=d;Qe.spot.length=m;Qe.rectArea.length=v;Qe.point.length=p;Qe.hemi.length=g;Qe.hash=d+","+p+","+m+","+v+","+g+","+Qe.shadows.length}this.setFaceCulling=function(e,t){nt.setCullFace(e);nt.setFlipSided(t===s)};function ci(){var e=J;if(e>=rt.maxTextures){console.warn("WebGLRenderer: trying to use "+e+" texture units while this GPU supports only "+rt.maxTextures)}J+=1;return e}this.allocTextureUnit=ci;this.setTexture2D=function(){var e=false;return function t(i,r){if(i&&i.isWebGLRenderTarget){if(!e){console.warn("SZX3D.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead.");e=true}i=i.texture}lt.setTexture2D(i,r)}}();this.setTexture=function(){var e=false;return function t(i,r){if(!e){console.warn("SZX3D.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead.");e=true}lt.setTexture2D(i,r)}}();this.setTextureCube=function(){var e=false;return function t(i,r){if(i&&i.isWebGLRenderTargetCube){if(!e){console.warn("SZX3D.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead.");e=true}i=i.texture}if(i&&i.isCubeTexture||Array.isArray(i.image)&&i.image.length===6){lt.setTextureCube(i,r)}else{lt.setTextureCubeDynamic(i,r)}}}();this.getCurrentRenderTarget=function(){return V};this.setRenderTarget=function(e){V=e;if(e&&ct.get(e).__webglFramebuffer===undefined){lt.setupRenderTarget(e)}var t=e&&e.isWebGLRenderTargetCube;var i;if(e){var r=ct.get(e);if(t){i=r.__webglFramebuffer[e.activeCubeFace]}else{i=r.__webglFramebuffer}Z.copy(e.scissor);Y=e.scissorTest;q.copy(e.viewport)}else{i=null;Z.copy(re).multiplyScalar(ie);Y=ne;q.copy(ae).multiplyScalar(ie)}if(j!==i){et.bindFramebuffer(et.FRAMEBUFFER,i);j=i}nt.scissor(Z);nt.setScissorTest(Y);nt.viewport(q);if(t){var n=ct.get(e.texture);et.framebufferTexture2D(et.FRAMEBUFFER,et.COLOR_ATTACHMENT0,et.TEXTURE_CUBE_MAP_POSITIVE_X+e.activeCubeFace,n.__webglTexture,e.activeMipMapLevel)}};this.readRenderTargetPixels=function(e,t,i,r,n,a){if((e&&e.isWebGLRenderTarget)===false){console.error("SZX3D.WebGLRenderer.readRenderTargetPixels: renderTarget is not SZX3D.WebGLRenderTarget.");return}var o=ct.get(e).__webglFramebuffer;if(o){var s=false;if(o!==j){et.bindFramebuffer(et.FRAMEBUFFER,o);s=true}try{var c=e.texture;var l=c.format;var u=c.type;if(l!==Ue&&li(l)!==et.getParameter(et.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("SZX3D.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(u!==be&&li(u)!==et.getParameter(et.IMPLEMENTATION_COLOR_READ_TYPE)&&!(u===Le&&(it.get("OES_texture_float")||it.get("WEBGL_color_buffer_float")))&&!(u===Ee&&it.get("EXT_color_buffer_half_float"))){console.error("SZX3D.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}if(et.checkFramebufferStatus(et.FRAMEBUFFER)===et.FRAMEBUFFER_COMPLETE){if(t>=0&&t<=e.width-r&&(i>=0&&i<=e.height-n)){et.readPixels(t,i,r,n,li(l),li(u),a)}}else{console.error("SZX3D.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}}finally{if(s){et.bindFramebuffer(et.FRAMEBUFFER,j)}}}};function li(e){var t;if(e===fe)return et.REPEAT;if(e===de)return et.CLAMP_TO_EDGE;if(e===pe)return et.MIRRORED_REPEAT;if(e===me)return et.NEAREST;if(e===ve)return et.NEAREST_MIPMAP_NEAREST;if(e===ge)return et.NEAREST_MIPMAP_LINEAR;if(e===ye)return et.LINEAR;if(e===xe)return et.LINEAR_MIPMAP_NEAREST;if(e===_e)return et.LINEAR_MIPMAP_LINEAR;if(e===be)return et.UNSIGNED_BYTE;if(e===Pe)return et.UNSIGNED_SHORT_4_4_4_4;if(e===Ce)return et.UNSIGNED_SHORT_5_5_5_1;if(e===Ie)return et.UNSIGNED_SHORT_5_6_5;if(e===we)return et.BYTE;if(e===Me)return et.SHORT;if(e===Se)return et.UNSIGNED_SHORT;if(e===Te)return et.INT;if(e===Ae)return et.UNSIGNED_INT;if(e===Le)return et.FLOAT;if(e===Ee){t=it.get("OES_texture_half_float");if(t!==null)return t.HALF_FLOAT_OES}if(e===Ne)return et.ALPHA;if(e===De)return et.RGB;if(e===Ue)return et.RGBA;if(e===Oe)return et.LUMINANCE;if(e===ze)return et.LUMINANCE_ALPHA;if(e===Fe)return et.DEPTH_COMPONENT;if(e===ke)return et.DEPTH_STENCIL;if(e===A)return et.FUNC_ADD;if(e===L)return et.FUNC_SUBTRACT;if(e===E)return et.FUNC_REVERSE_SUBTRACT;if(e===I)return et.ZERO;if(e===R)return et.ONE;if(e===N)return et.SRC_COLOR;if(e===D)return et.ONE_MINUS_SRC_COLOR;if(e===U)return et.SRC_ALPHA;if(e===O)return et.ONE_MINUS_SRC_ALPHA;if(e===z)return et.DST_ALPHA;if(e===B)return et.ONE_MINUS_DST_ALPHA;if(e===F)return et.DST_COLOR;if(e===k)return et.ONE_MINUS_DST_COLOR;if(e===G)return et.SRC_ALPHA_SATURATE;if(e===Ge||e===Ve||e===je||e===Xe){t=it.get("WEBGL_compressed_texture_s3tc");if(t!==null){if(e===Ge)return t.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===Ve)return t.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===je)return t.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===Xe)return t.COMPRESSED_RGBA_S3TC_DXT5_EXT}}if(e===We||e===He||e===Ze||e===Ye){t=it.get("WEBGL_compressed_texture_pvrtc");if(t!==null){if(e===We)return t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===He)return t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===Ze)return t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===Ye)return t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}}if(e===qe){t=it.get("WEBGL_compressed_texture_etc1");if(t!==null)return t.COMPRESSED_RGB_ETC1_WEBGL}if(e===P||e===C){t=it.get("EXT_blend_minmax");if(t!==null){if(e===P)return t.MIN_EXT;if(e===C)return t.MAX_EXT}}if(e===Re){t=it.get("WEBGL_depth_texture");if(t!==null)return t.UNSIGNED_INT_24_8_WEBGL}return 0}}function xs(e,t,i){Do.call(this,e,t,i);this.activeCubeFace=0;this.activeMipMapLevel=0}xs.prototype=Object.create(Do.prototype);xs.prototype.constructor=xs;xs.prototype.isWebGLRenderTargetCube=true;function _s(e){console.log("SZX3D.WebGL2Renderer",t);e=e||{};var i=e.canvas!==undefined?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),r=e.context!==undefined?e.context:null,n=e.alpha!==undefined?e.alpha:false,a=e.depth!==undefined?e.depth:true,o=e.stencil!==undefined?e.stencil:true,s=e.antialias!==undefined?e.antialias:false,c=e.premultipliedAlpha!==undefined?e.premultipliedAlpha:true,l=e.preserveDrawingBuffer!==undefined?e.preserveDrawingBuffer:false;var u;try{var h={alpha:n,depth:a,stencil:o,antialias:s,premultipliedAlpha:c,preserveDrawingBuffer:l};u=r||i.getContext("webgl2",h);if(u===null){if(i.getContext("webgl2")!==null){throw"Error creating WebGL2 context with your selected attributes."}else{throw"Error creating WebGL2 context."}}i.addEventListener("webglcontextlost",C,false)}catch(e){console.error("SZX3D.WebGL2Renderer: "+e)}var f=this,d=true,p=true,m=true,v=true,g=new bt(0),y=0,x=i.width,_=i.height,b=1,w=new St(0,0,x,_);var M=new vs(u);var S=new ps(u,M,function(){});function T(e,t,i){var r=0;if(e===undefined||e)r|=u.COLOR_BUFFER_BIT;if(t===undefined||t)r|=u.DEPTH_BUFFER_BIT;if(i===undefined||i)r|=u.STENCIL_BUFFER_BIT;u.clear(r)}function A(e){if(e===undefined)return;b=e;L(w.z,w.w,false)}function L(e,t,r){x=e;_=t;i.width=e*b;i.height=t*b;if(r!==false){i.style.width=e+"px";i.style.height=t+"px"}E(0,0,e,t)}function E(e,t,i,r){S.viewport(w.set(e,t,i,r))}function P(e,t){if(t!==undefined&&t.isCamera!==true){console.error("SZX3D.WebGL2Renderer.render: camera is not an instance of SZX3D.Camera.");return}var i=e.background;var r=false;if(i===null){S.buffers.color.setClear(g.r,g.g,g.b,y,c)}else if(i&&i.isColor){S.buffers.color.setClear(i.r,i.g,i.b,1,c);r=true}if(d||r){this.clear(p,m,v)}}function C(e){e.preventDefault()}return{domElement:i,clear:T,setPixelRatio:A,setSize:L,render:P}}function bs(e){Oo.call(this);this.type="PointsMaterial";this.color=new bt(16777215);this.map=null;this.size=1;this.sizeAttenuation=true;this.lights=false;this.setValues(e)}bs.prototype=Object.create(Oo.prototype);bs.prototype.constructor=bs;bs.prototype.isPointsMaterial=true;bs.prototype.copy=function(e){Oo.prototype.copy.call(this,e);this.color.copy(e.color);this.map=e.map;this.size=e.size;this.sizeAttenuation=e.sizeAttenuation;return this};function ws(e){Oo.call(this);this.type="LineBasicMaterial";this.color=new bt(16777215);this.linewidth=1;this.linecap="round";this.linejoin="round";this.lights=false;this.setValues(e)}ws.prototype=Object.create(Oo.prototype);ws.prototype.constructor=ws;ws.prototype.isLineBasicMaterial=true;ws.prototype.copy=function(e){Oo.prototype.copy.call(this,e);this.color.copy(e.color);this.linewidth=e.linewidth;this.linecap=e.linecap;this.linejoin=e.linejoin;return this};function Ms(e){Oo.call(this);this.type="LineDashedMaterial";this.color=new bt(16777215);this.linewidth=1;this.scale=1;this.dashSize=3;this.gapSize=1;this.lights=false;this.setValues(e)}Ms.prototype=Object.create(Oo.prototype);Ms.prototype.constructor=Ms;Ms.prototype.isLineDashedMaterial=true;Ms.prototype.copy=function(e){Oo.prototype.copy.call(this,e);this.color.copy(e.color);this.linewidth=e.linewidth;this.scale=e.scale;this.dashSize=e.dashSize;this.gapSize=e.gapSize;return this};function Ss(e){Oo.call(this);this.type="MeshLambertMaterial";this.color=new bt(16777215);this.map=null;this.lightMap=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new bt(0);this.emissiveIntensity=1;this.emissiveMap=null;this.specularMap=null;this.alphaMap=null;this.envMap=null;this.combine=J;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=false;this.wireframeLinewidth=1;this.wireframeLinecap="round";this.wireframeLinejoin="round";this.skinning=false;this.morphTargets=false;this.morphNormals=false;this.setValues(e)}Ss.prototype=Object.create(Oo.prototype);Ss.prototype.constructor=Ss;Ss.prototype.isMeshLambertMaterial=true;Ss.prototype.copy=function(e){Oo.prototype.copy.call(this,e);this.color.copy(e.color);this.map=e.map;this.lightMap=e.lightMap;this.lightMapIntensity=e.lightMapIntensity;this.aoMap=e.aoMap;this.aoMapIntensity=e.aoMapIntensity;this.emissive.copy(e.emissive);this.emissiveMap=e.emissiveMap;this.emissiveIntensity=e.emissiveIntensity;this.specularMap=e.specularMap;this.alphaMap=e.alphaMap;this.envMap=e.envMap;this.combine=e.combine;this.reflectivity=e.reflectivity;this.refractionRatio=e.refractionRatio;this.wireframe=e.wireframe;this.wireframeLinewidth=e.wireframeLinewidth;this.wireframeLinecap=e.wireframeLinecap;this.wireframeLinejoin=e.wireframeLinejoin;this.skinning=e.skinning;this.morphTargets=e.morphTargets;this.morphNormals=e.morphNormals;return this};function Ts(e){Oo.call(this,e);this.type="MeshNormalMaterial";this.bumpMap=null;this.bumpScale=1;this.normalMap=null;this.normalScale=new Mt(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.wireframe=false;this.wireframeLinewidth=1;this.fog=false;this.lights=false;this.skinning=false;this.morphTargets=false;this.morphNormals=false;this.setValues(e)}Ts.prototype=Object.create(Oo.prototype);Ts.prototype.constructor=Ts;Ts.prototype.isMeshNormalMaterial=true;Ts.prototype.copy=function(e){Oo.prototype.copy.call(this,e);this.bumpMap=e.bumpMap;this.bumpScale=e.bumpScale;this.normalMap=e.normalMap;this.normalScale.copy(e.normalScale);this.displacementMap=e.displacementMap;this.displacementScale=e.displacementScale;this.displacementBias=e.displacementBias;this.wireframe=e.wireframe;this.wireframeLinewidth=e.wireframeLinewidth;this.skinning=e.skinning;this.morphTargets=e.morphTargets;this.morphNormals=e.morphNormals;return this};function As(e){Oo.call(this);this.type="MeshPhongMaterial";this.color=new bt(16777215);this.specular=new bt(1118481);this.shininess=30;this.map=null;this.lightMap=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new bt(0);this.emissiveIntensity=1;this.emissiveMap=null;this.bumpMap=null;this.bumpScale=1;this.normalMap=null;this.normalScale=new Mt(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.specularMap=null;this.alphaMap=null;this.envMap=null;this.combine=J;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=false;this.wireframeLinewidth=1;this.wireframeLinecap="round";this.wireframeLinejoin="round";this.skinning=false;this.morphTargets=false;this.morphNormals=false;this.setValues(e)}As.prototype=Object.create(Oo.prototype);As.prototype.constructor=As;As.prototype.isMeshPhongMaterial=true;As.prototype.copy=function(e){Oo.prototype.copy.call(this,e);this.color.copy(e.color);this.specular.copy(e.specular);this.shininess=e.shininess;this.map=e.map;this.lightMap=e.lightMap;this.lightMapIntensity=e.lightMapIntensity;this.aoMap=e.aoMap;this.aoMapIntensity=e.aoMapIntensity;this.emissive.copy(e.emissive);this.emissiveMap=e.emissiveMap;this.emissiveIntensity=e.emissiveIntensity;this.bumpMap=e.bumpMap;this.bumpScale=e.bumpScale;this.normalMap=e.normalMap;this.normalScale.copy(e.normalScale);this.displacementMap=e.displacementMap;this.displacementScale=e.displacementScale;this.displacementBias=e.displacementBias;this.specularMap=e.specularMap;this.alphaMap=e.alphaMap;this.envMap=e.envMap;this.combine=e.combine;this.reflectivity=e.reflectivity;this.refractionRatio=e.refractionRatio;this.wireframe=e.wireframe;this.wireframeLinewidth=e.wireframeLinewidth;this.wireframeLinecap=e.wireframeLinecap;this.wireframeLinejoin=e.wireframeLinejoin;this.skinning=e.skinning;this.morphTargets=e.morphTargets;this.morphNormals=e.morphNormals;return this};function Ls(e){As.call(this);this.defines={TOON:""};this.type="MeshToonMaterial";this.gradientMap=null;this.setValues(e)}Ls.prototype=Object.create(As.prototype);Ls.prototype.constructor=Ls;Ls.prototype.isMeshToonMaterial=true;Ls.prototype.copy=function(e){As.prototype.copy.call(this,e);this.gradientMap=e.gradientMap;return this};function Es(e){Oo.call(this);this.defines={STANDARD:""};this.type="MeshStandardMaterial";this.color=new bt(16777215);this.roughness=.5;this.metalness=.5;this.map=null;this.lightMap=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new bt(0);this.emissiveIntensity=1;this.emissiveMap=null;this.bumpMap=null;this.bumpScale=1;this.normalMap=null;this.normalScale=new Mt(1,1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.roughnessMap=null;this.metalnessMap=null;this.alphaMap=null;this.envMap=null;this.envMapIntensity=1;this.refractionRatio=.98;this.wireframe=false;this.wireframeLinewidth=1;this.wireframeLinecap="round";this.wireframeLinejoin="round";this.skinning=false;this.morphTargets=false;this.morphNormals=false;this.setValues(e)}Es.prototype=Object.create(Oo.prototype);Es.prototype.constructor=Es;Es.prototype.isMeshStandardMaterial=true;Es.prototype.copy=function(e){Oo.prototype.copy.call(this,e);this.defines={STANDARD:""};this.color.copy(e.color);this.roughness=e.roughness;this.metalness=e.metalness;this.map=e.map;this.lightMap=e.lightMap;this.lightMapIntensity=e.lightMapIntensity;this.aoMap=e.aoMap;this.aoMapIntensity=e.aoMapIntensity;this.emissive.copy(e.emissive);this.emissiveMap=e.emissiveMap;this.emissiveIntensity=e.emissiveIntensity;this.bumpMap=e.bumpMap;this.bumpScale=e.bumpScale;this.normalMap=e.normalMap;this.normalScale.copy(e.normalScale);this.displacementMap=e.displacementMap;this.displacementScale=e.displacementScale;this.displacementBias=e.displacementBias;this.roughnessMap=e.roughnessMap;this.metalnessMap=e.metalnessMap;this.alphaMap=e.alphaMap;this.envMap=e.envMap;this.envMapIntensity=e.envMapIntensity;this.refractionRatio=e.refractionRatio;this.wireframe=e.wireframe;this.wireframeLinewidth=e.wireframeLinewidth;this.wireframeLinecap=e.wireframeLinecap;this.wireframeLinejoin=e.wireframeLinejoin;this.skinning=e.skinning;this.morphTargets=e.morphTargets;this.morphNormals=e.morphNormals;return this};function Ps(e){Es.call(this);this.defines={PHYSICAL:""};this.type="MeshPhysicalMaterial";this.reflectivity=.5;this.clearCoat=0;this.clearCoatRoughness=0;this.setValues(e)}Ps.prototype=Object.create(Es.prototype);Ps.prototype.constructor=Ps;Ps.prototype.isMeshPhysicalMaterial=true;Ps.prototype.copy=function(e){Es.prototype.copy.call(this,e);this.defines={PHYSICAL:""};this.reflectivity=e.reflectivity;this.clearCoat=e.clearCoat;this.clearCoatRoughness=e.clearCoatRoughness;return this};function Cs(e){Oo.call(this);this.type="SpriteMaterial";this.color=new bt(16777215);this.map=null;this.rotation=0;this.fog=false;this.lights=false;this.setValues(e)}Cs.prototype=Object.create(Oo.prototype);Cs.prototype.constructor=Cs;Cs.prototype.copy=function(e){Oo.prototype.copy.call(this,e);this.color.copy(e.color);this.map=e.map;this.rotation=e.rotation;return this};function Is(e){this.uuid=_t.generateUUID();this.type="MultiMaterial";this.materials=Array.isArray(e)?e:[];this.visible=true}Is.prototype={constructor:Is,isMultiMaterial:true,toJSON:function(e){var t={metadata:{version:4.2,type:"material",generator:"MaterialExporter"},uuid:this.uuid,type:this.type,materials:[]};var i=this.materials;for(var r=0,n=i.length;r<n;r++){var a=i[r].toJSON(e);delete a.metadata;t.materials.push(a)}t.visible=this.visible;return t},clone:function(){var e=new this.constructor;for(var t=0;t<this.materials.length;t++){e.materials.push(this.materials[t].clone())}e.visible=this.visible;return e}};function Rs(e){zo.call(this,e);this.type="RawShaderMaterial"}Rs.prototype=Object.create(zo.prototype);Rs.prototype.constructor=Rs;Rs.prototype.isRawShaderMaterial=true;function Ns(){zo.call(this,{uniforms:ja.merge([Xa.lights,{opacity:{value:1}}]),vertexShader:Va["shadow_vert"],fragmentShader:Va["shadow_frag"]});this.lights=true;this.transparent=true;Object.defineProperties(this,{opacity:{enumerable:true,get:function(){return this.uniforms.opacity.value},set:function(e){this.uniforms.opacity.value=e}}})}Ns.prototype=Object.create(zo.prototype);Ns.prototype.constructor=Ns;Ns.prototype.isShadowMaterial=true;var Ds=Object.freeze({Material:Oo,PointsMaterial:bs,LineBasicMaterial:ws,LineDashedMaterial:Ms,MeshBasicMaterial:ko,MeshDepthMaterial:Bo,MeshLambertMaterial:Ss,MeshNormalMaterial:Ts,MeshToonMaterial:Ls,MeshPhongMaterial:As,MeshStandardMaterial:Es,MeshPhysicalMaterial:Ps,SpriteMaterial:Cs,MultiMaterial:Is,ShaderMaterial:zo,RawShaderMaterial:Rs,ShadowMaterial:Ns});function Us(){Qt.call(this);this.type="Group"}Us.prototype=Object.assign(Object.create(Qt.prototype),{constructor:Us});function Os(e,t){Qt.call(this);this.type="Points";this.geometry=e!==undefined?e:new yi;this.material=t!==undefined?t:new bs({color:Math.random()*16777215})}Os.prototype=Object.assign(Object.create(Qt.prototype),{constructor:Os,isPoints:true,raycast:function(){var e=new Lt;var t=new Dt;var i=new Nt;return function r(n,a){var o=this;var s=this.geometry;var c=this.matrixWorld;var l=n.params.Points.threshold;if(s.boundingSphere===null)s.computeBoundingSphere();i.copy(s.boundingSphere);i.applyMatrix4(c);if(n.ray.intersectsSphere(i)===false)return;e.getInverse(c);t.copy(n.ray).applyMatrix4(e);var u=l/((this.scale.x+this.scale.y+this.scale.z)/3);var h=u*u;var f=new At;function d(e,i){var r=t.distanceSqToPoint(e);if(r<h){var s=t.closestPointToPoint(e);s.applyMatrix4(c);var l=n.ray.origin.distanceTo(s);if(l<n.near||l>n.far)return;a.push({distance:l,distanceToRay:Math.sqrt(r),point:s.clone(),index:i,face:null,object:o})}}if(s.isBufferGeometry){var p=s.index;var m=s.attributes;var v=m.position.array;if(p!==null){var g=p.array;for(var y=0,x=g.length;y<x;y++){var _=g[y];f.fromArray(v,_*3);d(f,_)}}else{for(var y=0,b=v.length/3;y<b;y++){f.fromArray(v,y*3);d(f,y)}}}else{var w=s.vertices;for(var y=0,b=w.length;y<b;y++){d(w[y],y)}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});function zs(e,t,i){if(i===1){console.warn("SZX3D.Line: parameter SZX3D.LinePieces no longer supported. Created SZX3D.LineSegments instead.");return new Bs(e,t)}Qt.call(this);this.type="Line";this.geometry=e!==undefined?e:new yi;this.material=t!==undefined?t:new ws({color:Math.random()*16777215})}zs.prototype=Object.assign(Object.create(Qt.prototype),{constructor:zs,isLine:true,raycast:function(){var e=new Lt;var t=new Dt;var i=new Nt;return function r(n,a){var o=n.linePrecision;var s=o*o;var c=this.geometry;var l=this.matrixWorld;if(c.boundingSphere===null)c.computeBoundingSphere();i.copy(c.boundingSphere);i.applyMatrix4(l);if(n.ray.intersectsSphere(i)===false)return;e.getInverse(l);t.copy(n.ray).applyMatrix4(e);var u=new At;var h=new At;var f=new At;var d=new At;var p=this&&this.isLineSegments?2:1;if(c.isBufferGeometry){var m=c.index;var v=c.attributes;var g=v.position.array;if(m!==null){var y=m.array;for(var x=0,_=y.length-1;x<_;x+=p){var b=y[x];var w=y[x+1];u.fromArray(g,b*3);h.fromArray(g,w*3);var M=t.distanceSqToSegment(u,h,d,f);if(M>s)continue;d.applyMatrix4(this.matrixWorld);var S=n.ray.origin.distanceTo(d);if(S<n.near||S>n.far)continue;a.push({distance:S,point:f.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}}else{for(var x=0,_=g.length/3-1;x<_;x+=p){u.fromArray(g,3*x);h.fromArray(g,3*x+3);var M=t.distanceSqToSegment(u,h,d,f);if(M>s)continue;d.applyMatrix4(this.matrixWorld);var S=n.ray.origin.distanceTo(d);if(S<n.near||S>n.far)continue;a.push({distance:S,point:f.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}}}else if(c.isGeometry){var T=c.vertices;var A=T.length;for(var x=0;x<A-1;x+=p){var M=t.distanceSqToSegment(T[x],T[x+1],d,f);if(M>s)continue;d.applyMatrix4(this.matrixWorld);var S=n.ray.origin.distanceTo(d);if(S<n.near||S>n.far)continue;a.push({distance:S,point:f.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});function Bs(e,t){zs.call(this,e,t);this.type="LineSegments"}Bs.prototype=Object.assign(Object.create(zs.prototype),{constructor:Bs,
isLineSegments:true});function Fs(){Qt.call(this);this.type="Bone"}Fs.prototype=Object.assign(Object.create(Qt.prototype),{constructor:Fs,isBone:true});function ks(e,t,i){this.useVertexTexture=i!==undefined?i:true;this.identityMatrix=new Lt;e=e||[];this.bones=e.slice(0);if(this.useVertexTexture){var r=Math.sqrt(this.bones.length*4);r=_t.nextPowerOfTwo(Math.ceil(r));r=Math.max(r,4);this.boneTextureWidth=r;this.boneTextureHeight=r;this.boneMatrices=new Float32Array(this.boneTextureWidth*this.boneTextureHeight*4);this.boneTexture=new Fr(this.boneMatrices,this.boneTextureWidth,this.boneTextureHeight,Ue,Le)}else{this.boneMatrices=new Float32Array(16*this.bones.length)}if(t===undefined){this.calculateInverses()}else{if(this.bones.length===t.length){this.boneInverses=t.slice(0)}else{console.warn("SZX3D.Skeleton bonInverses is the wrong length.");this.boneInverses=[];for(var n=0,a=this.bones.length;n<a;n++){this.boneInverses.push(new Lt)}}}}Object.assign(ks.prototype,{calculateInverses:function(){this.boneInverses=[];for(var e=0,t=this.bones.length;e<t;e++){var i=new Lt;if(this.bones[e]){i.getInverse(this.bones[e].matrixWorld)}this.boneInverses.push(i)}},pose:function(){var e;for(var t=0,i=this.bones.length;t<i;t++){e=this.bones[t];if(e){e.matrixWorld.getInverse(this.boneInverses[t])}}for(var t=0,i=this.bones.length;t<i;t++){e=this.bones[t];if(e){if(e.parent&&e.parent.isBone){e.matrix.getInverse(e.parent.matrixWorld);e.matrix.multiply(e.matrixWorld)}else{e.matrix.copy(e.matrixWorld)}e.matrix.decompose(e.position,e.quaternion,e.scale)}}},update:function(){var e=new Lt;return function t(){for(var i=0,r=this.bones.length;i<r;i++){var n=this.bones[i]?this.bones[i].matrixWorld:this.identityMatrix;e.multiplyMatrices(n,this.boneInverses[i]);e.toArray(this.boneMatrices,i*16)}if(this.useVertexTexture){this.boneTexture.needsUpdate=true}}}(),clone:function(){return new ks(this.bones,this.boneInverses,this.useVertexTexture)}});function Gs(e,t,i){Go.call(this,e,t);this.type="SkinnedMesh";this.bindMode="attached";this.bindMatrix=new Lt;this.bindMatrixInverse=new Lt;var r=[];if(this.geometry&&this.geometry.bones!==undefined){var n,a;for(var o=0,s=this.geometry.bones.length;o<s;++o){a=this.geometry.bones[o];n=new Fs;r.push(n);n.name=a.name;n.position.fromArray(a.pos);n.quaternion.fromArray(a.rotq);if(a.scl!==undefined)n.scale.fromArray(a.scl)}for(var o=0,s=this.geometry.bones.length;o<s;++o){a=this.geometry.bones[o];if(a.parent!==-1&&a.parent!==null&&r[a.parent]!==undefined){r[a.parent].add(r[o])}else{this.add(r[o])}}}this.normalizeSkinWeights();this.updateMatrixWorld(true);this.bind(new ks(r,undefined,i),this.matrixWorld)}Gs.prototype=Object.assign(Object.create(Go.prototype),{constructor:Gs,isSkinnedMesh:true,bind:function(e,t){this.skeleton=e;if(t===undefined){this.updateMatrixWorld(true);this.skeleton.calculateInverses();t=this.matrixWorld}this.bindMatrix.copy(t);this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){if(this.geometry&&this.geometry.isGeometry){for(var e=0;e<this.geometry.skinWeights.length;e++){var t=this.geometry.skinWeights[e];var i=1/t.lengthManhattan();if(i!==Infinity){t.multiplyScalar(i)}else{t.set(1,0,0,0)}}}else if(this.geometry&&this.geometry.isBufferGeometry){var r=new St;var n=this.geometry.attributes.skinWeight;for(var e=0;e<n.count;e++){r.x=n.getX(e);r.y=n.getY(e);r.z=n.getZ(e);r.w=n.getW(e);var i=1/r.lengthManhattan();if(i!==Infinity){r.multiplyScalar(i)}else{r.set(1,0,0,0)}n.setXYZW(e,r.x,r.y,r.z,r.w)}}},updateMatrixWorld:function(e){Go.prototype.updateMatrixWorld.call(this,true);if(this.bindMode==="attached"){this.bindMatrixInverse.getInverse(this.matrixWorld)}else if(this.bindMode==="detached"){this.bindMatrixInverse.getInverse(this.bindMatrix)}else{console.warn("SZX3D.SkinnedMesh unrecognized bindMode: "+this.bindMode)}},clone:function(){return new this.constructor(this.geometry,this.material,this.skeleton.useVertexTexture).copy(this)}});function Vs(){Qt.call(this);this.type="LOD";Object.defineProperties(this,{levels:{enumerable:true,value:[]}})}Vs.prototype=Object.assign(Object.create(Qt.prototype),{constructor:Vs,copy:function(e){Qt.prototype.copy.call(this,e,false);var t=e.levels;for(var i=0,r=t.length;i<r;i++){var n=t[i];this.addLevel(n.object.clone(),n.distance)}return this},addLevel:function(e,t){if(t===undefined)t=0;t=Math.abs(t);var i=this.levels;for(var r=0;r<i.length;r++){if(t<i[r].distance){break}}i.splice(r,0,{distance:t,object:e});this.add(e)},getObjectForDistance:function(e){var t=this.levels;for(var i=1,r=t.length;i<r;i++){if(e<t[i].distance){break}}return t[i-1].object},raycast:function(){var e=new At;return function t(i,r){e.setFromMatrixPosition(this.matrixWorld);var n=i.ray.origin.distanceTo(e);this.getObjectForDistance(n).raycast(i,r)}}(),update:function(){var e=new At;var t=new At;return function i(r){var n=this.levels;if(n.length>1){e.setFromMatrixPosition(r.matrixWorld);t.setFromMatrixPosition(this.matrixWorld);var a=e.distanceTo(t);n[0].object.visible=true;for(var o=1,s=n.length;o<s;o++){if(a>=n[o].distance){n[o-1].object.visible=false;n[o].object.visible=true}else{break}}for(;o<s;o++){n[o].object.visible=false}}}}(),toJSON:function(e){var t=Qt.prototype.toJSON.call(this,e);t.object.levels=[];var i=this.levels;for(var r=0,n=i.length;r<n;r++){var a=i[r];t.object.levels.push({object:a.object.uuid,distance:a.distance})}return t}});function js(e){Qt.call(this);this.type="Sprite";this.material=e!==undefined?e:new Cs}js.prototype=Object.assign(Object.create(Qt.prototype),{constructor:js,isSprite:true,raycast:function(){var e=new At;return function t(i,r){e.setFromMatrixPosition(this.matrixWorld);var n=i.ray.distanceSqToPoint(e);var a=this.scale.x*this.scale.y/4;if(n>a){return}r.push({distance:Math.sqrt(n),point:this.position,face:null,object:this})}}(),clone:function(){return new this.constructor(this.material).copy(this)}});function Xs(e,t,i,r,n){Qt.call(this);this.lensFlares=[];this.positionScreen=new At;this.customUpdateCallback=undefined;if(e!==undefined){this.add(e,t,i,r,n)}}Xs.prototype=Object.assign(Object.create(Qt.prototype),{constructor:Xs,isLensFlare:true,copy:function(e){Qt.prototype.copy.call(this,e);this.positionScreen.copy(e.positionScreen);this.customUpdateCallback=e.customUpdateCallback;for(var t=0,i=e.lensFlares.length;t<i;t++){this.lensFlares.push(e.lensFlares[t])}return this},add:function(e,t,i,r,n,a){if(t===undefined)t=-1;if(i===undefined)i=0;if(a===undefined)a=1;if(n===undefined)n=new bt(16777215);if(r===undefined)r=b;i=Math.min(i,Math.max(0,i));this.lensFlares.push({texture:e,size:t,distance:i,x:0,y:0,z:0,scale:1,rotation:0,opacity:a,color:n,blending:r})},updateLensFlares:function(){var e,t=this.lensFlares.length;var i;var r=-this.positionScreen.x*2;var n=-this.positionScreen.y*2;for(e=0;e<t;e++){i=this.lensFlares[e];i.x=this.positionScreen.x+r*i.distance;i.y=this.positionScreen.y+n*i.distance;i.wantedRotation=i.x*Math.PI*.25;i.rotation+=(i.wantedRotation-i.rotation)*.25}}});function Ws(){this.type="StereoCamera";this.aspect=1;this.eyeSep=.064;this.cameraL=new jo;this.cameraL.layers.enable(1);this.cameraL.matrixAutoUpdate=false;this.cameraR=new jo;this.cameraR.layers.enable(2);this.cameraR.matrixAutoUpdate=false}Object.assign(Ws.prototype,{update:function(){var e,t,i,r,n,a,o;var s=new Lt;var c=new Lt;return function l(u){var h=e!==this||t!==u.focus||i!==u.fov||r!==u.aspect*this.aspect||n!==u.near||a!==u.far||o!==u.zoom;if(h){e=this;t=u.focus;i=u.fov;r=u.aspect*this.aspect;n=u.near;a=u.far;o=u.zoom;var f=u.projectionMatrix.clone();var d=this.eyeSep/2;var p=d*n/t;var m=n*Math.tan(_t.DEG2RAD*i*.5)/o;var v,g;c.elements[12]=-d;s.elements[12]=d;v=-m*r+p;g=m*r+p;f.elements[0]=2*n/(g-v);f.elements[8]=(g+v)/(g-v);this.cameraL.projectionMatrix.copy(f);v=-m*r-p;g=m*r-p;f.elements[0]=2*n/(g-v);f.elements[8]=(g+v)/(g-v);this.cameraR.projectionMatrix.copy(f)}this.cameraL.matrixWorld.copy(u.matrixWorld).multiply(c);this.cameraR.matrixWorld.copy(u.matrixWorld).multiply(s)}}()});function Hs(e,t,i){Qt.call(this);this.type="CubeCamera";var r=90,n=1;var a=new jo(r,n,e,t);a.up.set(0,-1,0);a.lookAt(new At(1,0,0));this.add(a);var o=new jo(r,n,e,t);o.up.set(0,-1,0);o.lookAt(new At(-1,0,0));this.add(o);var s=new jo(r,n,e,t);s.up.set(0,0,1);s.lookAt(new At(0,1,0));this.add(s);var c=new jo(r,n,e,t);c.up.set(0,0,-1);c.lookAt(new At(0,-1,0));this.add(c);var l=new jo(r,n,e,t);l.up.set(0,-1,0);l.lookAt(new At(0,0,1));this.add(l);var u=new jo(r,n,e,t);u.up.set(0,-1,0);u.lookAt(new At(0,0,-1));this.add(u);var h={format:De,magFilter:ye,minFilter:ye};this.renderTarget=new xs(i,i,h);this.updateCubeMap=function(e,t,i){if(this.parent===null)this.updateMatrixWorld();var r=this.renderTarget;var n=r.texture.generateMipmaps;r.texture.generateMipmaps=false;r.activeCubeFace=0;e.render(t,a,r,i);r.activeCubeFace=1;e.render(t,o,r,i);r.activeCubeFace=2;e.render(t,s,r,i);r.activeCubeFace=3;e.render(t,c,r,i);r.activeCubeFace=4;e.render(t,l,r,i);r.texture.generateMipmaps=n;r.activeCubeFace=5;e.render(t,u,r,i);e.setRenderTarget(null)}}Hs.prototype=Object.create(Qt.prototype);Hs.prototype.constructor=Hs;function Zs(e,t){Qt.call(this);this.type="Light";this.color=new bt(e);this.intensity=t!==undefined?t:1;this.receiveShadow=undefined}Zs.prototype=Object.assign(Object.create(Qt.prototype),{constructor:Zs,isLight:true,copy:function(e){Qt.prototype.copy.call(this,e);this.color.copy(e.color);this.intensity=e.intensity;return this},toJSON:function(e){var t=Qt.prototype.toJSON.call(this,e);t.object.color=this.color.getHex();t.object.intensity=this.intensity;if(this.groundColor!==undefined)t.object.groundColor=this.groundColor.getHex();if(this.distance!==undefined)t.object.distance=this.distance;if(this.angle!==undefined)t.object.angle=this.angle;if(this.decay!==undefined)t.object.decay=this.decay;if(this.penumbra!==undefined)t.object.penumbra=this.penumbra;if(this.target!==undefined)t.object.target=this.target.uuid;if(this.shadow!==undefined)t.object.shadow=this.shadow.toJSON();return t}});function Ys(e){this.camera=e;this.bias=0;this.radius=1;this.mapSize=new Mt(512,512);this.map=null;this.matrix=new Lt}Object.assign(Ys.prototype,{copy:function(e){this.camera=e.camera.clone();this.bias=e.bias;this.radius=e.radius;this.mapSize.copy(e.mapSize);return this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e={};if(this.bias!==0)e.bias=this.bias;if(this.radius!==1)e.radius=this.radius;if(this.mapSize.x!==512||this.mapSize.y!==512)e.mapSize=this.mapSize.toArray();e.camera=this.camera.toJSON(false).object;delete e.camera.matrix;return e}});function qs(e,t){Zs.call(this,e,t);this.type="AmbientLight";this.castShadow=undefined}qs.prototype=Object.assign(Object.create(Zs.prototype),{constructor:qs,isAmbientLight:true});function Js(e,t,i){Zs.call(this,e,i);this.type="HemisphereLight";this.castShadow=undefined;this.position.copy(Qt.DefaultUp);this.updateMatrix();this.groundColor=new bt(t)}Js.prototype=Object.assign(Object.create(Zs.prototype),{constructor:Js,isHemisphereLight:true,copy:function(e){Zs.prototype.copy.call(this,e);this.groundColor.copy(e.groundColor);return this}});function Ks(e,t,i,r){Zs.call(this,e,t);this.type="RectAreaLight";this.position.copy(Qt.DefaultUp);this.updateMatrix();this.width=i!==undefined?i:10;this.height=r!==undefined?r:10}Ks.prototype=Object.assign(Object.create(Zs.prototype),{constructor:Ks,isRectAreaLight:true,copy:function(e){Zs.prototype.copy.call(this,e);this.width=e.width;this.height=e.height;return this},toJSON:function(e){var t=Zs.prototype.toJSON.call(this,e);t.object.width=this.width;t.object.height=this.height;return t}});function Qs(e,t,i,r){Zs.call(this,e,t);this.type="PointLight";Object.defineProperty(this,"power",{get:function(){return this.intensity*4*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}});this.distance=i!==undefined?i:0;this.decay=r!==undefined?r:1;this.shadow=new Ys(new jo(90,1,.5,500))}Qs.prototype=Object.assign(Object.create(Zs.prototype),{constructor:Qs,isPointLight:true,copy:function(e){Zs.prototype.copy.call(this,e);this.distance=e.distance;this.decay=e.decay;this.shadow=e.shadow.clone();return this}});function $s(){Ys.call(this,new Xo(-5,5,5,-5,.5,500))}$s.prototype=Object.assign(Object.create(Ys.prototype),{constructor:$s});function ec(e,t){Zs.call(this,e,t);this.type="DirectionalLight";this.position.copy(Qt.DefaultUp);this.updateMatrix();this.target=new Qt;this.shadow=new $s}ec.prototype=Object.assign(Object.create(Zs.prototype),{constructor:ec,isDirectionalLight:true,copy:function(e){Zs.prototype.copy.call(this,e);this.target=e.target.clone();this.shadow=e.shadow.clone();return this}});function tc(){Ys.call(this,new jo(50,1,.5,500))}tc.prototype=Object.assign(Object.create(Ys.prototype),{constructor:tc,isSpotLightShadow:true,update:function(e){var t=_t.RAD2DEG*2*e.angle;var i=this.mapSize.width/this.mapSize.height;var r=e.distance||500;var n=this.camera;if(t!==n.fov||i!==n.aspect||r!==n.far){n.fov=t;n.aspect=i;n.far=r;n.updateProjectionMatrix()}}});function ic(e,t,i,r,n,a){Zs.call(this,e,t);this.type="SpotLight";this.position.copy(Qt.DefaultUp);this.updateMatrix();this.target=new Qt;Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}});this.distance=i!==undefined?i:0;this.angle=r!==undefined?r:Math.PI/3;this.penumbra=n!==undefined?n:0;this.decay=a!==undefined?a:1;this.shadow=new tc}ic.prototype=Object.assign(Object.create(Zs.prototype),{constructor:ic,isSpotLight:true,copy:function(e){Zs.prototype.copy.call(this,e);this.distance=e.distance;this.angle=e.angle;this.penumbra=e.penumbra;this.decay=e.decay;this.target=e.target.clone();this.shadow=e.shadow.clone();return this}});function rc(e){e=e||1;var t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e];var i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1];var r=new yi;r.addAttribute("position",new ci(t,3));r.addAttribute("color",new ci(i,3));var n=new ws({vertexColors:x});Bs.call(this,r,n)}rc.prototype=Object.create(Bs.prototype);rc.prototype.constructor=rc;var nc;var ac;function oc(e,t,i,r,n,a){Qt.call(this);if(r===undefined)r=16776960;if(i===undefined)i=1;if(n===undefined)n=.2*i;if(a===undefined)a=.2*n;if(nc===undefined){nc=new yi;nc.addAttribute("position",new ci([0,0,0,0,1,0],3));ac=new Zi(0,.5,1,5,1);ac.translate(0,-.5,0)}this.position.copy(t);this.line=new zs(nc,new ws({color:r}));this.line.matrixAutoUpdate=false;this.add(this.line);this.cone=new Go(ac,new ko({color:r}));this.cone.matrixAutoUpdate=false;this.add(this.cone);this.setDirection(e);this.setLength(i,n,a)}oc.prototype=Object.create(Qt.prototype);oc.prototype.constructor=oc;oc.prototype.setDirection=function(){var e=new At;var t;return function i(r){if(r.y>.99999){this.quaternion.set(0,0,0,1)}else if(r.y<-.99999){this.quaternion.set(1,0,0,0)}else{e.set(r.z,0,-r.x).normalize();t=Math.acos(r.y);this.quaternion.setFromAxisAngle(e,t)}}}();oc.prototype.setLength=function(e,t,i){if(t===undefined)t=.2*e;if(i===undefined)i=.2*t;this.line.scale.set(1,Math.max(0,e-t),1);this.line.updateMatrix();this.cone.scale.set(i,t,i);this.cone.position.y=e;this.cone.updateMatrix()};oc.prototype.setColor=function(e){this.line.material.color.copy(e);this.cone.material.color.copy(e)};function sc(e,t){if(t===undefined)t=16776960;var i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]);var r=new Float32Array(8*3);var n=new yi;n.setIndex(new ei(i,1));n.addAttribute("position",new ei(r,3));Bs.call(this,n,new ws({color:t}));if(e!==undefined){this.update(e)}}sc.prototype=Object.create(Bs.prototype);sc.prototype.constructor=sc;sc.prototype.update=function(){var e=new Rt;return function t(i){if(i&&i.isBox3){e.copy(i)}else{e.setFromObject(i)}if(e.isEmpty())return;var r=e.min;var n=e.max;var a=this.geometry.attributes.position;var o=a.array;o[0]=n.x;o[1]=n.y;o[2]=n.z;o[3]=r.x;o[4]=n.y;o[5]=n.z;o[6]=r.x;o[7]=r.y;o[8]=n.z;o[9]=n.x;o[10]=r.y;o[11]=n.z;o[12]=n.x;o[13]=n.y;o[14]=r.z;o[15]=r.x;o[16]=n.y;o[17]=r.z;o[18]=r.x;o[19]=r.y;o[20]=r.z;o[21]=n.x;o[22]=r.y;o[23]=r.z;a.needsUpdate=true;this.geometry.computeBoundingSphere()}}();function cc(e){var t=new yi;var i=new ws({color:16777215,vertexColors:y});var r=[];var n=[];var a={};var o=new bt(16755200);var s=new bt(16711680);var c=new bt(43775);var l=new bt(16777215);var u=new bt(3355443);h("n1","n2",o);h("n2","n4",o);h("n4","n3",o);h("n3","n1",o);h("f1","f2",o);h("f2","f4",o);h("f4","f3",o);h("f3","f1",o);h("n1","f1",o);h("n2","f2",o);h("n3","f3",o);h("n4","f4",o);h("p","n1",s);h("p","n2",s);h("p","n3",s);h("p","n4",s);h("u1","u2",c);h("u2","u3",c);h("u3","u1",c);h("c","t",l);h("p","c",u);h("cn1","cn2",u);h("cn3","cn4",u);h("cf1","cf2",u);h("cf3","cf4",u);function h(e,t,i){f(e,i);f(t,i)}function f(e,t){r.push(0,0,0);n.push(t.r,t.g,t.b);if(a[e]===undefined){a[e]=[]}a[e].push(r.length/3-1)}t.addAttribute("position",new ci(r,3));t.addAttribute("color",new ci(n,3));Bs.call(this,t,i);this.camera=e;if(this.camera.updateProjectionMatrix)this.camera.updateProjectionMatrix();this.matrix=e.matrixWorld;this.matrixAutoUpdate=false;this.pointMap=a;this.update()}cc.prototype=Object.create(Bs.prototype);cc.prototype.constructor=cc;cc.prototype.update=function(){var e,t;var i=new At;var r=new Vo;function n(n,a,o,s){i.set(a,o,s).unproject(r);var c=t[n];if(c!==undefined){var l=e.getAttribute("position");for(var u=0,h=c.length;u<h;u++){l.setXYZ(c[u],i.x,i.y,i.z)}}}return function i(){e=this.geometry;t=this.pointMap;var a=1,o=1;r.projectionMatrix.copy(this.camera.projectionMatrix);n("c",0,0,-1);n("t",0,0,1);n("n1",-a,-o,-1);n("n2",a,-o,-1);n("n3",-a,o,-1);n("n4",a,o,-1);n("f1",-a,-o,1);n("f2",a,-o,1);n("f3",-a,o,1);n("f4",a,o,1);n("u1",a*.7,o*1.1,-1);n("u2",-a*.7,o*1.1,-1);n("u3",0,o*2,-1);n("cf1",-a,0,1);n("cf2",a,0,1);n("cf3",0,-o,1);n("cf4",0,o,1);n("cn1",-a,0,-1);n("cn2",a,0,-1);n("cn3",0,-o,-1);n("cn4",0,o,-1);e.getAttribute("position").needsUpdate=true}}();function lc(e,t,i,r){this.object=e;this.size=t!==undefined?t:1;var n=i!==undefined?i:16776960;var a=r!==undefined?r:1;var o=0;var s=this.object.geometry;if(s&&s.isGeometry){o=s.faces.length}else{console.warn("SZX3D.FaceNormalsHelper: only SZX3D.Geometry is supported. Use SZX3D.VertexNormalsHelper, instead.")}var c=new yi;var l=new ci(o*2*3,3);c.addAttribute("position",l);Bs.call(this,c,new ws({color:n,linewidth:a}));this.matrixAutoUpdate=false;this.update()}lc.prototype=Object.create(Bs.prototype);lc.prototype.constructor=lc;lc.prototype.update=function(){var e=new At;var t=new At;var i=new Et;return function r(){this.object.updateMatrixWorld(true);i.getNormalMatrix(this.object.matrixWorld);var n=this.object.matrixWorld;var a=this.geometry.attributes.position;var o=this.object.geometry;var s=o.vertices;var c=o.faces;var l=0;for(var u=0,h=c.length;u<h;u++){var f=c[u];var d=f.normal;e.copy(s[f.a]).add(s[f.b]).add(s[f.c]).divideScalar(3).applyMatrix4(n);t.copy(d).applyMatrix3(i).normalize().multiplyScalar(this.size).add(e);a.setXYZ(l,e.x,e.y,e.z);l=l+1;a.setXYZ(l,t.x,t.y,t.z);l=l+1}a.needsUpdate=true;return this}}();function uc(e,t,i,r,n,a){e=e||10;t=t||16;i=i||8;r=r||64;n=new bt(n!==undefined?n:4473924);a=new bt(a!==undefined?a:8947848);var o=[];var s=[];var c,l;var u,h,f,d,p;for(h=0;h<=t;h++){u=h/t*(Math.PI*2);c=Math.sin(u)*e;l=Math.cos(u)*e;o.push(0,0,0);o.push(c,0,l);p=h&1?n:a;s.push(p.r,p.g,p.b);s.push(p.r,p.g,p.b)}for(h=0;h<=i;h++){p=h&1?n:a;d=e-e/i*h;for(f=0;f<r;f++){u=f/r*(Math.PI*2);c=Math.sin(u)*d;l=Math.cos(u)*d;o.push(c,0,l);s.push(p.r,p.g,p.b);u=(f+1)/r*(Math.PI*2);c=Math.sin(u)*d;l=Math.cos(u)*d;o.push(c,0,l);s.push(p.r,p.g,p.b)}}var m=new yi;m.addAttribute("position",new ci(o,3));m.addAttribute("color",new ci(s,3));var v=new ws({vertexColors:x});Bs.call(this,m,v)}uc.prototype=Object.create(Bs.prototype);uc.prototype.constructor=uc;function hc(e,t,i,r){e=e||10;t=t||10;i=new bt(i!==undefined?i:4473924);r=new bt(r!==undefined?r:8947848);var n=t/2;var a=e/t;var o=e/2;var s=[],c=[];for(var l=0,u=0,h=-o;l<=t;l++,h+=a){s.push(-o,0,h,o,0,h);s.push(h,0,-o,h,0,o);var f=l===n?i:r;f.toArray(c,u);u+=3;f.toArray(c,u);u+=3;f.toArray(c,u);u+=3;f.toArray(c,u);u+=3}var d=new yi;d.addAttribute("position",new ci(s,3));d.addAttribute("color",new ci(c,3));var p=new ws({vertexColors:x});Bs.call(this,d,p)}hc.prototype=Object.create(Bs.prototype);hc.prototype.constructor=hc;function fc(e,t){this.light=e;this.light.updateMatrixWorld();var i=new cr(t,6,3);var r=new ko({wireframe:true,fog:false});r.color.copy(this.light.color);Go.call(this,i,r);this.matrix=this.light.matrixWorld;this.matrixAutoUpdate=false}fc.prototype=Object.create(Go.prototype);fc.prototype.constructor=fc;fc.prototype.dispose=function(){this.geometry.dispose();this.material.dispose()};fc.prototype.update=function(){this.material.color.copy(this.light.color)};function dc(e,t){Qt.call(this);this.light=e;this.light.updateMatrixWorld();this.matrix=e.matrixWorld;this.matrixAutoUpdate=false;var i=new Mr(t);i.rotateY(Math.PI*.5);var r=new ko({vertexColors:x,wireframe:true});var n=i.getAttribute("position");var a=new Float32Array(n.count*3);i.addAttribute("color",new ei(a,3));this.add(new Go(i,r));this.update()}dc.prototype=Object.create(Qt.prototype);dc.prototype.constructor=dc;dc.prototype.dispose=function(){this.children[0].geometry.dispose();this.children[0].material.dispose()};dc.prototype.update=function(){var e=new At;var t=new bt;var i=new bt;return function r(){var n=this.children[0];var a=n.geometry.getAttribute("color");t.copy(this.light.color).multiplyScalar(this.light.intensity);i.copy(this.light.groundColor).multiplyScalar(this.light.intensity);for(var o=0,s=a.count;o<s;o++){var c=o<s/2?t:i;a.setXYZ(o,c.r,c.g,c.b)}n.lookAt(e.setFromMatrixPosition(this.light.matrixWorld).negate());a.needsUpdate=true}}();function pc(e,t){this.light=e;this.light.updateMatrixWorld();var i=new cr(t,4,2);var r=new ko({wireframe:true,fog:false});r.color.copy(this.light.color).multiplyScalar(this.light.intensity);Go.call(this,i,r);this.matrix=this.light.matrixWorld;this.matrixAutoUpdate=false}pc.prototype=Object.create(Go.prototype);pc.prototype.constructor=pc;pc.prototype.dispose=function(){this.geometry.dispose();this.material.dispose()};pc.prototype.update=function(){this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)};function mc(e){Qt.call(this);this.light=e;this.light.updateMatrixWorld();this.matrix=e.matrixWorld;this.matrixAutoUpdate=false;var t=new yi;t.setIndex(new ai([0,1,1,2,2,3,3,0,0,2,1,3],1));t.addAttribute("position",new ci(12,3));var i=new ws({fog:false});this.add(new Bs(t,i));t=new yi;t.addAttribute("position",new ci([0,0,0,0,0,1],3));this.add(new Bs(t,i));this.update()}mc.prototype=Object.create(Qt.prototype);mc.prototype.constructor=mc;mc.prototype.dispose=function(){var e=this.children[0];var t=this.children[1];e.geometry.dispose();e.material.dispose();t.geometry.dispose();t.material.dispose()};mc.prototype.update=function(){var e=new At;var t=new At;var i=new At;return function r(){var n=this.children[0];var a=this.children[1];var o=n.geometry.attributes.position;var s=o.array;var c=this.light.width/2;var l=this.light.height/2;s[0]=-c;s[1]=l;s[2]=0;s[3]=c;s[4]=l;s[5]=0;s[6]=c;s[7]=-l;s[8]=0;s[9]=-c;s[10]=-l;s[11]=0;o.needsUpdate=true;n.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);if(this.light.target!==undefined&&this.light.target instanceof Qt){e.setFromMatrixPosition(this.light.matrixWorld);t.setFromMatrixPosition(this.light.target.matrixWorld);i.subVectors(t,e);n.lookAt(i);a.lookAt(i);a.scale.z=i.length()}else{}}}();function vc(e,t){Qt.call(this);this.light=e;this.light.updateMatrixWorld();this.matrix=e.matrixWorld;this.matrixAutoUpdate=false;if(t===undefined)t=1;var i=new yi;i.addAttribute("position",new ci([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));var r=new ws({fog:false});this.add(new zs(i,r));i=new yi;i.addAttribute("position",new ci([0,0,0,0,0,1],3));this.add(new zs(i,r));this.update()}vc.prototype=Object.create(Qt.prototype);vc.prototype.constructor=vc;vc.prototype.dispose=function(){var e=this.children[0];var t=this.children[1];e.geometry.dispose();e.material.dispose();t.geometry.dispose();t.material.dispose()};vc.prototype.update=function(){var e=new At;var t=new At;var i=new At;return function r(){e.setFromMatrixPosition(this.light.matrixWorld);t.setFromMatrixPosition(this.light.target.matrixWorld);i.subVectors(t,e);var n=this.children[0];var a=this.children[1];n.lookAt(i);n.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);a.lookAt(i);a.scale.z=i.length()}}();function gc(e){Qt.call(this);this.light=e;this.light.updateMatrixWorld();this.matrix=e.matrixWorld;this.matrixAutoUpdate=false;var t=new yi;var i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1,1,0,1,-1,0,1,0,1,1,0,-1,1];for(var r=0,n=1,a=32;r<a;r++,n++){var o=r/a*Math.PI*2;var s=n/a*Math.PI*2;i.push(Math.cos(o),Math.sin(o),1,Math.cos(s),Math.sin(s),1)}t.addAttribute("position",new ci(i,3));var c=new ws({fog:false});this.cone=new Bs(t,c);this.add(this.cone);t=new yi;t.addAttribute("position",new ci([0,0,0,0,0,1],3));this.targetLine=new Bs(t,c);this.add(this.targetLine);this.update()}gc.prototype=Object.create(Qt.prototype);gc.prototype.constructor=gc;gc.prototype.dispose=function(){this.cone.geometry.dispose();this.cone.material.dispose();this.targetLine.geometry.dispose();this.targetLine.material.dispose()};gc.prototype.update=function(){var e=new At;var t=new At;var i=new At;return function r(){var n=this.light.distance?this.light.distance:1e3;var a=n*Math.tan(this.light.angle);this.cone.scale.set(a,a,n);e.setFromMatrixPosition(this.light.matrixWorld);t.setFromMatrixPosition(this.light.target.matrixWorld);i.subVectors(t,e);this.cone.lookAt(t.sub(e));this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);this.targetLine.lookAt(i);this.targetLine.scale.z=i.length()}}();function yc(e,t){this.light=e;this.target=function(){if(e.target===undefined){var t=new Qt;t.position.setFromMatrixPosition(e.matrixWorld);return t}else{return e.target}}();this.target.updateMatrixWorld();var i=new bt;if(e.intensity===undefined){i.copy(e.color)}else{i.copy(e.color).multiplyScalar(e.intensity)}if(typeof t!=="number"||t===0)t=1;t=t/2;var r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]);var n=new Float32Array([t,t,t,-t,t,t,-t,-t,t,t,-t,t,t,t,-t,-t,t,-t,-t,-t,-t,t,-t,-t]);var a=new yi;a.setIndex(new ei(r,1));a.addAttribute("position",new ei(n,3));Bs.call(this,a,new ws({color:i}));this.matrix=this.target.matrixWorld;this.matrixAutoUpdate=false;this.update()}yc.prototype=Object.create(Bs.prototype);yc.prototype.constructor=yc;yc.prototype.dispose=function(){this.geometry.dispose();this.material.dispose()};yc.prototype.update=function(){if(this.light.intensity===undefined){this.material.color.copy(this.light.color)}else{this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)}};function xc(e){this.bones=this.getBoneList(e);var t=new yi;var i=[];var r=[];var n=new bt(0,0,1);var a=new bt(0,1,0);for(var o=0;o<this.bones.length;o++){var s=this.bones[o];if(s.parent&&s.parent.isBone){i.push(0,0,0);i.push(0,0,0);r.push(n.r,n.g,n.b);r.push(a.r,a.g,a.b)}}t.addAttribute("position",new ci(i,3));t.addAttribute("color",new ci(r,3));var c=new ws({vertexColors:x,depthTest:false,depthWrite:false,transparent:true});Bs.call(this,t,c);this.root=e;this.matrix=e.matrixWorld;this.matrixAutoUpdate=false;this.update()}xc.prototype=Object.create(Bs.prototype);xc.prototype.constructor=xc;xc.prototype.getBoneList=function(e){var t=[];if(e&&e.isBone){t.push(e)}for(var i=0;i<e.children.length;i++){t.push.apply(t,this.getBoneList(e.children[i]))}return t};xc.prototype.update=function(){var e=new At;var t=new Lt;var i=new Lt;return function r(){var n=this.geometry;var a=n.getAttribute("position");i.getInverse(this.root.matrixWorld);for(var o=0,s=0;o<this.bones.length;o++){var c=this.bones[o];if(c.parent&&c.parent.isBone){t.multiplyMatrices(i,c.matrixWorld);e.setFromMatrixPosition(t);a.setXYZ(s,e.x,e.y,e.z);t.multiplyMatrices(i,c.parent.matrixWorld);e.setFromMatrixPosition(t);a.setXYZ(s+1,e.x,e.y,e.z);s+=2}}n.getAttribute("position").needsUpdate=true}}();function _c(e,t,i,r){this.object=e;this.size=t!==undefined?t:1;var n=i!==undefined?i:16711680;var a=r!==undefined?r:1;var o=0;var s=this.object.geometry;if(s&&s.isGeometry){o=s.faces.length*3}else if(s&&s.isBufferGeometry){o=s.attributes.normal.count}var c=new yi;var l=new ci(o*2*3,3);c.addAttribute("position",l);Bs.call(this,c,new ws({color:n,linewidth:a}));this.matrixAutoUpdate=false;this.update()}_c.prototype=Object.create(Bs.prototype);_c.prototype.constructor=_c;_c.prototype.update=function(){var e=new At;var t=new At;var i=new Et;return function r(){var n=["a","b","c"];this.object.updateMatrixWorld(true);i.getNormalMatrix(this.object.matrixWorld);var a=this.object.matrixWorld;var o=this.geometry.attributes.position;var s=this.object.geometry;if(s&&s.isGeometry){var c=s.vertices;var l=s.faces;var u=0;for(var h=0,f=l.length;h<f;h++){var d=l[h];for(var p=0,m=d.vertexNormals.length;p<m;p++){var v=c[d[n[p]]];var g=d.vertexNormals[p];e.copy(v).applyMatrix4(a);t.copy(g).applyMatrix3(i).normalize().multiplyScalar(this.size).add(e);o.setXYZ(u,e.x,e.y,e.z);u=u+1;o.setXYZ(u,t.x,t.y,t.z);u=u+1}}}else if(s&&s.isBufferGeometry){var y=s.attributes.position;var x=s.attributes.normal;var u=0;for(var p=0,m=y.count;p<m;p++){e.set(y.getX(p),y.getY(p),y.getZ(p)).applyMatrix4(a);t.set(x.getX(p),x.getY(p),x.getZ(p));t.applyMatrix3(i).normalize().multiplyScalar(this.size).add(e);o.setXYZ(u,e.x,e.y,e.z);u=u+1;o.setXYZ(u,t.x,t.y,t.z);u=u+1}}o.needsUpdate=true;return this}}();var bc={createMultiMaterialObject:function(e,t){var i=new Us;for(var r=0,n=t.length;r<n;r++){i.add(new Go(e,t[r]))}return i},detach:function(e,t,i){e.applyMatrix(t.matrixWorld);t.remove(e);i.add(e)},attach:function(e,t,i){var r=new Lt;r.getInverse(i.matrixWorld);e.applyMatrix(r);t.remove(e);i.add(e)}};function wc(){}wc.prototype={constructor:wc,getPoint:function(e){console.warn("SZX3D.Curve: Warning, getPoint() not implemented!");return null},getPointAt:function(e){var t=this.getUtoTmapping(e);return this.getPoint(t)},getPoints:function(e){if(isNaN(e))e=5;var t=[];for(var i=0;i<=e;i++){t.push(this.getPoint(i/e))}return t},getSpacedPoints:function(e){if(isNaN(e))e=5;var t=[];for(var i=0;i<=e;i++){t.push(this.getPointAt(i/e))}return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(isNaN(e))e=this.__arcLengthDivisions?this.__arcLengthDivisions:200;if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate){return this.cacheArcLengths}this.needsUpdate=false;var t=[];var i,r=this.getPoint(0);var n,a=0;t.push(0);for(n=1;n<=e;n++){i=this.getPoint(n/e);a+=i.distanceTo(r);t.push(a);r=i}this.cacheArcLengths=t;return t},updateArcLengths:function(){this.needsUpdate=true;this.getLengths()},getUtoTmapping:function(e,t){var i=this.getLengths();var r=0,n=i.length;var a;if(t){a=t}else{a=e*i[n-1]}var o=0,s=n-1,c;while(o<=s){r=Math.floor(o+(s-o)/2);c=i[r]-a;if(c<0){o=r+1}else if(c>0){s=r-1}else{s=r;break}}r=s;if(i[r]===a){var l=r/(n-1);return l}var u=i[r];var h=i[r+1];var f=h-u;var d=(a-u)/f;var l=(r+d)/(n-1);return l},getTangent:function(e){var t=1e-4;var i=e-t;var r=e+t;if(i<0)i=0;if(r>1)r=1;var n=this.getPoint(i);var a=this.getPoint(r);var o=a.clone().sub(n);return o.normalize()},getTangentAt:function(e){var t=this.getUtoTmapping(e);return this.getTangent(t)},computeFrenetFrames:function(e,t){var i=new At;var r=[];var n=[];var a=[];var o=new At;var s=new Lt;var c,l,u;for(c=0;c<=e;c++){l=c/e;r[c]=this.getTangentAt(l);r[c].normalize()}n[0]=new At;a[0]=new At;var h=Number.MAX_VALUE;var f=Math.abs(r[0].x);var d=Math.abs(r[0].y);var p=Math.abs(r[0].z);if(f<=h){h=f;i.set(1,0,0)}if(d<=h){h=d;i.set(0,1,0)}if(p<=h){i.set(0,0,1)}o.crossVectors(r[0],i).normalize();n[0].crossVectors(r[0],o);a[0].crossVectors(r[0],n[0]);for(c=1;c<=e;c++){
n[c]=n[c-1].clone();a[c]=a[c-1].clone();o.crossVectors(r[c-1],r[c]);if(o.length()>Number.EPSILON){o.normalize();u=Math.acos(_t.clamp(r[c-1].dot(r[c]),-1,1));n[c].applyMatrix4(s.makeRotationAxis(o,u))}a[c].crossVectors(r[c],n[c])}if(t===true){u=Math.acos(_t.clamp(n[0].dot(n[e]),-1,1));u/=e;if(r[0].dot(o.crossVectors(n[0],n[e]))>0){u=-u}for(c=1;c<=e;c++){n[c].applyMatrix4(s.makeRotationAxis(r[c],u*c));a[c].crossVectors(r[c],n[c])}}return{tangents:r,normals:n,binormals:a}}};function Mc(e,t){this.v1=e;this.v2=t}Mc.prototype=Object.create(wc.prototype);Mc.prototype.constructor=Mc;Mc.prototype.isLineCurve=true;Mc.prototype.getPoint=function(e){if(e===1){return this.v2.clone()}var t=this.v2.clone().sub(this.v1);t.multiplyScalar(e).add(this.v1);return t};Mc.prototype.getPointAt=function(e){return this.getPoint(e)};Mc.prototype.getTangent=function(e){var t=this.v2.clone().sub(this.v1);return t.normalize()};function Sc(){this.curves=[];this.autoClose=false}Sc.prototype=Object.assign(Object.create(wc.prototype),{constructor:Sc,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0);var t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){this.curves.push(new Mc(t,e))}},getPoint:function(e){var t=e*this.getLength();var i=this.getCurveLengths();var r=0;while(r<i.length){if(i[r]>=t){var n=i[r]-t;var a=this.curves[r];var o=a.getLength();var s=o===0?0:1-n/o;return a.getPointAt(s)}r++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=true;this.cacheLengths=null;this.getLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length){return this.cacheLengths}var e=[],t=0;for(var i=0,r=this.curves.length;i<r;i++){t+=this.curves[i].getLength();e.push(t)}this.cacheLengths=e;return e},getSpacedPoints:function(e){if(isNaN(e))e=40;var t=[];for(var i=0;i<=e;i++){t.push(this.getPoint(i/e))}if(this.autoClose){t.push(t[0])}return t},getPoints:function(e){e=e||12;var t=[],i;for(var r=0,n=this.curves;r<n.length;r++){var a=n[r];var o=a&&a.isEllipseCurve?e*2:a&&a.isLineCurve?1:a&&a.isSplineCurve?e*a.points.length:e;var s=a.getPoints(o);for(var c=0;c<s.length;c++){var l=s[c];if(i&&i.equals(l))continue;t.push(l);i=l}}if(this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])){t.push(t[0])}return t},createPointsGeometry:function(e){var t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){var t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){var t=new vi;for(var i=0,r=e.length;i<r;i++){var n=e[i];t.vertices.push(new At(n.x,n.y,n.z||0))}return t}});function Tc(e,t,i,r,n){var a=(r-t)*.5;var o=(n-i)*.5;var s=e*e;var c=e*s;return(2*i-2*r+a+o)*c+(-3*i+3*r-2*a-o)*s+a*e+i}function Ac(e,t){var i=1-e;return i*i*t}function Lc(e,t){return 2*(1-e)*e*t}function Ec(e,t){return e*e*t}function Pc(e,t,i,r){return Ac(e,t)+Lc(e,i)+Ec(e,r)}function Cc(e,t){var i=1-e;return i*i*i*t}function Ic(e,t){var i=1-e;return 3*i*i*e*t}function Rc(e,t){return 3*(1-e)*e*e*t}function Nc(e,t){return e*e*e*t}function Dc(e,t,i,r,n){return Cc(e,t)+Ic(e,i)+Rc(e,r)+Nc(e,n)}function Uc(e,t,i,r,n,a,o,s){this.aX=e;this.aY=t;this.xRadius=i;this.yRadius=r;this.aStartAngle=n;this.aEndAngle=a;this.aClockwise=o;this.aRotation=s||0}Uc.prototype=Object.create(wc.prototype);Uc.prototype.constructor=Uc;Uc.prototype.isEllipseCurve=true;Uc.prototype.getPoint=function(e){var t=Math.PI*2;var i=this.aEndAngle-this.aStartAngle;var r=Math.abs(i)<Number.EPSILON;while(i<0)i+=t;while(i>t)i-=t;if(i<Number.EPSILON){if(r){i=0}else{i=t}}if(this.aClockwise===true&&!r){if(i===t){i=-t}else{i=i-t}}var n=this.aStartAngle+e*i;var a=this.aX+this.xRadius*Math.cos(n);var o=this.aY+this.yRadius*Math.sin(n);if(this.aRotation!==0){var s=Math.cos(this.aRotation);var c=Math.sin(this.aRotation);var l=a-this.aX;var u=o-this.aY;a=l*s-u*c+this.aX;o=l*c+u*s+this.aY}return new Mt(a,o)};function Oc(e){this.points=e===undefined?[]:e}Oc.prototype=Object.create(wc.prototype);Oc.prototype.constructor=Oc;Oc.prototype.isSplineCurve=true;Oc.prototype.getPoint=function(e){var t=this.points;var i=(t.length-1)*e;var r=Math.floor(i);var n=i-r;var a=t[r===0?r:r-1];var o=t[r];var s=t[r>t.length-2?t.length-1:r+1];var c=t[r>t.length-3?t.length-1:r+2];return new Mt(Tc(n,a.x,o.x,s.x,c.x),Tc(n,a.y,o.y,s.y,c.y))};function zc(e,t,i,r){this.v0=e;this.v1=t;this.v2=i;this.v3=r}zc.prototype=Object.create(wc.prototype);zc.prototype.constructor=zc;zc.prototype.getPoint=function(e){var t=this.v0,i=this.v1,r=this.v2,n=this.v3;return new Mt(Dc(e,t.x,i.x,r.x,n.x),Dc(e,t.y,i.y,r.y,n.y))};function Bc(e,t,i){this.v0=e;this.v1=t;this.v2=i}Bc.prototype=Object.create(wc.prototype);Bc.prototype.constructor=Bc;Bc.prototype.getPoint=function(e){var t=this.v0,i=this.v1,r=this.v2;return new Mt(Pc(e,t.x,i.x,r.x),Pc(e,t.y,i.y,r.y))};var Fc=Object.assign(Object.create(Sc.prototype),{fromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,i=e.length;t<i;t++){this.lineTo(e[t].x,e[t].y)}},moveTo:function(e,t){this.currentPoint.set(e,t)},lineTo:function(e,t){var i=new Mc(this.currentPoint.clone(),new Mt(e,t));this.curves.push(i);this.currentPoint.set(e,t)},quadraticCurveTo:function(e,t,i,r){var n=new Bc(this.currentPoint.clone(),new Mt(e,t),new Mt(i,r));this.curves.push(n);this.currentPoint.set(i,r)},bezierCurveTo:function(e,t,i,r,n,a){var o=new zc(this.currentPoint.clone(),new Mt(e,t),new Mt(i,r),new Mt(n,a));this.curves.push(o);this.currentPoint.set(n,a)},splineThru:function(e){var t=[this.currentPoint.clone()].concat(e);var i=new Oc(t);this.curves.push(i);this.currentPoint.copy(e[e.length-1])},arc:function(e,t,i,r,n,a){var o=this.currentPoint.x;var s=this.currentPoint.y;this.absarc(e+o,t+s,i,r,n,a)},absarc:function(e,t,i,r,n,a){this.absellipse(e,t,i,i,r,n,a)},ellipse:function(e,t,i,r,n,a,o,s){var c=this.currentPoint.x;var l=this.currentPoint.y;this.absellipse(e+c,t+l,i,r,n,a,o,s)},absellipse:function(e,t,i,r,n,a,o,s){var c=new Uc(e,t,i,r,n,a,o,s);if(this.curves.length>0){var l=c.getPoint(0);if(!l.equals(this.currentPoint)){this.lineTo(l.x,l.y)}}this.curves.push(c);var u=c.getPoint(1);this.currentPoint.copy(u)}});function kc(e){Sc.call(this);this.currentPoint=new Mt;if(e){this.fromPoints(e)}}kc.prototype=Fc;Fc.constructor=kc;function Gc(){kc.apply(this,arguments);this.holes=[]}Gc.prototype=Object.assign(Object.create(Fc),{constructor:Gc,getPointsHoles:function(e){var t=[];for(var i=0,r=this.holes.length;i<r;i++){t[i]=this.holes[i].getPoints(e)}return t},extractAllPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},extractPoints:function(e){return this.extractAllPoints(e)}});function Vc(){this.subPaths=[];this.currentPath=null}Vc.prototype={moveTo:function(e,t){this.currentPath=new kc;this.subPaths.push(this.currentPath);this.currentPath.moveTo(e,t)},lineTo:function(e,t){this.currentPath.lineTo(e,t)},quadraticCurveTo:function(e,t,i,r){this.currentPath.quadraticCurveTo(e,t,i,r)},bezierCurveTo:function(e,t,i,r,n,a){this.currentPath.bezierCurveTo(e,t,i,r,n,a)},splineThru:function(e){this.currentPath.splineThru(e)},toShapes:function(e,t){function i(e){var t=[];for(var i=0,r=e.length;i<r;i++){var n=e[i];var a=new Gc;a.curves=n.curves;t.push(a)}return t}function r(e,t){var i=t.length;var r=false;for(var n=i-1,a=0;a<i;n=a++){var o=t[n];var s=t[a];var c=s.x-o.x;var l=s.y-o.y;if(Math.abs(l)>Number.EPSILON){if(l<0){o=t[a];c=-c;s=t[n];l=-l}if(e.y<o.y||e.y>s.y)continue;if(e.y===o.y){if(e.x===o.x)return true}else{var u=l*(e.x-o.x)-c*(e.y-o.y);if(u===0)return true;if(u<0)continue;r=!r}}else{if(e.y!==o.y)continue;if(s.x<=e.x&&e.x<=o.x||o.x<=e.x&&e.x<=s.x)return true}}return r}var n=Ki.isClockWise;var a=this.subPaths;if(a.length===0)return[];if(t===true)return i(a);var o,s,c,l=[];if(a.length===1){s=a[0];c=new Gc;c.curves=s.curves;l.push(c);return l}var u=!n(a[0].getPoints());u=e?!u:u;var h=[];var f=[];var d=[];var p=0;var m;f[p]=undefined;d[p]=[];for(var v=0,g=a.length;v<g;v++){s=a[v];m=s.getPoints();o=n(m);o=e?!o:o;if(o){if(!u&&f[p])p++;f[p]={s:new Gc,p:m};f[p].s.curves=s.curves;if(u)p++;d[p]=[]}else{d[p].push({h:s,p:m[0]})}}if(!f[0])return i(a);if(f.length>1){var y=false;var x=[];for(var _=0,b=f.length;_<b;_++){h[_]=[]}for(var _=0,b=f.length;_<b;_++){var w=d[_];for(var M=0;M<w.length;M++){var S=w[M];var T=true;for(var A=0;A<f.length;A++){if(r(S.p,f[A].p)){if(_!==A)x.push({froms:_,tos:A,hole:M});if(T){T=false;h[A].push(S)}else{y=true}}}if(T){h[_].push(S)}}}if(x.length>0){if(!y)d=h}}var L;for(var v=0,E=f.length;v<E;v++){c=f[v].s;l.push(c);L=d[v];for(var P=0,C=L.length;P<C;P++){c.holes.push(L[P].h)}}return l}};function jc(e){this.data=e}Object.assign(jc.prototype,{isFont:true,generateShapes:function(e,t,i){function r(e){var i=String(e).split("");var r=t/a.resolution;var o=(a.boundingBox.yMax-a.boundingBox.yMin+a.underlineThickness)*r;var s=0,c=0;var l=[];for(var u=0;u<i.length;u++){var h=i[u];if(h==="\n"){s=0;c-=o}else{var f=n(h,r,s,c);s+=f.offsetX;l.push(f.path)}}return l}function n(e,t,r,n){var o=a.glyphs[e]||a.glyphs["?"];if(!o)return;var s=new Vc;var c=[];var l,u,h,f,d,p,m,v,g,y,x;if(o.o){var _=o._cachedOutline||(o._cachedOutline=o.o.split(" "));for(var b=0,w=_.length;b<w;){var M=_[b++];switch(M){case"m":l=_[b++]*t+r;u=_[b++]*t+n;s.moveTo(l,u);break;case"l":l=_[b++]*t+r;u=_[b++]*t+n;s.lineTo(l,u);break;case"q":h=_[b++]*t+r;f=_[b++]*t+n;m=_[b++]*t+r;v=_[b++]*t+n;s.quadraticCurveTo(m,v,h,f);x=c[c.length-1];if(x){d=x.x;p=x.y;for(var S=1;S<=i;S++){var T=S/i;Pc(T,d,m,h);Pc(T,p,v,f)}}break;case"b":h=_[b++]*t+r;f=_[b++]*t+n;m=_[b++]*t+r;v=_[b++]*t+n;g=_[b++]*t+r;y=_[b++]*t+n;s.bezierCurveTo(m,v,g,y,h,f);x=c[c.length-1];if(x){d=x.x;p=x.y;for(var S=1;S<=i;S++){var T=S/i;Dc(T,d,m,g,h);Dc(T,p,v,y,f)}}break}}}return{offsetX:o.ha*t,path:s}}if(t===undefined)t=100;if(i===undefined)i=4;var a=this.data;var o=r(e);var s=[];for(var c=0,l=o.length;c<l;c++){Array.prototype.push.apply(s,o[c].toShapes())}return s}});function Xc(e,t,i,r,n,a){Uc.call(this,e,t,i,i,r,n,a)}Xc.prototype=Object.create(Uc.prototype);Xc.prototype.constructor=Xc;function Wc(e,t){this.v1=e;this.v2=t}Wc.prototype=Object.create(wc.prototype);Wc.prototype.constructor=Wc;Wc.prototype.getPoint=function(e){if(e===1){return this.v2.clone()}var t=new At;t.subVectors(this.v2,this.v1);t.multiplyScalar(e);t.add(this.v1);return t};function Hc(e,t,i){this.v0=e;this.v1=t;this.v2=i}Hc.prototype=Object.create(wc.prototype);Hc.prototype.constructor=Hc;Hc.prototype.getPoint=function(e){var t=this.v0,i=this.v1,r=this.v2;return new At(Pc(e,t.x,i.x,r.x),Pc(e,t.y,i.y,r.y),Pc(e,t.z,i.z,r.z))};function Zc(e,t,i,r){this.v0=e;this.v1=t;this.v2=i;this.v3=r}Zc.prototype=Object.create(wc.prototype);Zc.prototype.constructor=Zc;Zc.prototype.getPoint=function(e){var t=this.v0,i=this.v1,r=this.v2,n=this.v3;return new At(Dc(e,t.x,i.x,r.x,n.x),Dc(e,t.y,i.y,r.y,n.y),Dc(e,t.z,i.z,r.z,n.z))};function Yc(){var e=0,t=0,i=0,r=0;function n(n,a,o,s){e=n;t=o;i=-3*n+3*a-2*o-s;r=2*n-2*a+o+s}return{initCatmullRom:function(e,t,i,r,a){n(t,i,a*(i-e),a*(r-t))},initNonuniformCatmullRom:function(e,t,i,r,a,o,s){var c=(t-e)/a-(i-e)/(a+o)+(i-t)/o;var l=(i-t)/o-(r-t)/(o+s)+(r-i)/s;c*=o;l*=o;n(t,i,c,l)},calc:function(n){var a=n*n;var o=a*n;return e+t*n+i*a+r*o}}}var qc=new At;var Jc=new Yc;var Kc=new Yc;var Qc=new Yc;function $c(e){this.points=e||[];this.closed=false}$c.prototype=Object.create(wc.prototype);$c.prototype.constructor=$c;$c.prototype.getPoint=function(e){var t=this.points;var i=t.length;if(i<2)console.log("duh, you need at least 2 points");var r=(i-(this.closed?0:1))*e;var n=Math.floor(r);var a=r-n;if(this.closed){n+=n>0?0:(Math.floor(Math.abs(n)/t.length)+1)*t.length}else if(a===0&&n===i-1){n=i-2;a=1}var o,s,c,l;if(this.closed||n>0){o=t[(n-1)%i]}else{qc.subVectors(t[0],t[1]).add(t[0]);o=qc}s=t[n%i];c=t[(n+1)%i];if(this.closed||n+2<i){l=t[(n+2)%i]}else{qc.subVectors(t[i-1],t[i-2]).add(t[i-1]);l=qc}if(this.type===undefined||this.type==="centripetal"||this.type==="chordal"){var u=this.type==="chordal"?.5:.25;var h=Math.pow(o.distanceToSquared(s),u);var f=Math.pow(s.distanceToSquared(c),u);var d=Math.pow(c.distanceToSquared(l),u);if(f<1e-4)f=1;if(h<1e-4)h=f;if(d<1e-4)d=f;Jc.initNonuniformCatmullRom(o.x,s.x,c.x,l.x,h,f,d);Kc.initNonuniformCatmullRom(o.y,s.y,c.y,l.y,h,f,d);Qc.initNonuniformCatmullRom(o.z,s.z,c.z,l.z,h,f,d)}else if(this.type==="catmullrom"){var p=this.tension!==undefined?this.tension:.5;Jc.initCatmullRom(o.x,s.x,c.x,l.x,p);Kc.initCatmullRom(o.y,s.y,c.y,l.y,p);Qc.initCatmullRom(o.z,s.z,c.z,l.z,p)}return new At(Jc.calc(a),Kc.calc(a),Qc.calc(a))};NURBSUtils={findSpan:function(e,t,i){var r=i.length-e-1;if(t>=i[r]){return r-1}if(t<=i[e]){return e}var n=e;var a=r;var o=Math.floor((n+a)/2);while(t<i[o]||t>=i[o+1]){if(t<i[o]){a=o}else{n=o}o=Math.floor((n+a)/2)}return o},calcBasisFunctions:function(e,t,i,r){var n=[];var a=[];var o=[];n[0]=1;for(var s=1;s<=i;++s){a[s]=t-r[e+1-s];o[s]=r[e+s]-t;var c=0;for(var l=0;l<s;++l){var u=o[l+1];var h=a[s-l];var f=n[l]/(u+h);n[l]=c+u*f;c=h*f}n[s]=c}return n},calcBSplinePoint:function(e,t,i,r){var n=this.findSpan(e,r,t);var a=this.calcBasisFunctions(n,r,e,t);var o=new St(0,0,0,0);for(var s=0;s<=e;++s){var c=i[n-e+s];var l=a[s];var u=c.w*l;o.x+=c.x*u;o.y+=c.y*u;o.z+=c.z*u;o.w+=c.w*l}return o},calcBasisFunctionDerivatives:function(e,t,i,r,n){var a=[];for(var o=0;o<=i;++o)a[o]=0;var s=[];for(var o=0;o<=r;++o)s[o]=a.slice(0);var c=[];for(var o=0;o<=i;++o)c[o]=a.slice(0);c[0][0]=1;var l=a.slice(0);var u=a.slice(0);for(var h=1;h<=i;++h){l[h]=t-n[e+1-h];u[h]=n[e+h]-t;var f=0;for(var d=0;d<h;++d){var p=u[d+1];var m=l[h-d];c[h][d]=p+m;var v=c[d][h-1]/c[h][d];c[d][h]=f+p*v;f=m*v}c[h][h]=f}for(var h=0;h<=i;++h){s[0][h]=c[h][i]}for(var d=0;d<=i;++d){var g=0;var y=1;var x=[];for(var o=0;o<=i;++o){x[o]=a.slice(0)}x[0][0]=1;for(var _=1;_<=r;++_){var b=0;var w=d-_;var M=i-_;if(d>=_){x[y][0]=x[g][0]/c[M+1][w];b=x[y][0]*c[w][M]}var S=w>=-1?1:-w;var T=d-1<=M?_-1:i-d;for(var h=S;h<=T;++h){x[y][h]=(x[g][h]-x[g][h-1])/c[M+1][w+h];b+=x[y][h]*c[w+h][M]}if(d<=M){x[y][_]=-x[g][_-1]/c[M+1][d];b+=x[y][_]*c[d][M]}s[_][d]=b;var h=g;g=y;y=h}}var d=i;for(var _=1;_<=r;++_){for(var h=0;h<=i;++h){s[_][h]*=d}d*=i-_}return s},calcBSplineDerivatives:function(e,t,i,r,n){var a=n<e?n:e;var o=[];var s=this.findSpan(e,r,t);var c=this.calcBasisFunctionDerivatives(s,r,e,a,t);var l=[];for(var u=0;u<i.length;++u){var h=i[u].clone();var f=h.w;h.x*=f;h.y*=f;h.z*=f;l[u]=h}for(var d=0;d<=a;++d){var h=l[s-e].clone().multiplyScalar(c[d][0]);for(var p=1;p<=e;++p){h.add(l[s-e+p].clone().multiplyScalar(c[d][p]))}o[d]=h}for(var d=a+1;d<=n+1;++d){o[d]=new St(0,0,0)}return o},calcKoverI:function(e,t){var i=1;for(var r=2;r<=e;++r){i*=r}var n=1;for(var r=2;r<=t;++r){n*=r}for(var r=2;r<=e-t;++r){n*=r}return i/n},calcRationalCurveDerivatives:function(e){var t=e.length;var i=[];var r=[];for(var n=0;n<t;++n){var a=e[n];i[n]=new At(a.x,a.y,a.z);r[n]=a.w}var o=[];for(var s=0;s<t;++s){var c=i[s].clone();for(var n=1;n<=s;++n){c.sub(o[s-n].clone().multiplyScalar(this.calcKoverI(s,n)*r[n]))}o[s]=c.divideScalar(r[0])}return o},calcNURBSDerivatives:function(e,t,i,r,n){var a=this.calcBSplineDerivatives(e,t,i,r,n);return this.calcRationalCurveDerivatives(a)},calcSurfacePoint:function(e,t,i,r,n,a,o){var s=this.findSpan(e,a,i);var c=this.findSpan(t,o,r);var l=this.calcBasisFunctions(s,a,e,i);var u=this.calcBasisFunctions(c,o,t,r);var h=[];for(var f=0;f<=t;++f){h[f]=new St(0,0,0,0);for(var d=0;d<=e;++d){var p=n[s-e+d][c-t+f].clone();var m=p.w;p.x*=m;p.y*=m;p.z*=m;h[f].add(p.multiplyScalar(l[d]))}}var v=new St(0,0,0,0);for(var f=0;f<=t;++f){v.add(h[f].multiplyScalar(u[f]))}v.divideScalar(v.w);return new At(v.x,v.y,v.z)}};NURBSCurve=function(e,t,i){this.degree=e;this.knots=t;this.controlPoints=[];for(var r=0;r<i.length;++r){var n=i[r];this.controlPoints[r]=new St(n.x,n.y,n.z,n.w)}};NURBSCurve.prototype=Object.create(wc.prototype);NURBSCurve.prototype.constructor=NURBSCurve;NURBSCurve.prototype.getPoint=function(e){var t=this.knots[0]+e*(this.knots[this.knots.length-1]-this.knots[0]);var i=NURBSUtils.calcBSplinePoint(this.degree,this.knots,this.controlPoints,t);if(i.w!=1){i.divideScalar(i.w)}return new At(i.x,i.y,i.z)};NURBSCurve.prototype.getTangent=function(e){var t=this.knots[0]+e*(this.knots[this.knots.length-1]-this.knots[0]);var i=NURBSUtils.calcNURBSDerivatives(this.degree,this.knots,this.controlPoints,t,1);var r=i[1].clone();r.normalize();return r};NURBSSurface=function(e,t,i,r,n){this.degree1=e;this.degree2=t;this.knots1=i;this.knots2=r;this.controlPoints=[];var a=i.length-e-1;var o=r.length-t-1;for(var s=0;s<a;++s){this.controlPoints[s]=[];for(var c=0;c<o;++c){var l=n[s][c];this.controlPoints[s][c]=new St(l.x,l.y,l.z,l.w)}}};NURBSSurface.prototype={constructor:NURBSSurface,getPoint:function(e,t){var i=this.knots1[0]+e*(this.knots1[this.knots1.length-1]-this.knots1[0]);var r=this.knots2[0]+t*(this.knots2[this.knots2.length-1]-this.knots2[0]);return NURBSUtils.calcSurfacePoint(this.degree1,this.degree2,this.knots1,this.knots2,this.controlPoints,i,r)}};function el(e){Qt.call(this);this.material=e;this.render=function(e){}}el.prototype=Object.create(Qt.prototype);el.prototype.constructor=el;el.prototype.isImmediateRenderObject=true;function tl(e,t){Go.call(this,e,t);this.animationsMap={};this.animationsList=[];var i=this.geometry.morphTargets.length;var r="__default";var n=0;var a=i-1;var o=i/1;this.createAnimation(r,n,a,o);this.setAnimationWeight(r,1)}tl.prototype=Object.create(Go.prototype);tl.prototype.constructor=tl;tl.prototype.createAnimation=function(e,t,i,r){var n={start:t,end:i,length:i-t+1,fps:r,duration:(i-t)/r,lastFrame:0,currentFrame:0,active:false,time:0,direction:1,weight:1,directionBackwards:false,mirroredLoop:false};this.animationsMap[e]=n;this.animationsList.push(n)};tl.prototype.autoCreateAnimations=function(e){var t=/([a-z]+)_?(\d+)/i;var i,r={};var n=this.geometry;for(var a=0,o=n.morphTargets.length;a<o;a++){var s=n.morphTargets[a];var c=s.name.match(t);if(c&&c.length>1){var l=c[1];if(!r[l])r[l]={start:Infinity,end:-Infinity};var u=r[l];if(a<u.start)u.start=a;if(a>u.end)u.end=a;if(!i)i=l}}for(var l in r){var u=r[l];this.createAnimation(l,u.start,u.end,e)}this.firstAnimation=i};tl.prototype.setAnimationDirectionForward=function(e){var t=this.animationsMap[e];if(t){t.direction=1;t.directionBackwards=false}};tl.prototype.setAnimationDirectionBackward=function(e){var t=this.animationsMap[e];if(t){t.direction=-1;t.directionBackwards=true}};tl.prototype.setAnimationFPS=function(e,t){var i=this.animationsMap[e];if(i){i.fps=t;i.duration=(i.end-i.start)/i.fps}};tl.prototype.setAnimationDuration=function(e,t){var i=this.animationsMap[e];if(i){i.duration=t;i.fps=(i.end-i.start)/i.duration}};tl.prototype.setAnimationWeight=function(e,t){var i=this.animationsMap[e];if(i){i.weight=t}};tl.prototype.setAnimationTime=function(e,t){var i=this.animationsMap[e];if(i){i.time=t}};tl.prototype.getAnimationTime=function(e){var t=0;var i=this.animationsMap[e];if(i){t=i.time}return t};tl.prototype.getAnimationDuration=function(e){var t=-1;var i=this.animationsMap[e];if(i){t=i.duration}return t};tl.prototype.playAnimation=function(e){var t=this.animationsMap[e];if(t){t.time=0;t.active=true}else{console.warn("SZX3D.MorphBlendMesh: animation["+e+"] undefined in .playAnimation()")}};tl.prototype.stopAnimation=function(e){var t=this.animationsMap[e];if(t){t.active=false}};tl.prototype.update=function(e){for(var t=0,i=this.animationsList.length;t<i;t++){var r=this.animationsList[t];if(!r.active)continue;var n=r.duration/r.length;r.time+=r.direction*e;if(r.mirroredLoop){if(r.time>r.duration||r.time<0){r.direction*=-1;if(r.time>r.duration){r.time=r.duration;r.directionBackwards=true}if(r.time<0){r.time=0;r.directionBackwards=false}}}else{r.time=r.time%r.duration;if(r.time<0)r.time+=r.duration}var a=r.start+_t.clamp(Math.floor(r.time/n),0,r.length-1);var o=r.weight;if(a!==r.currentFrame){this.morphTargetInfluences[r.lastFrame]=0;this.morphTargetInfluences[r.currentFrame]=1*o;this.morphTargetInfluences[a]=0;r.lastFrame=r.currentFrame;r.currentFrame=a}var s=r.time%n/n;if(r.directionBackwards)s=1-s;if(r.currentFrame!==r.lastFrame){this.morphTargetInfluences[r.currentFrame]=s*o;this.morphTargetInfluences[r.lastFrame]=(1-s)*o}else{this.morphTargetInfluences[r.currentFrame]=o}}};function il(){this.id=0;this.object=null;this.z=0;this.renderOrder=0}function rl(){this.position=new At;this.positionWorld=new At;this.positionScreen=new St;this.visible=true}rl.prototype.copy=function(e){this.position.copy(e.position);this.positionWorld.copy(e.positionWorld);this.positionScreen.copy(e.positionScreen);this.visible=e.visible};function nl(){this.id=0;this.v1=new rl;this.v2=new rl;this.vertexColors=[new bt,new bt];this.material=null;this.z=0;this.renderOrder=0}function al(){this.id=0;this.v1=new rl;this.v2=new rl;this.v3=new rl;this.normalModel=new At;this.vertexNormalsModel=[new At,new At,new At];this.vertexNormalsLength=0;this.color=new bt;this.material=null;this.uvs=[new Mt,new Mt,new Mt];this.z=0;this.renderOrder=0}function ol(){this.id=0;this.object=null;this.x=0;this.y=0;this.z=0;this.rotation=0;this.scale=new Mt;this.material=null;this.renderOrder=0}function sl(){var e,t,i=[],r=0,n,a,o=[],s=0,c,l,u=[],h=0,m,v,g=[],y=0,_,b,w=[],M=0,S={objects:[],lights:[],elements:[]},T=new At,A=new St,L=new Rt(new At(-1,-1,-1),new At(1,1,1)),E=new Rt,P=new Array(3),C=new Array(4),I=new Lt,R=new Lt,N,D=new Lt,U=new Et,O=new Ot,z=new St,B=new St;this.projectVector=function(e,t){console.warn("SZX3D.Projector: .projectVector() is now vector.project().");e.project(t)};this.unprojectVector=function(e,t){console.warn("SZX3D.Projector: .unprojectVector() is now vector.unproject().");e.unproject(t)};this.pickingRay=function(e,t){console.error("SZX3D.Projector: .pickingRay() is now raycaster.setFromCamera().")};var F=function(){var e=[];var t=[];var i=null;var r=null;var a=new Et;function s(n){i=n;r=i.material;a.getNormalMatrix(i.matrixWorld);e.length=0;t.length=0}function l(e){var t=e.position;var i=e.positionWorld;var r=e.positionScreen;i.copy(t).applyMatrix4(N);r.copy(i).applyMatrix4(R);var n=1/r.w;r.x*=n;r.y*=n;r.z*=n;e.visible=r.x>=-1&&r.x<=1&&r.y>=-1&&r.y<=1&&r.z>=-1&&r.z<=1}function u(e,t,i){n=V();n.position.set(e,t,i);l(n)}function h(t,i,r){e.push(t,i,r)}function f(e,i){t.push(e,i)}function d(e,t,i){if(e.visible===true||t.visible===true||i.visible===true)return true;P[0]=e.positionScreen;P[1]=t.positionScreen;P[2]=i.positionScreen;return L.intersectsBox(E.setFromPoints(P))}function v(e,t,i){return(i.positionScreen.x-e.positionScreen.x)*(t.positionScreen.y-e.positionScreen.y)-(i.positionScreen.y-e.positionScreen.y)*(t.positionScreen.x-e.positionScreen.x)<0}function g(e,t,r){var n=o[e];var a=o[t];n.positionScreen.copy(n.position).applyMatrix4(r);a.positionScreen.copy(a.position).applyMatrix4(r);if(Z(n.positionScreen,a.positionScreen)===true){n.positionScreen.multiplyScalar(1/n.positionScreen.w);a.positionScreen.multiplyScalar(1/a.positionScreen.w);m=X();m.id=i.id;m.v1.copy(n);m.v2.copy(a);m.z=(n.positionScreen.z+a.positionScreen.z)/2;m.renderOrder=i.renderOrder;m.material=i.material;S.elements.push(m)}}function y(n,s,l){var u=o[n];var h=o[s];var f=o[l];if(d(u,h,f)===false)return;if(r.side===p||v(u,h,f)===true){c=j();c.id=i.id;c.v1.copy(u);c.v2.copy(h);c.v3.copy(f);c.z=(u.positionScreen.z+h.positionScreen.z+f.positionScreen.z)/3;c.renderOrder=i.renderOrder;c.normalModel.fromArray(e,n*3);c.normalModel.applyMatrix3(a).normalize();for(var m=0;m<3;m++){var g=c.vertexNormalsModel[m];g.fromArray(e,arguments[m]*3);g.applyMatrix3(a).normalize();var y=c.uvs[m];y.fromArray(t,arguments[m]*2)}c.vertexNormalsLength=3;c.material=i.material;S.elements.push(c)}}return{setObject:s,projectVertex:l,checkTriangleVisibility:d,checkBackfaceCulling:v,pushVertex:u,pushNormal:h,pushUv:f,pushLine:g,pushTriangle:y}};var k=new F;this.projectScene=function(i,r,n,s){l=0;v=0;b=0;S.elements.length=0;if(i.autoUpdate===true)i.updateMatrixWorld();if(r.parent===null)r.updateMatrixWorld();I.copy(r.matrixWorldInverse.getInverse(r.matrixWorld));R.multiplyMatrices(r.projectionMatrix,I);O.setFromMatrix(R);t=0;S.objects.length=0;S.lights.length=0;function u(t){e=G();e.id=t.id;e.object=t;T.setFromMatrixPosition(t.matrixWorld);T.applyMatrix4(R);e.z=T.z;e.renderOrder=t.renderOrder;S.objects.push(e)}i.traverseVisible(function(e){if(e instanceof Zs){S.lights.push(e)}else if(e instanceof Go||e instanceof zs){if(e.material.visible===false)return;if(e.frustumCulled===true&&O.intersectsObject(e)===false)return;u(e)}else if(e instanceof js){if(e.material.visible===false)return;if(e.frustumCulled===true&&O.intersectsSprite(e)===false)return;u(e)}});if(n===true){S.objects.sort(H)}for(var h=0,g=S.objects.length;h<g;h++){var y=S.objects[h].object;var w=y.geometry;k.setObject(y);N=y.matrixWorld;a=0;if(y instanceof Go){if(w instanceof yi){var M=w.attributes;var L=w.groups;if(M.position===undefined)continue;var E=M.position.array;for(var P=0,C=E.length;P<C;P+=3){k.pushVertex(E[P],E[P+1],E[P+2])}if(M.normal!==undefined){var F=M.normal.array;for(var P=0,C=F.length;P<C;P+=3){k.pushNormal(F[P],F[P+1],F[P+2])}}if(M.uv!==undefined){var Y=M.uv.array;for(var P=0,C=Y.length;P<C;P+=2){k.pushUv(Y[P],Y[P+1])}}if(w.index!==null){var q=w.index.array;if(L.length>0){for(var J=0;J<L.length;J++){var K=L[J];for(var P=K.start,C=K.start+K.count;P<C;P+=3){k.pushTriangle(q[P],q[P+1],q[P+2])}}}else{for(var P=0,C=q.length;P<C;P+=3){k.pushTriangle(q[P],q[P+1],q[P+2])}}}else{for(var P=0,C=E.length/3;P<C;P+=3){k.pushTriangle(P,P+1,P+2)}}}else if(w instanceof vi){var Q=w.vertices;var $=w.faces;var ee=w.faceVertexUvs[0];U.getNormalMatrix(N);var te=y.material;var ie=te instanceof Is;var re=ie===true?y.material:null;for(var ne=0,ae=Q.length;ne<ae;ne++){var oe=Q[ne];T.copy(oe);if(te.morphTargets===true){var se=w.morphTargets;var ce=y.morphTargetInfluences;for(var le=0,ue=se.length;le<ue;le++){var he=ce[le];if(he===0)continue;var fe=se[le];var de=fe.vertices[ne];T.x+=(de.x-oe.x)*he;T.y+=(de.y-oe.y)*he;T.z+=(de.z-oe.z)*he}}k.pushVertex(T.x,T.y,T.z)}for(var pe=0,me=$.length;pe<me;pe++){var ve=$[pe];te=ie===true?re.materials[ve.materialIndex]:y.material;if(te===undefined)continue;var ge=te.side;var ye=o[ve.a];var xe=o[ve.b];var _e=o[ve.c];if(k.checkTriangleVisibility(ye,xe,_e)===false)continue;var be=k.checkBackfaceCulling(ye,xe,_e);if(ge!==p){if(ge===f&&be===false)continue;if(ge===d&&be===true)continue}c=j();c.id=y.id;c.v1.copy(ye);c.v2.copy(xe);c.v3.copy(_e);c.normalModel.copy(ve.normal);if(be===false&&(ge===d||ge===p)){c.normalModel.negate()}c.normalModel.applyMatrix3(U).normalize();var we=ve.vertexNormals;for(var Me=0,Se=Math.min(we.length,3);Me<Se;Me++){var Te=c.vertexNormalsModel[Me];Te.copy(we[Me]);if(be===false&&(ge===d||ge===p)){Te.negate()}Te.applyMatrix3(U).normalize()}c.vertexNormalsLength=we.length;var Ae=ee[pe];if(Ae!==undefined){for(var Le=0;Le<3;Le++){c.uvs[Le].copy(Ae[Le])}}c.color=ve.color;c.material=te;c.z=(ye.positionScreen.z+xe.positionScreen.z+_e.positionScreen.z)/3;c.renderOrder=y.renderOrder;S.elements.push(c)}}}else if(y instanceof zs){D.multiplyMatrices(R,N);if(w instanceof yi){var M=w.attributes;if(M.position!==undefined){var E=M.position.array;for(var P=0,C=E.length;P<C;P+=3){k.pushVertex(E[P],E[P+1],E[P+2])}if(w.index!==null){var q=w.index.array;for(var P=0,C=q.length;P<C;P+=2){k.pushLine(q[P],q[P+1],D)}}else{var Ee=y instanceof Bs?2:1;for(var P=0,C=E.length/3-1;P<C;P+=Ee){k.pushLine(P,P+1,D)}}}}else if(w instanceof vi){var Q=y.geometry.vertices;if(Q.length===0)continue;ye=V();ye.positionScreen.copy(Q[0]).applyMatrix4(D);var Ee=y instanceof Bs?2:1;for(var ne=1,ae=Q.length;ne<ae;ne++){ye=V();ye.positionScreen.copy(Q[ne]).applyMatrix4(D);if((ne+1)%Ee>0)continue;xe=o[a-2];z.copy(ye.positionScreen);B.copy(xe.positionScreen);if(Z(z,B)===true){z.multiplyScalar(1/z.w);B.multiplyScalar(1/B.w);m=X();m.id=y.id;m.v1.positionScreen.copy(z);m.v2.positionScreen.copy(B);m.z=Math.max(z.z,B.z);m.renderOrder=y.renderOrder;m.material=y.material;if(y.material.vertexColors===x){m.vertexColors[0].copy(y.geometry.colors[ne]);m.vertexColors[1].copy(y.geometry.colors[ne-1])}S.elements.push(m)}}}}else if(y instanceof js){A.set(N.elements[12],N.elements[13],N.elements[14],1);A.applyMatrix4(R);var Pe=1/A.w;A.z*=Pe;if(A.z>=-1&&A.z<=1){_=W();_.id=y.id;_.x=A.x*Pe;_.y=A.y*Pe;_.z=A.z;_.renderOrder=y.renderOrder;_.object=y;_.rotation=y.rotation;_.scale.x=y.scale.x*Math.abs(_.x-(A.x+r.projectionMatrix.elements[0])/(A.w+r.projectionMatrix.elements[12]));_.scale.y=y.scale.y*Math.abs(_.y-(A.y+r.projectionMatrix.elements[5])/(A.w+r.projectionMatrix.elements[13]));_.material=y.material;S.elements.push(_)}}}if(s===true){S.elements.sort(H)}return S};function G(){if(t===r){var e=new il;i.push(e);r++;t++;return e}return i[t++]}function V(){if(a===s){var e=new rl;o.push(e);s++;a++;return e}return o[a++]}function j(){if(l===h){var e=new al;u.push(e);h++;l++;return e}return u[l++]}function X(){if(v===y){var e=new nl;g.push(e);y++;v++;return e}return g[v++]}function W(){if(b===M){var e=new ol;w.push(e);M++;b++;return e}return w[b++]}function H(e,t){if(e.renderOrder!==t.renderOrder){return e.renderOrder-t.renderOrder}else if(e.z!==t.z){return t.z-e.z}else if(e.id!==t.id){return e.id-t.id}else{return 0}}function Z(e,t){var i=0,r=1,n=e.z+e.w,a=t.z+t.w,o=-e.z+e.w,s=-t.z+t.w;if(n>=0&&a>=0&&o>=0&&s>=0){return true}else if(n<0&&a<0||o<0&&s<0){return false}else{if(n<0){i=Math.max(i,n/(n-a))}else if(a<0){r=Math.min(r,n/(n-a))}if(o<0){i=Math.max(i,o/(o-s))}else if(s<0){r=Math.min(r,o/(o-s))}if(r<i){return false}else{e.lerp(t,i);t.lerp(e,1-r);return true}}}}function cl(e){Oo.call(this);this.type="SpriteCanvasMaterial";this.color=new bt(16777215);this.program=function(e,t){};this.setValues(e)}cl.prototype=Object.create(Oo.prototype);cl.prototype.constructor=cl;cl.prototype.clone=function(){var e=new cl;e.copy(this);e.color.copy(this.color);e.program=this.program;return e};function ll(e){console.log("SZX3D.CanvasRenderer",t);e=e||{};var i=this,r,n,a,o=new sl,s=e.canvas!==undefined?e.canvas:document.createElement("canvas"),c=s.width,l=s.height,u=Math.floor(c/2),h=Math.floor(l/2),f=0,d=0,p=c,m=l,v=1,g=s.getContext("2d",{alpha:e.alpha===true}),_=new bt(0),T=e.alpha===true?0:1,A=1,L=0,E=null,P=null,C=null,I=null,R=null,N=[],D,U,O,z,B,F=new rl,k=new rl,G,V,j,X,W,H,Z,Y,q,J,K,Q,$=new bt,ee=new bt,te=new bt,ie=new bt,re=new bt,ae=new bt,oe=new bt,se=new bt,ce={},ue,he,de,me,ve,ge,ye,xe,_e=new It,be=new It,we=new It,Me=new bt,Se=new bt,Te=new bt,Ae=new At,Le=new At,Ee=new At,Pe=new Et;if(g.setLineDash===undefined){g.setLineDash=function(){}}this.domElement=s;this.autoClear=true;this.sortObjects=true;this.sortElements=true;this.info={render:{vertices:0,faces:0}};this.supportsVertexTextures=function(){};this.setFaceCulling=function(){};this.getContext=function(){return g};this.getContextAttributes=function(){return g.getContextAttributes()};this.getPixelRatio=function(){return v};this.setPixelRatio=function(e){if(e!==undefined)v=e};this.setSize=function(e,t,i){c=e*v;l=t*v;s.width=c;s.height=l;u=Math.floor(c/2);h=Math.floor(l/2);if(i!==false){s.style.width=e+"px";s.style.height=t+"px"}_e.min.set(-u,-h);_e.max.set(u,h);be.min.set(-u,-h);be.max.set(u,h);A=1;L=0;E=null;P=null;C=null;I=null;R=null;this.setViewport(0,0,e,t)};this.setViewport=function(e,t,i,r){f=e*v;d=t*v;p=i*v;m=r*v};this.setScissor=function(){};this.setScissorTest=function(){};this.setClearColor=function(e,t){_.set(e);T=t!==undefined?t:1;be.min.set(-u,-h);be.max.set(u,h)};this.setClearColorHex=function(e,t){console.warn("SZX3D.CanvasRenderer: .setClearColorHex() is being removed. Use .setClearColor() instead.");this.setClearColor(e,t)};this.getClearColor=function(){return _};this.getClearAlpha=function(){return T};this.getMaxAnisotropy=function(){return 0};this.clear=function(){if(be.isEmpty()===false){be.intersect(_e);be.expandByScalar(2);be.min.x=be.min.x+u;be.min.y=-be.min.y+h;be.max.x=be.max.x+u;be.max.y=-be.max.y+h;if(T<1){g.clearRect(be.min.x|0,be.max.y|0,be.max.x-be.min.x|0,be.min.y-be.max.y|0);
}if(T>0){je(b);Ve(1);Ye("rgba("+Math.floor(_.r*255)+","+Math.floor(_.g*255)+","+Math.floor(_.b*255)+","+T+")");g.fillRect(be.min.x|0,be.max.y|0,be.max.x-be.min.x|0,be.min.y-be.max.y|0)}be.makeEmpty()}};this.clearColor=function(){};this.clearDepth=function(){};this.clearStencil=function(){};this.render=function(e,t){if(t instanceof Vo===false){console.error("SZX3D.CanvasRenderer.render: camera is not an instance of SZX3D.Camera.");return}var s=e.background;if(s&&s.isColor){Ye("rgb("+Math.floor(s.r*255)+","+Math.floor(s.g*255)+","+Math.floor(s.b*255)+")");g.fillRect(0,0,c,l)}else if(this.autoClear===true){this.clear()}i.info.render.vertices=0;i.info.render.faces=0;g.setTransform(p/c,0,0,-m/l,f,l-d);g.translate(u,h);r=o.projectScene(e,t,this.sortObjects,this.sortElements);n=r.elements;a=r.lights;D=t;Pe.getNormalMatrix(t.matrixWorldInverse);Ce();for(var v=0,y=n.length;v<y;v++){var x=n[v];var _=x.material;if(_===undefined||_.opacity===0)continue;we.makeEmpty();if(x instanceof ol){U=x;U.x*=u;U.y*=h;Re(U,x,_)}else if(x instanceof nl){U=x.v1;O=x.v2;U.positionScreen.x*=u;U.positionScreen.y*=h;O.positionScreen.x*=u;O.positionScreen.y*=h;we.setFromPoints([U.positionScreen,O.positionScreen]);if(_e.intersectsBox(we)===true){Ne(U,O,x,_)}}else if(x instanceof al){U=x.v1;O=x.v2;z=x.v3;if(U.positionScreen.z<-1||U.positionScreen.z>1)continue;if(O.positionScreen.z<-1||O.positionScreen.z>1)continue;if(z.positionScreen.z<-1||z.positionScreen.z>1)continue;U.positionScreen.x*=u;U.positionScreen.y*=h;O.positionScreen.x*=u;O.positionScreen.y*=h;z.positionScreen.x*=u;z.positionScreen.y*=h;if(_.overdraw>0){Ge(U.positionScreen,O.positionScreen,_.overdraw);Ge(O.positionScreen,z.positionScreen,_.overdraw);Ge(z.positionScreen,U.positionScreen,_.overdraw)}we.setFromPoints([U.positionScreen,O.positionScreen,z.positionScreen]);if(_e.intersectsBox(we)===true){De(U,O,z,0,1,2,x,_)}}be.union(we)}g.setTransform(1,0,0,1,0,0)};function Ce(){Me.setRGB(0,0,0);Se.setRGB(0,0,0);Te.setRGB(0,0,0);for(var e=0,t=a.length;e<t;e++){var i=a[e];var r=i.color;if(i instanceof qs){Me.add(r)}else if(i instanceof ec){Se.add(r)}else if(i instanceof Qs){Te.add(r)}}}function Ie(e,t,i){for(var r=0,n=a.length;r<n;r++){var o=a[r];se.copy(o.color);if(o instanceof ec){var s=Ae.setFromMatrixPosition(o.matrixWorld).normalize();var c=t.dot(s);if(c<=0)continue;c*=o.intensity;i.add(se.multiplyScalar(c))}else if(o instanceof Qs){var s=Ae.setFromMatrixPosition(o.matrixWorld);var c=t.dot(Ae.subVectors(s,e).normalize());if(c<=0)continue;c*=o.distance==0?1:1-Math.min(e.distanceTo(s)/o.distance,1);if(c==0)continue;c*=o.intensity;i.add(se.multiplyScalar(c))}}}function Re(e,t,i){Ve(i.opacity);je(i.blending);var r=t.scale.x*u;var n=t.scale.y*h;var a=.5*Math.sqrt(r*r+n*n);we.min.set(e.x-a,e.y-a);we.max.set(e.x+a,e.y+a);if(i instanceof Cs){var o=i.map;if(o!==null){var s=ce[o.id];if(s===undefined||s.version!==o.version){s=Be(o);ce[o.id]=s}if(s.canvas!==undefined){Ye(s.canvas);var c=o.image;var l=c.width*o.offset.x;var f=c.height*o.offset.y;var d=c.width*o.repeat.x;var p=c.height*o.repeat.y;var m=r/d;var v=n/p;g.save();g.translate(e.x,e.y);if(i.rotation!==0)g.rotate(i.rotation);g.translate(-r/2,-n/2);g.scale(m,v);g.translate(-l,-f);g.fillRect(l,f,d,p);g.restore()}}else{Ye(i.color.getStyle());g.save();g.translate(e.x,e.y);if(i.rotation!==0)g.rotate(i.rotation);g.scale(r,-n);g.fillRect(-.5,-.5,1,1);g.restore()}}else if(i instanceof cl){Ze(i.color.getStyle());Ye(i.color.getStyle());g.save();g.translate(e.x,e.y);if(i.rotation!==0)g.rotate(i.rotation);g.scale(r,n);i.program(g);g.restore()}}function Ne(e,t,i,r){Ve(r.opacity);je(r.blending);g.beginPath();g.moveTo(e.positionScreen.x,e.positionScreen.y);g.lineTo(t.positionScreen.x,t.positionScreen.y);if(r instanceof ws){Xe(r.linewidth);We(r.linecap);He(r.linejoin);if(r.vertexColors!==x){Ze(r.color.getStyle())}else{var n=i.vertexColors[0].getStyle();var a=i.vertexColors[1].getStyle();if(n===a){Ze(n)}else{try{var o=g.createLinearGradient(e.positionScreen.x,e.positionScreen.y,t.positionScreen.x,t.positionScreen.y);o.addColorStop(0,n);o.addColorStop(1,a)}catch(e){o=n}Ze(o)}}g.stroke();we.expandByScalar(r.linewidth*2)}else if(r instanceof Ms){Xe(r.linewidth);We(r.linecap);He(r.linejoin);Ze(r.color.getStyle());qe([r.dashSize,r.gapSize]);g.stroke();we.expandByScalar(r.linewidth*2);qe([])}}function De(e,t,r,n,a,o,s,c){i.info.render.vertices+=3;i.info.render.faces++;Ve(c.opacity);je(c.blending);G=e.positionScreen.x;V=e.positionScreen.y;j=t.positionScreen.x;X=t.positionScreen.y;W=r.positionScreen.x;H=r.positionScreen.y;Ue(G,V,j,X,W,H);if((c instanceof Ss||c instanceof As||c instanceof Es)&&c.map===null){ae.copy(c.color);oe.copy(c.emissive);if(c.vertexColors===y){ae.multiply(s.color)}$.copy(Me);Le.copy(e.positionWorld).add(t.positionWorld).add(r.positionWorld).divideScalar(3);Ie(Le,s.normalModel,$);$.multiply(ae).add(oe);c.wireframe===true?Oe($,c.wireframeLinewidth,c.wireframeLinecap,c.wireframeLinejoin):ze($)}else if(c instanceof ko||c instanceof Ss||c instanceof As||c instanceof Es){if(c.map!==null){var l=c.map.mapping;if(l===ne){he=s.uvs;Fe(G,V,j,X,W,H,he[n].x,he[n].y,he[a].x,he[a].y,he[o].x,he[o].y,c.map)}}else if(c.envMap!==null){if(c.envMap.mapping===le){Ee.copy(s.vertexNormalsModel[n]).applyMatrix3(Pe);de=.5*Ee.x+.5;me=.5*Ee.y+.5;Ee.copy(s.vertexNormalsModel[a]).applyMatrix3(Pe);ve=.5*Ee.x+.5;ge=.5*Ee.y+.5;Ee.copy(s.vertexNormalsModel[o]).applyMatrix3(Pe);ye=.5*Ee.x+.5;xe=.5*Ee.y+.5;Fe(G,V,j,X,W,H,de,me,ve,ge,ye,xe,c.envMap)}}else{$.copy(c.color);if(c.vertexColors===y){$.multiply(s.color)}c.wireframe===true?Oe($,c.wireframeLinewidth,c.wireframeLinecap,c.wireframeLinejoin):ze($)}}else if(c instanceof Ts){Ee.copy(s.normalModel).applyMatrix3(Pe);$.setRGB(Ee.x,Ee.y,Ee.z).multiplyScalar(.5).addScalar(.5);c.wireframe===true?Oe($,c.wireframeLinewidth,c.wireframeLinecap,c.wireframeLinejoin):ze($)}else{$.setRGB(1,1,1);c.wireframe===true?Oe($,c.wireframeLinewidth,c.wireframeLinecap,c.wireframeLinejoin):ze($)}}function Ue(e,t,i,r,n,a){g.beginPath();g.moveTo(e,t);g.lineTo(i,r);g.lineTo(n,a);g.closePath()}function Oe(e,t,i,r){Xe(t);We(i);He(r);Ze(e.getStyle());g.stroke();we.expandByScalar(t*2)}function ze(e){Ye(e.getStyle());g.fill()}function Be(e){if(e.version===0||e instanceof Br||e instanceof Fr){return{canvas:undefined,version:e.version}}var t=e.image;if(t.complete===false){return{canvas:undefined,version:0}}var i=e.wrapS===fe||e.wrapS===pe;var r=e.wrapT===fe||e.wrapT===pe;var n=e.wrapS===pe;var a=e.wrapT===pe;var o=document.createElement("canvas");o.width=t.width*(n?2:1);o.height=t.height*(a?2:1);var s=o.getContext("2d");s.setTransform(1,0,0,-1,0,t.height);s.drawImage(t,0,0);if(n===true){s.setTransform(-1,0,0,-1,t.width,t.height);s.drawImage(t,-t.width,0)}if(a===true){s.setTransform(1,0,0,1,0,0);s.drawImage(t,0,t.height)}if(n===true&&a===true){s.setTransform(-1,0,0,1,t.width,0);s.drawImage(t,-t.width,t.height)}var c="no-repeat";if(i===true&&r===true){c="repeat"}else if(i===true){c="repeat-x"}else if(r===true){c="repeat-y"}var l=g.createPattern(o,c);if(e.onUpdate)e.onUpdate(e);return{canvas:l,version:e.version}}function Fe(e,t,i,r,n,a,o,s,c,l,u,h,f){var d=ce[f.id];if(d===undefined||d.version!==f.version){d=Be(f);ce[f.id]=d}if(d.canvas!==undefined){Ye(d.canvas)}else{Ye("rgba( 0, 0, 0, 1)");g.fill();return}var p,m,v,y,x,_,b,w,M=f.offset.x/f.repeat.x,S=f.offset.y/f.repeat.y,T=f.image.width*f.repeat.x,A=f.image.height*f.repeat.y;o=(o+M)*T;s=(s+S)*A;c=(c+M)*T;l=(l+S)*A;u=(u+M)*T;h=(h+S)*A;i-=e;r-=t;n-=e;a-=t;c-=o;l-=s;u-=o;h-=s;b=c*h-u*l;if(b===0)return;w=1/b;p=(h*i-l*n)*w;m=(h*r-l*a)*w;v=(c*n-u*i)*w;y=(c*a-u*r)*w;x=e-p*o-v*s;_=t-m*o-y*s;g.save();g.transform(p,m,v,y,x,_);g.fill();g.restore()}function ke(e,t,i,r,n,a,o,s,c,l,u,h,f){var d,p,m,v,y,x,_,b,w=f.width-1,M=f.height-1;o*=w;s*=M;c*=w;l*=M;u*=w;h*=M;i-=e;r-=t;n-=e;a-=t;c-=o;l-=s;u-=o;h-=s;_=c*h-u*l;b=1/_;d=(h*i-l*n)*b;p=(h*r-l*a)*b;m=(c*n-u*i)*b;v=(c*a-u*r)*b;y=e-d*o-m*s;x=t-p*o-v*s;g.save();g.transform(d,p,m,v,y,x);g.clip();g.drawImage(f,0,0);g.restore()}function Ge(e,t,i){var r=t.x-e.x,n=t.y-e.y,a=r*r+n*n,o;if(a===0)return;o=i/Math.sqrt(a);r*=o;n*=o;t.x+=r;t.y+=n;e.x-=r;e.y-=n}function Ve(e){if(A!==e){g.globalAlpha=e;A=e}}function je(e){if(L!==e){if(e===b){g.globalCompositeOperation="source-over"}else if(e===w){g.globalCompositeOperation="lighter"}else if(e===M){g.globalCompositeOperation="darker"}else if(e===S){g.globalCompositeOperation="multiply"}L=e}}function Xe(e){if(C!==e){g.lineWidth=e;C=e}}function We(e){if(I!==e){g.lineCap=e;I=e}}function He(e){if(R!==e){g.lineJoin=e;R=e}}function Ze(e){if(E!==e){g.strokeStyle=e;E=e}}function Ye(e){if(P!==e){g.fillStyle=e;P=e}}function qe(e){if(N.length!==e.length){g.setLineDash(e);N=e}}}var ul={enabled:false,files:{},add:function(e,t){if(this.enabled===false)return;this.files[e]=t},get:function(e){if(this.enabled===false)return;return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};function hl(e,t,i){var r=this;var n=false,a=0,o=0;this.onStart=undefined;this.onLoad=e;this.onProgress=t;this.onError=i;this.itemStart=function(e){o++;if(n===false){if(r.onStart!==undefined){r.onStart(e,a,o)}}n=true};this.itemEnd=function(e){a++;if(r.onProgress!==undefined){r.onProgress(e,a,o)}if(a===o){n=false;if(r.onLoad!==undefined){r.onLoad()}}};this.itemError=function(e){if(r.onError!==undefined){r.onError(e)}}}var fl=new hl;function dl(e){this.manager=e!==undefined?e:fl}Object.assign(dl.prototype,{load:function(e,t,i,r){if(e===undefined)e="";if(this.path!==undefined)e=this.path+e;var n=this;var a=ul.get(e);if(a!==undefined){n.manager.itemStart(e);setTimeout(function(){if(t)t(a);n.manager.itemEnd(e)},0);return a}var o=/^data:(.*?)(;base64)?,(.*)$/;var s=e.match(o);if(s){var c=s[1];var l=!!s[2];var u=s[3];u=window.decodeURIComponent(u);if(l)u=window.atob(u);try{var h;var f=(this.responseType||"").toLowerCase();switch(f){case"arraybuffer":case"blob":h=new ArrayBuffer(u.length);var d=new Uint8Array(h);for(var p=0;p<u.length;p++){d[p]=u.charCodeAt(p)}if(f==="blob"){h=new Blob([h],{type:c})}break;case"document":var m=new DOMParser;h=m.parseFromString(u,c);break;case"json":h=JSON.parse(u);break;default:h=u;break}window.setTimeout(function(){if(t)t(h);n.manager.itemEnd(e)},0)}catch(t){window.setTimeout(function(){if(r)r(t);n.manager.itemError(e)},0)}}else{var v=new XMLHttpRequest;v.open("GET",e,true);v.addEventListener("load",function(i){var a=i.target.response;ul.add(e,a);if(this.status===200){if(t)t(a);n.manager.itemEnd(e)}else if(this.status===0){console.warn("SZX3D.FileLoader: HTTP Status 0 received.");if(t)t(a);n.manager.itemEnd(e)}else{if(r)r(i);n.manager.itemError(e)}},false);if(i!==undefined){v.addEventListener("progress",function(e){i(e)},false)}v.addEventListener("error",function(t){if(r)r(t);n.manager.itemError(e)},false);if(this.responseType!==undefined)v.responseType=this.responseType;if(this.withCredentials!==undefined)v.withCredentials=this.withCredentials;if(v.overrideMimeType)v.overrideMimeType(this.mimeType!==undefined?this.mimeType:"text/plain");v.send(null)}n.manager.itemStart(e);return v},setPath:function(e){this.path=e;return this},setResponseType:function(e){this.responseType=e;return this},setWithCredentials:function(e){this.withCredentials=e;return this},setMimeType:function(e){this.mimeType=e;return this}});function pl(e){this.manager=e!==undefined?e:fl}Object.assign(pl.prototype,{load:function(e,t,i,r){var n=new dl(this.manager);n.setResponseType("arraybuffer");n.load(e,function(e){var i=Fi.getContext();i.decodeAudioData(e,function(e){t(e)})},i,r)}});function ml(e){this.manager=e!==undefined?e:fl;this.textures={}}Object.assign(ml.prototype,{load:function(e,t,i,r){var n=this;var a=new dl(n.manager);a.load(e,function(e){t(n.parse(JSON.parse(e)))},i,r)},setTextures:function(e){this.textures=e},parse:function(e){var t=this.textures;function i(e){if(t[e]===undefined){console.warn("SZX3D.MaterialLoader: Undefined texture",e)}return t[e]}var r=new Ds[e.type];if(e.uuid!==undefined)r.uuid=e.uuid;if(e.name!==undefined)r.name=e.name;if(e.color!==undefined)r.color.setHex(e.color);if(e.roughness!==undefined)r.roughness=e.roughness;if(e.metalness!==undefined)r.metalness=e.metalness;if(e.emissive!==undefined)r.emissive.setHex(e.emissive);if(e.specular!==undefined)r.specular.setHex(e.specular);if(e.shininess!==undefined)r.shininess=e.shininess;if(e.clearCoat!==undefined)r.clearCoat=e.clearCoat;if(e.clearCoatRoughness!==undefined)r.clearCoatRoughness=e.clearCoatRoughness;if(e.uniforms!==undefined)r.uniforms=e.uniforms;if(e.vertexShader!==undefined)r.vertexShader=e.vertexShader;if(e.fragmentShader!==undefined)r.fragmentShader=e.fragmentShader;if(e.vertexColors!==undefined)r.vertexColors=e.vertexColors;if(e.fog!==undefined)r.fog=e.fog;if(e.shading!==undefined)r.shading=e.shading;if(e.blending!==undefined)r.blending=e.blending;if(e.side!==undefined)r.side=e.side;if(e.opacity!==undefined)r.opacity=e.opacity;if(e.transparent!==undefined)r.transparent=e.transparent;if(e.alphaTest!==undefined)r.alphaTest=e.alphaTest;if(e.depthTest!==undefined)r.depthTest=e.depthTest;if(e.depthWrite!==undefined)r.depthWrite=e.depthWrite;if(e.colorWrite!==undefined)r.colorWrite=e.colorWrite;if(e.wireframe!==undefined)r.wireframe=e.wireframe;if(e.wireframeLinewidth!==undefined)r.wireframeLinewidth=e.wireframeLinewidth;if(e.wireframeLinecap!==undefined)r.wireframeLinecap=e.wireframeLinecap;if(e.wireframeLinejoin!==undefined)r.wireframeLinejoin=e.wireframeLinejoin;if(e.skinning!==undefined)r.skinning=e.skinning;if(e.morphTargets!==undefined)r.morphTargets=e.morphTargets;if(e.size!==undefined)r.size=e.size;if(e.sizeAttenuation!==undefined)r.sizeAttenuation=e.sizeAttenuation;if(e.map!==undefined)r.map=i(e.map);if(e.alphaMap!==undefined){r.alphaMap=i(e.alphaMap);r.transparent=true}if(e.bumpMap!==undefined)r.bumpMap=i(e.bumpMap);if(e.bumpScale!==undefined)r.bumpScale=e.bumpScale;if(e.normalMap!==undefined)r.normalMap=i(e.normalMap);if(e.normalScale!==undefined){var n=e.normalScale;if(Array.isArray(n)===false){n=[n,n]}r.normalScale=(new Mt).fromArray(n)}if(e.displacementMap!==undefined)r.displacementMap=i(e.displacementMap);if(e.displacementScale!==undefined)r.displacementScale=e.displacementScale;if(e.displacementBias!==undefined)r.displacementBias=e.displacementBias;if(e.roughnessMap!==undefined)r.roughnessMap=i(e.roughnessMap);if(e.metalnessMap!==undefined)r.metalnessMap=i(e.metalnessMap);if(e.emissiveMap!==undefined)r.emissiveMap=i(e.emissiveMap);if(e.emissiveIntensity!==undefined)r.emissiveIntensity=e.emissiveIntensity;if(e.specularMap!==undefined)r.specularMap=i(e.specularMap);if(e.envMap!==undefined)r.envMap=i(e.envMap);if(e.reflectivity!==undefined)r.reflectivity=e.reflectivity;if(e.lightMap!==undefined)r.lightMap=i(e.lightMap);if(e.lightMapIntensity!==undefined)r.lightMapIntensity=e.lightMapIntensity;if(e.aoMap!==undefined)r.aoMap=i(e.aoMap);if(e.aoMapIntensity!==undefined)r.aoMapIntensity=e.aoMapIntensity;if(e.gradientMap!==undefined)r.gradientMap=i(e.gradientMap);if(e.materials!==undefined){for(var a=0,o=e.materials.length;a<o;a++){r.materials.push(this.parse(e.materials[a]))}}return r}});function vl(e){this.manager=e!==undefined?e:fl}Object.assign(vl.prototype,{load:function(e,t,i,r){if(e===undefined)e="";if(this.path!==undefined)e=this.path+e;var n=this;var a=ul.get(e);if(a!==undefined){n.manager.itemStart(e);setTimeout(function(){if(t)t(a);n.manager.itemEnd(e)},0);return a}var o=document.createElementNS("http://www.w3.org/1999/xhtml","img");o.addEventListener("load",function(){ul.add(e,this);if(t)t(this);n.manager.itemEnd(e)},false);o.addEventListener("error",function(t){if(r)r(t);n.manager.itemError(e)},false);if(this.crossOrigin!==undefined)o.crossOrigin=this.crossOrigin;n.manager.itemStart(e);o.src=e;return o},setCrossOrigin:function(e){this.crossOrigin=e;return this},setPath:function(e){this.path=e;return this}});function gl(e){this.manager=e!==undefined?e:fl}Object.assign(gl.prototype,{load:function(e,t,i,r){var n=new Dr;var a=new vl(this.manager);a.setCrossOrigin(this.crossOrigin);a.setPath(this.path);a.load(e,function(i){var r=e.search(/\.(jpg|jpeg)$/)>0||e.search(/^data\:image\/jpeg/)===0;n.format=r?De:Ue;n.image=i;n.needsUpdate=true;if(t!==undefined){t(n)}},i,r);return n},setCrossOrigin:function(e){this.crossOrigin=e;return this},setPath:function(e){this.path=e;return this}});function yl(){this.onLoadStart=function(){};this.onLoadProgress=function(){};this.onLoadComplete=function(){}}yl.prototype={constructor:yl,crossOrigin:undefined,extractUrlBase:function(e){var t=e.split("/");if(t.length===1)return"./";t.pop();return t.join("/")+"/"},initMaterials:function(e,t,i){var r=[];for(var n=0;n<e.length;++n){r[n]=this.createMaterial(e[n],t,i)}return r},createMaterial:function(){var e={NoBlending:_,NormalBlending:b,AdditiveBlending:w,SubtractiveBlending:M,MultiplyBlending:S,CustomBlending:T};var t,i,r;return function n(a,o,s){if(t===undefined)t=new bt;if(i===undefined)i=new gl;if(r===undefined)r=new ml;var c={};function l(e,t,r,n,a){var l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(e)?e:o+e;var u=yl.Handlers.get(l);var h;if(u!==null){h=u.load(l)}else{i.setCrossOrigin(s);h=i.load(l)}if(t!==undefined){h.repeat.fromArray(t);if(t[0]!==1)h.wrapS=fe;if(t[1]!==1)h.wrapT=fe}if(r!==undefined){h.offset.fromArray(r)}if(n!==undefined){if(n[0]==="repeat")h.wrapS=fe;if(n[0]==="mirror")h.wrapS=pe;if(n[1]==="repeat")h.wrapT=fe;if(n[1]==="mirror")h.wrapT=pe}if(a!==undefined){h.anisotropy=a}var f=_t.generateUUID();c[f]=h;return f}var u={uuid:_t.generateUUID(),type:"MeshLambertMaterial"};for(var h in a){var f=a[h];switch(h){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":u.name=f;break;case"blending":u.blending=e[f];break;case"colorAmbient":case"mapAmbient":console.warn("SZX3D.Loader.createMaterial:",h,"is no longer supported.");break;case"colorDiffuse":u.color=t.fromArray(f).getHex();break;case"colorSpecular":u.specular=t.fromArray(f).getHex();break;case"colorEmissive":u.emissive=t.fromArray(f).getHex();break;case"specularCoef":u.shininess=f;break;case"shading":if(f.toLowerCase()==="basic")u.type="MeshBasicMaterial";if(f.toLowerCase()==="phong")u.type="MeshPhongMaterial";if(f.toLowerCase()==="standard")u.type="MeshStandardMaterial";break;case"mapDiffuse":u.map=l(f,a.mapDiffuseRepeat,a.mapDiffuseOffset,a.mapDiffuseWrap,a.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":u.emissiveMap=l(f,a.mapEmissiveRepeat,a.mapEmissiveOffset,a.mapEmissiveWrap,a.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":u.lightMap=l(f,a.mapLightRepeat,a.mapLightOffset,a.mapLightWrap,a.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":u.aoMap=l(f,a.mapAORepeat,a.mapAOOffset,a.mapAOWrap,a.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":u.bumpMap=l(f,a.mapBumpRepeat,a.mapBumpOffset,a.mapBumpWrap,a.mapBumpAnisotropy);break;case"mapBumpScale":u.bumpScale=f;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":u.normalMap=l(f,a.mapNormalRepeat,a.mapNormalOffset,a.mapNormalWrap,a.mapNormalAnisotropy);break;case"mapNormalFactor":u.normalScale=[f,f];break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":u.specularMap=l(f,a.mapSpecularRepeat,a.mapSpecularOffset,a.mapSpecularWrap,a.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":u.metalnessMap=l(f,a.mapMetalnessRepeat,a.mapMetalnessOffset,a.mapMetalnessWrap,a.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":u.roughnessMap=l(f,a.mapRoughnessRepeat,a.mapRoughnessOffset,a.mapRoughnessWrap,a.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":u.alphaMap=l(f,a.mapAlphaRepeat,a.mapAlphaOffset,a.mapAlphaWrap,a.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":u.side=d;break;case"doubleSided":u.side=p;break;case"transparency":console.warn("SZX3D.Loader.createMaterial: transparency has been renamed to opacity");u.opacity=f;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":u[h]=f;break;case"vertexColors":if(f===true)u.vertexColors=x;if(f==="face")u.vertexColors=y;break;default:console.error("SZX3D.Loader.createMaterial: Unsupported",h,f);break}}if(u.type==="MeshBasicMaterial")delete u.emissive;if(u.type!=="MeshPhongMaterial")delete u.specular;if(u.opacity<1)u.transparent=true;r.setTextures(c);return r.parse(u)}}()};yl.Handlers={handlers:[],add:function(e,t){this.handlers.push(e,t)},get:function(e){var t=this.handlers;for(var i=0,r=t.length;i<r;i+=2){var n=t[i];var a=t[i+1];if(n.test(e)){return a}}return null}};function xl(e){this.manager=e!==undefined?e:fl}Object.assign(xl.prototype,{load:function(e,t,i,r){var n=this;var a=new dl(this.manager);a.load(e,function(e){var i;try{i=JSON.parse(e)}catch(t){console.warn("SZX3D.FontLoader: typeface.js support is being deprecated. Use typeface.json instead.");i=JSON.parse(e.substring(65,e.length-2))}var r=n.parse(i);if(t)t(r)},i,r)},parse:function(e){return new jc(e)}});function _l(e){if(typeof e==="boolean"){console.warn("SZX3D.JSONLoader: showStatus parameter has been removed from constructor.");e=undefined}this.manager=e!==undefined?e:fl;this.withCredentials=false}Object.assign(_l.prototype,{load:function(e,t,i,r){var n=this;var a=this.texturePath&&typeof this.texturePath==="string"?this.texturePath:yl.prototype.extractUrlBase(e);var o=new dl(this.manager);o.setWithCredentials(this.withCredentials);o.load(e,function(i){var r=JSON.parse(i);var o=r.metadata;if(o!==undefined){var s=o.type;if(s!==undefined){if(s.toLowerCase()==="object"){console.error("SZX3D.JSONLoader: "+e+" should be loaded with SZX3D.ObjectLoader instead.");return}if(s.toLowerCase()==="scene"){console.error("SZX3D.JSONLoader: "+e+" should be loaded with SZX3D.SceneLoader instead.");return}}}var c=n.parse(r,a);t(c.geometry,c.materials)},i,r)},setTexturePath:function(e){this.texturePath=e},parse:function(e,t){var i=new vi,r=e.scale!==undefined?1/e.scale:1;n(r);a();o(r);s();i.computeFaceNormals();i.computeBoundingSphere();function n(t){function r(e,t){return e&1<<t}var n,a,o,s,c,l,u,h,f,d,p,m,v,g,y,x,_,b,w,M,S,T,A,L,E,P,C,I=e.faces,R=e.vertices,N=e.normals,D=e.colors,U=0;if(e.uvs!==undefined){for(n=0;n<e.uvs.length;n++){if(e.uvs[n].length)U++}for(n=0;n<U;n++){i.faceVertexUvs[n]=[]}}s=0;c=R.length;while(s<c){b=new At;b.x=R[s++]*t;b.y=R[s++]*t;b.z=R[s++]*t;i.vertices.push(b)}s=0;c=I.length;while(s<c){d=I[s++];p=r(d,0);m=r(d,1);v=r(d,3);g=r(d,4);y=r(d,5);x=r(d,6);_=r(d,7);if(p){M=new $t;M.a=I[s];M.b=I[s+1];M.c=I[s+3];S=new $t;S.a=I[s+1];S.b=I[s+2];S.c=I[s+3];s+=4;if(m){f=I[s++];M.materialIndex=f;S.materialIndex=f}o=i.faces.length;if(v){for(n=0;n<U;n++){L=e.uvs[n];i.faceVertexUvs[n][o]=[];i.faceVertexUvs[n][o+1]=[];for(a=0;a<4;a++){h=I[s++];P=L[h*2];C=L[h*2+1];E=new Mt(P,C);if(a!==2)i.faceVertexUvs[n][o].push(E);if(a!==0)i.faceVertexUvs[n][o+1].push(E)}}}if(g){u=I[s++]*3;M.normal.set(N[u++],N[u++],N[u]);S.normal.copy(M.normal)}if(y){for(n=0;n<4;n++){u=I[s++]*3;A=new At(N[u++],N[u++],N[u]);if(n!==2)M.vertexNormals.push(A);if(n!==0)S.vertexNormals.push(A)}}if(x){l=I[s++];T=D[l];M.color.setHex(T);S.color.setHex(T)}if(_){for(n=0;n<4;n++){l=I[s++];T=D[l];if(n!==2)M.vertexColors.push(new bt(T));if(n!==0)S.vertexColors.push(new bt(T))}}i.faces.push(M);i.faces.push(S)}else{w=new $t;w.a=I[s++];w.b=I[s++];w.c=I[s++];if(m){f=I[s++];w.materialIndex=f}o=i.faces.length;if(v){for(n=0;n<U;n++){L=e.uvs[n];i.faceVertexUvs[n][o]=[];for(a=0;a<3;a++){h=I[s++];P=L[h*2];C=L[h*2+1];E=new Mt(P,C);i.faceVertexUvs[n][o].push(E)}}}if(g){u=I[s++]*3;w.normal.set(N[u++],N[u++],N[u])}if(y){for(n=0;n<3;n++){u=I[s++]*3;A=new At(N[u++],N[u++],N[u]);w.vertexNormals.push(A)}}if(x){l=I[s++];w.color.setHex(D[l])}if(_){for(n=0;n<3;n++){l=I[s++];w.vertexColors.push(new bt(D[l]))}}i.faces.push(w)}}}function a(){var t=e.influencesPerVertex!==undefined?e.influencesPerVertex:2;if(e.skinWeights){for(var r=0,n=e.skinWeights.length;r<n;r+=t){var a=e.skinWeights[r];var o=t>1?e.skinWeights[r+1]:0;var s=t>2?e.skinWeights[r+2]:0;var c=t>3?e.skinWeights[r+3]:0;i.skinWeights.push(new St(a,o,s,c))}}if(e.skinIndices){for(var r=0,n=e.skinIndices.length;r<n;r+=t){var l=e.skinIndices[r];var u=t>1?e.skinIndices[r+1]:0;var h=t>2?e.skinIndices[r+2]:0;var f=t>3?e.skinIndices[r+3]:0;i.skinIndices.push(new St(l,u,h,f))}}i.bones=e.bones;if(i.bones&&i.bones.length>0&&(i.skinWeights.length!==i.skinIndices.length||i.skinIndices.length!==i.vertices.length)){console.warn("When skinning, number of vertices ("+i.vertices.length+"), skinIndices ("+i.skinIndices.length+"), and skinWeights ("+i.skinWeights.length+") should match.")}}function o(t){if(e.morphTargets!==undefined){for(var r=0,n=e.morphTargets.length;r<n;r++){i.morphTargets[r]={};i.morphTargets[r].name=e.morphTargets[r].name;i.morphTargets[r].vertices=[];var a=i.morphTargets[r].vertices;var o=e.morphTargets[r].vertices;for(var s=0,c=o.length;s<c;s+=3){var l=new At;l.x=o[s]*t;l.y=o[s+1]*t;l.z=o[s+2]*t;a.push(l)}}}if(e.morphColors!==undefined&&e.morphColors.length>0){console.warn('SZX3D.JSONLoader: "morphColors" no longer supported. Using them as face colors.');var u=i.faces;var h=e.morphColors[0].colors;for(var r=0,n=u.length;r<n;r++){u[r].color.fromArray(h,r*3)}}}function s(){var t=[];var r=[];if(e.animation!==undefined){r.push(e.animation)}if(e.animations!==undefined){if(e.animations.length){r=r.concat(e.animations)}else{r.push(e.animations)}}for(var n=0;n<r.length;n++){var a=Ii.parseAnimation(r[n],i.bones);if(a)t.push(a)}if(i.morphTargets){var o=Ii.CreateClipsFromMorphTargetSequences(i.morphTargets,10);t=t.concat(o)}if(t.length>0)i.animations=t}if(e.materials===undefined||e.materials.length===0){return{geometry:i}}else{var c=yl.prototype.initMaterials(e.materials,t,this.crossOrigin);return{geometry:i,materials:c}}}});function bl(e){this.manager=e!==undefined?e:fl}Object.assign(bl.prototype,{load:function(e,t,i,r){var n=this;var a=new dl(n.manager);a.load(e,function(e){t(n.parse(JSON.parse(e)))},i,r)},parse:function(e){var t=new yi;var i=e.data.index;var r={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};if(i!==undefined){var n=new r[i.type](i.array);t.setIndex(new ei(n,1))}var a=e.data.attributes;for(var o in a){var s=a[o];var n=new r[s.type](s.array);t.addAttribute(o,new ei(n,s.itemSize,s.normalized))}var c=e.data.groups||e.data.drawcalls||e.data.offsets;if(c!==undefined){for(var l=0,u=c.length;l!==u;++l){var h=c[l];t.addGroup(h.start,h.count,h.materialIndex)}}var f=e.data.boundingSphere;if(f!==undefined){var d=new At;if(f.center!==undefined){d.fromArray(f.center)}t.boundingSphere=new Nt(d,f.radius)}return t}});function wl(e){this.manager=e!==undefined?e:fl}Object.assign(wl.prototype,{load:function(e,t,i,r){var n=new zr;var a=new vl(this.manager);a.setCrossOrigin(this.crossOrigin);a.setPath(this.path);var o=0;function s(i){a.load(e[i],function(e){n.images[i]=e;o++;if(o===6){n.needsUpdate=true;if(t)t(n)}},undefined,r)}for(var c=0;c<e.length;++c){s(c)}return n},setCrossOrigin:function(e){this.crossOrigin=e;return this},setPath:function(e){this.path=e;return this}});function Ml(e){this.manager=e!==undefined?e:fl;this._parser=null}Object.assign(Ml.prototype,{load:function(e,t,i,r){var n=this;var a=new Fr;var o=new dl(this.manager);o.setResponseType("arraybuffer");o.load(e,function(e){var i=n._parser(e);if(!i)return;if(undefined!==i.image){a.image=i.image}else if(undefined!==i.data){a.image.width=i.width;a.image.height=i.height;a.image.data=i.data}a.wrapS=undefined!==i.wrapS?i.wrapS:de;a.wrapT=undefined!==i.wrapT?i.wrapT:de;a.magFilter=undefined!==i.magFilter?i.magFilter:ye;a.minFilter=undefined!==i.minFilter?i.minFilter:_e;a.anisotropy=undefined!==i.anisotropy?i.anisotropy:1;if(undefined!==i.format){a.format=i.format}if(undefined!==i.type){a.type=i.type}if(undefined!==i.mipmaps){a.mipmaps=i.mipmaps}if(1===i.mipmapCount){a.minFilter=ye}a.needsUpdate=true;if(t)t(a,i)},i,r);return a}});function Sl(e){this.manager=e!==undefined?e:fl;this._parser=null}Object.assign(Sl.prototype,{load:function(e,t,i,r){var n=this;var a=[];var o=new Br;o.image=a;var s=new dl(this.manager);s.setPath(this.path);s.setResponseType("arraybuffer");function c(c){s.load(e[c],function(e){var i=n._parser(e,true);a[c]={width:i.width,height:i.height,format:i.format,mipmaps:i.mipmaps};l+=1;if(l===6){if(i.mipmapCount===1)o.minFilter=ye;o.format=i.format;o.needsUpdate=true;if(t)t(o)}},i,r)}if(Array.isArray(e)){var l=0;for(var u=0,h=e.length;u<h;++u){c(u)}}else{s.load(e,function(e){var i=n._parser(e,true);if(i.isCubemap){var r=i.mipmaps.length/i.mipmapCount;for(var s=0;s<r;s++){a[s]={mipmaps:[]};for(var c=0;c<i.mipmapCount;c++){a[s].mipmaps.push(i.mipmaps[s*i.mipmapCount+c]);a[s].format=i.format;a[s].width=i.width;a[s].height=i.height}}}else{o.image.width=i.width;o.image.height=i.height;o.mipmaps=i.mipmaps}if(i.mipmapCount===1){o.minFilter=ye}o.format=i.format;o.needsUpdate=true;if(t)t(o)},i,r)}return o},setPath:function(e){this.path=e;return this}});function Tl(e){this.manager=e!==undefined?e:fl;this.texturePath=""}Object.assign(Tl.prototype,{load:function(e,t,i,r){if(this.texturePath===""){this.texturePath=e.substring(0,e.lastIndexOf("/")+1)}var n=this;var a=new dl(n.manager);a.load(e,function(i){var a=null;try{a=JSON.parse(i)}catch(t){if(r!==undefined)r(t);console.error("SZX3D:ObjectLoader: Can't parse "+e+".",t.message);return}var o=a.metadata;if(o===undefined||o.type===undefined||o.type.toLowerCase()==="geometry"){console.error("SZX3D.ObjectLoader: Can't load "+e+". Use SZX3D.JSONLoader instead.");return}n.parse(a,t)},i,r)},setTexturePath:function(e){this.texturePath=e},setCrossOrigin:function(e){this.crossOrigin=e},parse:function(e,t){var i=this.parseGeometries(e.geometries);var r=this.parseImages(e.images,function(){if(t!==undefined)t(o)});var n=this.parseTextures(e.textures,r);var a=this.parseMaterials(e.materials,n);var o=this.parseObject(e.object,i,a);if(e.animations){o.animations=this.parseAnimations(e.animations)}if(e.images===undefined||e.images.length===0){if(t!==undefined)t(o)}return o},parseGeometries:function(e){var t={};if(e!==undefined){var i=new _l;var r=new bl;for(var n=0,a=e.length;n<a;n++){var o;var s=e[n];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":o=new Pr[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":o=new Pr[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":o=new Pr[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":o=new Pr[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":o=new Pr[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":o=new Pr[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"IcosahedronGeometry":
case"OctahedronGeometry":case"TetrahedronGeometry":o=new Pr[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":o=new Pr[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":o=new Pr[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":o=new Pr[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"LatheGeometry":case"LatheBufferGeometry":o=new Pr[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"BufferGeometry":o=r.parse(s);break;case"Geometry":o=i.parse(s.data,this.texturePath).geometry;break;default:console.warn('SZX3D.ObjectLoader: Unsupported geometry type "'+s.type+'"');continue}o.uuid=s.uuid;if(s.name!==undefined)o.name=s.name;t[s.uuid]=o}}return t},parseMaterials:function(e,t){var i={};if(e!==undefined){var r=new ml;r.setTextures(t);for(var n=0,a=e.length;n<a;n++){var o=r.parse(e[n]);i[o.uuid]=o}}return i},parseAnimations:function(e){var t=[];for(var i=0;i<e.length;i++){var r=Ii.parse(e[i]);t.push(r)}return t},parseImages:function(e,t){var i=this;var r={};function n(e){i.manager.itemStart(e);return o.load(e,function(){i.manager.itemEnd(e)},undefined,function(){i.manager.itemError(e)})}if(e!==undefined&&e.length>0){var a=new hl(t);var o=new vl(a);o.setCrossOrigin(this.crossOrigin);for(var s=0,c=e.length;s<c;s++){var l=e[s];var u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l.url)?l.url:i.texturePath+l.url;r[l.uuid]=n(u)}}return r},parseTextures:function(e,t){var i={UVMapping:ne,CubeReflectionMapping:ae,CubeRefractionMapping:oe,EquirectangularReflectionMapping:se,EquirectangularRefractionMapping:ce,SphericalReflectionMapping:le,CubeUVReflectionMapping:ue,CubeUVRefractionMapping:he};var r={RepeatWrapping:fe,ClampToEdgeWrapping:de,MirroredRepeatWrapping:pe};var n={NearestFilter:me,NearestMipMapNearestFilter:ve,NearestMipMapLinearFilter:ge,LinearFilter:ye,LinearMipMapNearestFilter:xe,LinearMipMapLinearFilter:_e};function a(e,t){if(typeof e==="number")return e;console.warn("SZX3D.ObjectLoader.parseTexture: Constant should be in numeric form.",e);return t[e]}var o={};if(e!==undefined){for(var s=0,c=e.length;s<c;s++){var l=e[s];if(l.image===undefined){console.warn('SZX3D.ObjectLoader: No "image" specified for',l.uuid)}if(t[l.image]===undefined){console.warn("SZX3D.ObjectLoader: Undefined image",l.image)}var u=new Dr(t[l.image]);u.needsUpdate=true;u.uuid=l.uuid;if(l.name!==undefined)u.name=l.name;if(l.mapping!==undefined)u.mapping=a(l.mapping,i);if(l.offset!==undefined)u.offset.fromArray(l.offset);if(l.repeat!==undefined)u.repeat.fromArray(l.repeat);if(l.wrap!==undefined){u.wrapS=a(l.wrap[0],r);u.wrapT=a(l.wrap[1],r)}if(l.minFilter!==undefined)u.minFilter=a(l.minFilter,n);if(l.magFilter!==undefined)u.magFilter=a(l.magFilter,n);if(l.anisotropy!==undefined)u.anisotropy=l.anisotropy;if(l.flipY!==undefined)u.flipY=l.flipY;o[l.uuid]=u}}return o},parseObject:function(){var e=new Lt;var t={};return function i(r,n,a){var o;function s(e){if(n[e]===undefined){console.warn("SZX3D.ObjectLoader: Undefined geometry",e)}return n[e]}function c(e){if(e===undefined)return undefined;if(a[e]===undefined){console.warn("SZX3D.ObjectLoader: Undefined material",e)}return a[e]}switch(r.type){case"Scene":o=new Cr;if(r.background!==undefined){if(Number.isInteger(r.background)){o.background=new bt(r.background)}}if(r.fog!==undefined){if(r.fog.type==="Fog"){o.fog=new Ir(r.fog.color,r.fog.near,r.fog.far)}else if(r.fog.type==="FogExp2"){o.fog=new Rr(r.fog.color,r.fog.density)}}break;case"PerspectiveCamera":o=new jo(r.fov,r.aspect,r.near,r.far);if(r.focus!==undefined)o.focus=r.focus;if(r.zoom!==undefined)o.zoom=r.zoom;if(r.filmGauge!==undefined)o.filmGauge=r.filmGauge;if(r.filmOffset!==undefined)o.filmOffset=r.filmOffset;if(r.view!==undefined)o.view=Object.assign({},r.view);break;case"OrthographicCamera":o=new Xo(r.left,r.right,r.top,r.bottom,r.near,r.far);break;case"AmbientLight":o=new qs(r.color,r.intensity);break;case"DirectionalLight":o=new ec(r.color,r.intensity);break;case"PointLight":o=new Qs(r.color,r.intensity,r.distance,r.decay);break;case"SpotLight":o=new ic(r.color,r.intensity,r.distance,r.angle,r.penumbra,r.decay);break;case"HemisphereLight":o=new Js(r.color,r.groundColor,r.intensity);break;case"RectAreaLight":o=new Ks(r.color,r.intensity,r.width,r.height);break;case"Mesh":var l=s(r.geometry);var u=c(r.material);if(l.bones&&l.bones.length>0){o=new Gs(l,u)}else{o=new Go(l,u)}break;case"LOD":o=new Vs;break;case"Line":o=new zs(s(r.geometry),c(r.material),r.mode);break;case"LineSegments":o=new Bs(s(r.geometry),c(r.material));break;case"PointCloud":case"Points":o=new Os(s(r.geometry),c(r.material));break;case"Sprite":o=new js(c(r.material));break;case"Group":o=new Us;break;case"SkinnedMesh":console.warn("SZX3D.ObjectLoader.parseObject() does not support SkinnedMesh type. Instantiates Object3D instead.");default:o=new Qt}o.uuid=r.uuid;if(r.name!==undefined)o.name=r.name;if(r.matrix!==undefined){e.fromArray(r.matrix);e.decompose(o.position,o.quaternion,o.scale)}else{if(r.position!==undefined)o.position.fromArray(r.position);if(r.rotation!==undefined)o.rotation.fromArray(r.rotation);if(r.quaternion!==undefined)o.quaternion.fromArray(r.quaternion);if(r.scale!==undefined)o.scale.fromArray(r.scale)}if(r.castShadow!==undefined)o.castShadow=r.castShadow;if(r.receiveShadow!==undefined)o.receiveShadow=r.receiveShadow;if(r.shadow){if(r.shadow.bias!==undefined)o.shadow.bias=r.shadow.bias;if(r.shadow.radius!==undefined)o.shadow.radius=r.shadow.radius;if(r.shadow.mapSize!==undefined)o.shadow.mapSize.fromArray(r.shadow.mapSize);if(r.shadow.camera!==undefined)o.shadow.camera=this.parseObject(r.shadow.camera)}if(r.visible!==undefined)o.visible=r.visible;if(r.userData!==undefined)o.userData=r.userData;if(r.children!==undefined){for(var h in r.children){o.add(this.parseObject(r.children[h],n,a))}}if(r.type==="LOD"){var f=r.levels;for(var d=0;d<f.length;d++){var p=f[d];var h=o.getObjectByProperty("uuid",p.object);if(h!==undefined){o.addLevel(h,p.distance)}}}if(r.target!==undefined)t[r.target]=o;if(t[r.uuid]!==undefined)t[r.uuid].target=o;return o}}()});function Al(e){yl.call(this);this.manager=e!==undefined?e:fl;this.textureLoader=null;this.textureBasePath=null}(function(){Al.prototype=Object.create(yl.prototype);Al.prototype.constructor=Al;Object.assign(Al.prototype,{load:function(e,t,i,r){var n=this;var a=new dl(n.manager);a.load(e,function(i){if(!n.isFbxFormatASCII(i)){console.warn("FBXLoader: !!! FBX Binary format not supported !!!")}else if(!n.isFbxVersionSupported(i)){console.warn("FBXLoader: !!! FBX Version below 7 not supported !!!")}else{n.textureBasePath=n.extractUrlBase(e);t(n.parse(i))}},i,r)},setCrossOrigin:function(e){this.crossOrigin=e},isFbxFormatASCII:function(e){var t=["K","a","y","d","a","r","a","\\","F","B","X","\\","B","i","n","a","r","y","\\","\\"];var i=0;var r=function(t){var r=e[t-1];e=e.slice(i+t);i++;return r};for(var n=0;n<t.length;++n){var a=r(1);if(a===t[n]){return false}}return true},isFbxVersionSupported:function(e){var t=/FBXVersion: (\d+)/;var i=e.match(t);if(i){var r=parseInt(i[1]);console.log("FBXLoader: FBX version "+r);return r>=7e3}return false},parse:function(e){var a=this;console.time("FBXLoader");console.time("FBXLoader: TextParser");var o=(new t).parse(e);console.timeEnd("FBXLoader: TextParser");console.time("FBXLoader: ObjectParser");a.hierarchy=(new r).parseHierarchy(o);a.weights=(new i).parse(o,a.hierarchy);a.animations=(new h).parse(o,a.hierarchy);a.textures=(new f).parse(o,a.hierarchy);a.materials=(new p).parse(o,a.hierarchy);a.geometries=(new n).parse(o,a.hierarchy);console.timeEnd("FBXLoader: ObjectParser");this.texture_cache={};this.material_cache={};this.geometry_cache={};console.time("FBXLoader: MeshParser");var s=this.parseMeshes(o);console.timeEnd("FBXLoader: MeshParser");var c=new Us;for(var l=0;l<s.length;++l){if(s[l]===undefined){continue}c.add(s[l])}console.timeEnd("FBXLoader");return c},getTexture:function(e){if(!(e.id in this.texture_cache)){if(this.textureLoader===null){this.textureLoader=new gl}this.texture_cache[e.id]=this.textureLoader.load(this.textureBasePath+"/"+e.fileName)}return this.texture_cache[e.id]},getMaterial:function(e,t){if(!(e.id in this.material_cache)){var i;switch(e.type){case"phong":i=new As;break;case"lambert":i=new Ss;break;default:console.warn("No implementation given for material type "+e.type+" in FBXLoader.js.  Defaulting to basic material");i=new ko({color:3342591});break}var r=t.searchConnectionChildren(e.id);for(var n=0;n<r.length;++n){var a=t.searchConnectionType(r[n],e.id);switch(a){case' "AmbientColor':break;case' "DiffuseColor':e.parameters.map=this.getTexture(this.textures.textures[r[n]]);break;default:console.warn("Unknown texture application of type "+a+", skipping texture");break}}i.setValues(e.parameters);this.material_cache[e.id]=i}return this.material_cache[e.id]},getGeometry:function(e){if(!(e.id in this.geometry_cache)){var t=new yi;t.name=e.name;t.addAttribute("position",new ei(new Float32Array(e.vertices),3));if(e.normals!==undefined&&e.normals.length>0){t.addAttribute("normal",new ei(new Float32Array(e.normals),3))}if(e.uvs!==undefined&&e.uvs.length>0){t.addAttribute("uv",new ei(new Float32Array(e.uvs),2))}if(e.indices!==undefined&&e.indices.length>0){t.setIndex(e.indices)}t.verticesNeedUpdate=true;t.computeBoundingSphere();t.computeBoundingBox();if(e.materialIndices.length>1){t.groups=[];for(var i=0,r=-1;i<e.materialIndices.length;++i){if(e.materialIndices[i]!==r){t.groups.push({start:i*3,count:0,materialIndex:e.materialIndices[i]});r=e.materialIndices[i]}t.groups[t.groups.length-1].count+=3}}this.geometry_cache[e.id]=(new vi).fromBufferGeometry(t);this.geometry_cache[e.id].bones=e.bones;this.geometry_cache[e.id].skinIndices=this.weights.skinIndices;this.geometry_cache[e.id].skinWeights=this.weights.skinWeights}return this.geometry_cache[e.id]},parseMeshes:function(e){var t=e.Objects.subNodes.Model;var i=[];for(var r in t){if(t[r].attrType==="Mesh"){i.push(this.parseMesh(t[r],e))}else if(t[r].attrType==="NurbsCurve"){i.push(this.parseNURBS(t[r],e))}}return i},parseFloatList:function(e){return e.split(",").map(function(e){return parseFloat(e)})},parseNURBS:function(e,t){if(NURBSCurve===undefined){console.error("FBXLoader relies on NURBSCurve");return}var i=t.Objects.subNodes.Geometry;var r=t.searchConnectionChildren(e.id);var n;for(var a=0;a<r.length;++a){if(r[a]in i){n=i[r[a]];break}}if(n===undefined){return}var o=parseInt(n.properties.Order);if(isNaN(o)){console.error("Invalid Order: `"+n.properties.Order+"` (should be an integer)");return}var s=this.parseFloatList(n.subNodes.KnotVector.properties.a);var c=[];var l=this.parseFloatList(n.subNodes.Points.properties.a);for(var a=0;a<l.length;a+=4){c.push({x:l[a],y:l[a+1],z:l[a+2],w:l[a+3]})}if(n.properties.Form==="Closed"){c.push(c[0])}var u=new NURBSCurve(o-1,s,c);var h=new vi;h.vertices=u.getPoints(c.length*1.5);var f=new zs(h);f.userData.curve=u;return f},parseMesh:function(e,t){var i=t.Objects.subNodes.Geometry;var r=t.Objects.subNodes.Material;var n=t.searchConnectionChildren(e.id);var a;var o=[];var s;var c;for(var l=0;l<n.length;++l){if(n[l]in i){a=this.getGeometry(this.geometries.geometries[n[l]]);continue}if(n[l]in r){o.push(this.getMaterial(this.materials.materials[n[l]],t));continue}}if(o.length>1){s=new Is(o)}else{s=o[0]}if(a.bones!==undefined&&a.skinWeights!==undefined&&a.skinWeights.length>0){if(s instanceof Is){for(var l=0;l<s.materials.length;++l){s.materials[l].skinning=true}}else{s.skinning=true}c=new Gs(a,s)}else{c=new Go(a,s)}if(this.animations!==undefined){this.addAnimation(c,this.weights.matrices,this.animations)}return c},addAnimation:function(e,t,i){for(var r in i.stacks){var n={name:i.stacks[r].name,fps:30,length:i.stacks[r].length,hierarchy:[]};for(var a=0;a<e.geometry.bones.length;++a){var o=e.geometry.bones[a].name;o=o.replace(/.*:/,"");n.hierarchy.push({parent:e.geometry.bones[a].parent,name:o,keys:[]})}function s(e,t){if(e===undefined){return false}var i;switch(t){case"S":if(!e.S){return false}i=e.S;break;case"R":if(!e.R){return false}i=e.R;break;case"T":if(!e.T){return false}i=e.T;break}if(i.curves.x===undefined){return false}if(i.curves.y===undefined){return false}if(i.curves.z===undefined){return false}return true}function c(e,t){var i=l(e.curves.x,t);var r=l(e.curves.y,t);var n=l(e.curves.z,t);return i&&r&&n}function l(e,t){var i=e.values[t];return i!==undefined}function u(e,t){var r={};r.time=f/i.fps;r.pos=t.pos;r.rot=t.rotq;r.scl=t.scl;if(e===undefined){return r}try{if(s(e,"T")&&c(e.T,f)){var n=new At(e.T.curves.x.values[f],e.T.curves.y.values[f],e.T.curves.z.values[f]);r.pos=[n.x,n.y,n.z]}if(s(e,"R")&&c(e.R,f)){var a=_(e.R.curves.x.values[f]);var o=_(e.R.curves.y.values[f]);var l=_(e.R.curves.z.values[f]);var u=new At(a,o,l);var h=b(u.x,u.y,u.z);r.rot=[h.x,h.y,h.z,h.w]}if(s(e,"S")&&c(e.S,f)){var d=new At(e.S.curves.x.values[f],e.S.curves.y.values[f],e.S.curves.z.values[f]);r.scl=[d.x,d.y,d.z]}}catch(e){console.log(t);console.log(e)}return r}var h=e.geometry.bones;for(var f=0;f<i.stacks[r].frames;f++){for(a=0;a<h.length;a++){var d=h[a];var p=i.stacks[r].layers[0][a];for(var m=0;m<n.hierarchy.length;m++){if(n.hierarchy[m].name===d.name){n.hierarchy[m].keys.push(u(p,d))}}}}if(e.geometry.animations===undefined){e.geometry.animations=[]}e.geometry.animations.push(Ii.parseAnimation(n,e.geometry.bones))}},loadFile:function(e,t,i,r,n){var a=new dl(this.manager);a.setResponseType(n);var o=a.load(e,t,i,r);return o},loadFileAsBuffer:function(e,t,i,r){this.loadFile(e,t,i,r,"arraybuffer")},loadFileAsText:function(e,t,i,r){this.loadFile(e,t,i,r,"text")}});function e(){}Object.assign(e.prototype,{add:function(e,t){this[e]=t},searchConnectionParent:function(e){if(this.__cache_search_connection_parent===undefined){this.__cache_search_connection_parent=[]}if(this.__cache_search_connection_parent[e]!==undefined){return this.__cache_search_connection_parent[e]}else{this.__cache_search_connection_parent[e]=[]}var t=this.Connections.properties.connections;var i=[];for(var r=0;r<t.length;++r){if(t[r][0]===e){var n=t[r][1]===0?-1:t[r][1];i.push(n)}}if(i.length>0){this.__cache_search_connection_parent[e]=this.__cache_search_connection_parent[e].concat(i);return i}else{this.__cache_search_connection_parent[e]=[-1];return[-1]}},searchConnectionChildren:function(e){if(this.__cache_search_connection_children===undefined){this.__cache_search_connection_children=[]}if(this.__cache_search_connection_children[e]!==undefined){return this.__cache_search_connection_children[e]}else{this.__cache_search_connection_children[e]=[]}var t=this.Connections.properties.connections;var i=[];for(var r=0;r<t.length;++r){if(t[r][1]===e){i.push(t[r][0]===0?-1:t[r][0])}}if(i.length>0){this.__cache_search_connection_children[e]=this.__cache_search_connection_children[e].concat(i);return i}else{this.__cache_search_connection_children[e]=[];return[]}},searchConnectionType:function(e,t){var i=e+","+t;if(this.__cache_search_connection_type===undefined){this.__cache_search_connection_type={}}if(this.__cache_search_connection_type[i]!==undefined){return this.__cache_search_connection_type[i]}else{this.__cache_search_connection_type[i]=""}var r=this.Connections.properties.connections;for(var n=0;n<r.length;++n){if(r[n][0]===e&&r[n][1]===t){this.__cache_search_connection_type[i]=r[n][2];return r[n][2]}}this.__cache_search_connection_type[e]=null;return null}});function t(){}Object.assign(t.prototype,{getPrevNode:function(){return this.nodeStack[this.currentIndent-2]},getCurrentNode:function(){return this.nodeStack[this.currentIndent-1]},getCurrentProp:function(){return this.currentProp},pushStack:function(e){this.nodeStack.push(e);this.currentIndent+=1},popStack:function(){this.nodeStack.pop();this.currentIndent-=1},setCurrentProp:function(e,t){this.currentProp=e;this.currentPropName=t},parse:function(t){this.currentIndent=0;this.allNodes=new e;this.nodeStack=[];this.currentProp=[];this.currentPropName="";var i=t.split("\n");for(var r in i){var n=i[r];if(n.match(/^[\s\t]*;/)){continue}if(n.match(/^[\s\t]*$/)){continue}var a=new RegExp("^\\t{"+this.currentIndent+"}(\\w+):(.*){","");var o=n.match(a);if(o){var s=o[1].trim().replace(/^"/,"").replace(/"$/,"");var c=o[2].split(",").map(function(e){return e.trim().replace(/^"/,"").replace(/"$/,"")});this.parseNodeBegin(n,s,c||null);continue}var l=new RegExp("^\\t{"+this.currentIndent+"}(\\w+):[\\s\\t\\r\\n](.*)");var o=n.match(l);if(o){var u=o[1].replace(/^"/,"").replace(/"$/,"").trim();var h=o[2].replace(/^"/,"").replace(/"$/,"").trim();this.parseNodeProperty(n,u,h);continue}var f=new RegExp("^\\t{"+(this.currentIndent-1)+"}}");if(n.match(f)){this.nodeEnd();continue}if(n.match(/^[^\s\t}]/)){this.parseNodePropertyContinued(n)}}return this.allNodes},parseNodeBegin:function(e,t,i){var r={name:t,properties:{},subNodes:{}};var n=this.parseNodeAttr(i);var a=this.getCurrentNode();if(this.currentIndent===0){this.allNodes.add(t,r)}else{if(t in a.subNodes){var o=a.subNodes[t];if(this.isFlattenNode(a.subNodes[t])){if(n.id===""){a.subNodes[t]=[];a.subNodes[t].push(o)}else{a.subNodes[t]={};a.subNodes[t][o.id]=o}}if(n.id===""){a.subNodes[t].push(r)}else{a.subNodes[t][n.id]=r}}else if(typeof n.id==="number"||n.id.match(/^\d+$/)){a.subNodes[t]={};a.subNodes[t][n.id]=r}else{a.subNodes[t]=r}}if(i){r.id=n.id;r.attrName=n.name;r.attrType=n.type}this.pushStack(r)},parseNodeAttr:function(e){var t=e[0];if(e[0]!==""){t=parseInt(e[0]);if(isNaN(t)){t=e[0]}}var i;var r;if(e.length>1){i=e[1].replace(/^(\w+)::/,"");r=e[2]}return{id:t,name:i||"",type:r||""}},parseNodeProperty:function(e,t,i){var r=this.getCurrentNode();var n=r.name;if(n!==undefined){var a=n.match(/Properties(\d)+/);if(a){this.parseNodeSpecialProperty(e,t,i);return}}if(t==="C"){var o=i.split(",").slice(1);var s=parseInt(o[0]);var c=parseInt(o[1]);var l=i.split(",").slice(3);t="connections";i=[s,c];i=i.concat(l);if(r.properties[t]===undefined){r.properties[t]=[]}}if(t==="Node"){var u=parseInt(i);r.properties.id=u;r.id=u}if(t in r.properties){if(Array.isArray(r.properties[t])){r.properties[t].push(i)}else{r.properties[t]+=i}}else{if(Array.isArray(r.properties[t])){r.properties[t].push(i)}else{r.properties[t]=i}}this.setCurrentProp(r.properties,t)},parseNodePropertyContinued:function(e){this.currentProp[this.currentPropName]+=e},parseNodeSpecialProperty:function(e,t,i){var r=i.split('",').map(function(e){return e.trim().replace(/^\"/,"").replace(/\s/,"_")});var n=r[0];var a=r[1];var o=r[2];var s=r[3];var c=r[4];switch(a){case"int":c=parseInt(c);break;case"double":c=parseFloat(c);break;case"ColorRGB":case"Vector3D":var l=c.split(",");c=new At(l[0],l[1],l[2]);break}this.getPrevNode().properties[n]={type:a,type2:o,flag:s,value:c};this.setCurrentProp(this.getPrevNode().properties,n)},nodeEnd:function(){this.popStack()},isFlattenNode:function(e){return"subNodes"in e&&"properties"in e?true:false}});function i(){this.skinIndices=[];this.skinWeights=[];this.matrices=[]}i.prototype.parseCluster=function(e,t,i){var r=e.searchConnectionParent(t);var n=w(i.subNodes.Indexes.properties.a);var a=M(i.subNodes.Weights.properties.a);var o=T(i.subNodes.Transform.properties.a);var s=T(i.subNodes.TransformLink.properties.a);return{parent:r,id:parseInt(t),indices:n,weights:a,transform:o,transformlink:s,linkMode:i.properties.Mode}};i.prototype.parse=function(e,t){this.skinIndices=[];this.skinWeights=[];this.matrices=[];var i=e.Objects.subNodes.Deformer;var r={};for(var n in i){if(i[n].attrType==="Cluster"){if(!("Indexes"in i[n].subNodes)){continue}var a=this.parseCluster(e,n,i[n]);var o=e.searchConnectionChildren(a.id)[0];r[o]=a}}var s=[];var c=t.hierarchy;for(var l=0;l<c.length;++l){var u=c[l].internalId;if(r[u]===undefined){this.matrices.push(new Lt);continue}var h=r[u];this.matrices.push(h.transform);for(var f=0;f<h.indices.length;++f){if(s[h.indices[f]]===undefined){s[h.indices[f]]={};s[h.indices[f]].joint=[];s[h.indices[f]].weight=[]}var d=e.searchConnectionChildren(h.id);if(d.length>1){console.warn("FBXLoader: node "+h.id+" have many weight kids: "+d)}s[h.indices[f]].joint.push(t.getBoneIdfromInternalId(e,d[0]));s[h.indices[f]].weight.push(h.weights[f])}}for(var p=0;p<s.length;p++){if(s[p]===undefined){this.skinIndices.push(new St(0,0,0,0));this.skinWeights.push(new St(0,0,0,0));continue}var m=new St(s[p].joint[0]?s[p].joint[0]:0,s[p].joint[1]?s[p].joint[1]:0,s[p].joint[2]?s[p].joint[2]:0,s[p].joint[3]?s[p].joint[3]:0);var v=new St(s[p].weight[0]?s[p].weight[0]:0,s[p].weight[1]?s[p].weight[1]:0,s[p].weight[2]?s[p].weight[2]:0,s[p].weight[3]?s[p].weight[3]:0);this.skinIndices.push(m);this.skinWeights.push(v)}return this};function r(){this.hierarchy=[]}r.prototype.parseHierarchy=function(e){var t=e.Objects;var i=t.subNodes.Model;var r=[];for(var n in i){if(i[n].attrType===undefined){continue}r.push(i[n])}this.hierarchy=[];for(var a=0;a<r.length;++a){var o=r[a];var s=e.searchConnectionParent(o.id)[0];var c=[0,0,0];var l=[0,0,0,1];var u=[1,1,1];if("Lcl_Translation"in o.properties){c=M(o.properties.Lcl_Translation.value)}if("Lcl_Rotation"in o.properties){l=S(o.properties.Lcl_Rotation.value);var h=new Tt;h.setFromEuler(new Pt(l[0],l[1],l[2],"ZYX"));l=[h.x,h.y,h.z,h.w]}if("Lcl_Scaling"in o.properties){u=M(o.properties.Lcl_Scaling.value)}var f=o.attrName;f=f.replace(/:/,"");f=f.replace(/_/,"");f=f.replace(/-/,"");this.hierarchy.push({parent:s,name:f,pos:c,rotq:l,scl:u,internalId:o.id})}this.reindexParentId();this.restoreBindPose(e);return this};r.prototype.reindexParentId=function(){for(var e=0;e<this.hierarchy.length;e++){for(var t=0;t<this.hierarchy.length;++t){if(this.hierarchy[e].parent===this.hierarchy[t].internalId){this.hierarchy[e].parent=t;break}}}};r.prototype.restoreBindPose=function(e){var t=e.Objects.subNodes.Pose;if(t===undefined){return}for(var i in t){if(t[i].attrType==="BindPose"){t=t[i];break}}var r=t.subNodes.PoseNode;var n={};var a={};for(var o=0;o<r.length;++o){var s=T(r[o].subNodes.Matrix.properties.a);var c=T(r[o].subNodes.Matrix.properties.a);n[r[o].id]=s;a[r[o].id]=c}for(var l=0;l<this.hierarchy.length;++l){var u=this.hierarchy[l];var h=u.internalId;if(a[h]===undefined){continue}var f=new At(0,0,0);var d=new Tt;var p=new At(1,1,1);var m;var v=e.searchConnectionParent(h);for(var g=0;g<v.length;++g){if(this.isBoneNode(v[g])){m=v[g];break}}if(m!==undefined&&n[m]!==undefined){var y=new Lt;y.getInverse(a[m]);y.multiply(n[h]);n[h]=y}else{}n[h].decompose(f,d,p);u.pos=[f.x,f.y,f.z];u.rotq=[d.x,d.y,d.z,d.w];u.scl=[p.x,p.y,p.z]}};r.prototype.searchRealId=function(e){for(var t=0;t<this.hierarchy.length;t++){if(e===this.hierarchy[t].internalId){return t}}return-1};r.prototype.getByInternalId=function(e){for(var t=0;t<this.hierarchy.length;t++){if(e===this.hierarchy[t].internalId){return this.hierarchy[t]}}return null};r.prototype.isBoneNode=function(e){for(var t=0;t<this.hierarchy.length;++t){if(e===this.hierarchy[t].internalId){return true}}return false};r.prototype.getBoneIdfromInternalId=function(e,t){if(e.__cache_get_boneid_from_internalid===undefined){e.__cache_get_boneid_from_internalid=[]}if(e.__cache_get_boneid_from_internalid[t]!==undefined){return e.__cache_get_boneid_from_internalid[t]}for(var i=0;i<this.hierarchy.length;++i){if(this.hierarchy[i].internalId===t){e.__cache_get_boneid_from_internalid[t]=i;return i}}return-1};function n(){this.geometries={}}Object.assign(n.prototype,{parse:function(e,t){if(!("Geometry"in e.Objects.subNodes)){return this}for(var i in e.Objects.subNodes.Geometry){if(e.Objects.subNodes.Geometry[i].attrType==="Mesh"){this.geometries[i]=(new a).parse(e.Objects.subNodes.Geometry[i]);this.geometries[i].addBones(t.hierarchy)}}return this}});function a(){this.node=null;this.name=null;this.id=null;this.vertices=[];this.indices=[];this.normals=[];this.uvs=[];this.bones=[]}a.prototype.parse=function(e){this.node=e;this.name=e.attrName;this.id=e.id;this.vertices=this.getVertices();if(this.vertices===undefined){console.log("FBXLoader: _Geometry.parse(): pass"+this.node.id);return}this.indices=this.getPolygonVertexIndices();this.uvs=(new o).parse(this.node,this);this.normals=(new s).parse(this.node,this);this.materialIndices=(new c).parse(this.node);if(this.getPolygonTopologyMax()>3){var t=this.convertPolyIndicesToTri(this.indices,this.materialIndices,this.getPolygonTopologyArray());this.indices=t.res;this.materialIndices=t.materialIndices;this.polyIndices=t.polyIndices}return this};a.prototype.getVertices=function(){if(this.node.__cache_vertices){return this.node.__cache_vertices}if(this.node.subNodes.Vertices===undefined){console.warn("this.node: "+this.node.attrName+"("+this.node.id+") does not have Vertices");this.node.__cache_vertices=undefined;return null}var e=this.node.subNodes.Vertices.properties.a;var t=e.split(",").map(function(e){return parseFloat(e)});this.node.__cache_vertices=t;return this.node.__cache_vertices};a.prototype.getPolygonVertexIndices=function(){if(this.node.__cache_indices&&this.node.__cache_poly_topology_max){return this.node.__cache_indices}if(this.node.subNodes===undefined){console.error("this.node.subNodes undefined");console.log(this.node);return}if(this.node.subNodes.PolygonVertexIndex===undefined){console.warn("this.node: "+this.node.attrName+"("+this.node.id+") does not have PolygonVertexIndex ");this.node.__cache_indices=undefined;return}var e=this.node.subNodes.PolygonVertexIndex.properties.a;var t=e.split(",");var i=1;var r=null;var n=[];for(var a=0;a<t.length;++a){var o=parseInt(t[a]);if(o<0){if(i>r){r=i}t[a]=o^-1;n.push(i);i=1}else{t[a]=o;i++}}if(r===null){console.warn("FBXLoader: topology N not found: "+this.node.attrName);console.warn(this.node);r=3}this.node.__cache_poly_topology_max=r;this.node.__cache_poly_topology_arr=n;this.node.__cache_indices=t;return this.node.__cache_indices};a.prototype.getPolygonTopologyMax=function(){if(this.node.__cache_indices&&this.node.__cache_poly_topology_max){return this.node.__cache_poly_topology_max}this.getPolygonVertexIndices(this.node);return this.node.__cache_poly_topology_max};a.prototype.getPolygonTopologyArray=function(){if(this.node.__cache_indices&&this.node.__cache_poly_topology_max){return this.node.__cache_poly_topology_arr}this.getPolygonVertexIndices(this.node);return this.node.__cache_poly_topology_arr};a.prototype.convertPolyIndicesToTri=function(e,t,i){var r=[];var n=0;var a=0;var o=0;var s=[];while(n<e.length){o=i[a];for(var c=0;c<=o-3;c++){r.push(e[n]);r.push(e[n+(o-2-c)]);r.push(e[n+(o-1-c)]);s.push(a)}a++;n+=o}var l=[t[0]];if(t.length>1){for(var n=0;n<s.length;++n){l[n]=t[s[n]]}}return{res:r,materialIndices:l,polyIndices:s}};a.prototype.addBones=function(e){this.bones=e};function o(){this.uv=null;this.map=null;this.ref=null;this.node=null;this.index=null}o.prototype.getUV=function(e){if(this.node&&this.uv&&this.map&&this.ref){return this.uv}else{return this._parseText(e)}};o.prototype.getMap=function(e){if(this.node&&this.uv&&this.map&&this.ref){return this.map}else{this._parseText(e);return this.map}};o.prototype.getRef=function(e){if(this.node&&this.uv&&this.map&&this.ref){return this.ref}else{this._parseText(e);return this.ref}};o.prototype.getIndex=function(e){if(this.node&&this.uv&&this.map&&this.ref){return this.index}else{this._parseText(e);return this.index}};o.prototype.getNode=function(e){if(this.node!==null){return this.node}this.node=e.subNodes.LayerElementUV;return this.node};o.prototype._parseText=function(e){var t=this.getNode(e)[0];if(t===undefined){return[]}var i=0;for(var r in t){if(r.match(/^\d+$/)){i++}}if(i>0){console.warn("multi uv not supported");t=t[r]}var n=t.subNodes.UVIndex.properties.a;var a=t.subNodes.UV.properties.a;var o=t.properties.MappingInformationType;var s=t.properties.ReferenceInformationType;this.uv=M(a);this.index=w(n);this.map=o;this.ref=s;return this.uv};o.prototype.parse=function(e,t){if(!("LayerElementUV"in e.subNodes)){return}this.uvNode=this.getNode(e);this.uv=this.getUV(e);var i=this.getMap(e);var r=this.getRef(e);var n=this.getIndex(e);var a=t.getPolygonTopologyArray();switch(i){case"ByPolygonVertex":switch(r){case"Direct":this.uv=this.parseUV_ByPolygonVertex_Direct(this.uv,n,a,2);break;case"IndexToDirect":this.uv=this.parseUV_ByPolygonVertex_IndexToDirect(this.uv,n);break}this.uv=y(this.uv,t.getPolygonVertexIndices(e),2);break;case"ByPolygon":switch(r){case"Direct":this.uv=this.parseUV_ByPolygon_Direct();break;case"IndexToDirect":this.uv=this.parseUV_ByPolygon_IndexToDirect();break}break}return this.uv};o.prototype.parseUV_ByPolygonVertex_Direct=function(e,t,i,r){return g(e,t,i,r)};o.prototype.parseUV_ByPolygonVertex_IndexToDirect=function(e,t){return v(e,t,2)};o.prototype.parseUV_ByPolygon_Direct=function(e){console.warn("not implemented");return e};o.prototype.parseUV_ByPolygon_IndexToDirect=function(e){console.warn("not implemented");return e};o.prototype.parseUV_ByVertex_Direct=function(e){console.warn("not implemented");return e};function s(){this.normal=null;this.map=null;this.ref=null;this.node=null;this.index=null}s.prototype.getNormal=function(e){if(this.node&&this.normal&&this.map&&this.ref){return this.normal}else{this._parseText(e);return this.normal}};s.prototype.getMap=function(e){if(this.node&&this.normal&&this.map&&this.ref){return this.map}else{this._parseText(e);return this.map}};s.prototype.getRef=function(e){if(this.node&&this.normal&&this.map&&this.ref){return this.ref}else{this._parseText(e);return this.ref}};s.prototype.getNode=function(e){if(this.node){return this.node}this.node=e.subNodes.LayerElementNormal;return this.node};s.prototype._parseText=function(e){var t=this.getNode(e)[0];if(t===undefined){console.warn("node: "+e.attrName+"("+e.id+") does not have LayerElementNormal");return}var i=t.properties.MappingInformationType;var r=t.properties.ReferenceInformationType;var n=t.subNodes.Normals.properties.a;this.normal=M(n);this.map=i;this.ref=r};s.prototype.parse=function(e,t){var i=this.getNormal(e);var r=this.getMap(e);var n=this.getRef(e);var a=t.getPolygonVertexIndices(e);var o=t.getPolygonTopologyArray(e);switch(r){case"ByPolygonVertex":switch(n){case"Direct":i=this.parseNormal_ByPolygonVertex_Direct(i,a,o,3);break;case"IndexToDirect":i=this.parseNormal_ByPolygonVertex_IndexToDirect();break}break;case"ByPolygon":switch(n){case"Direct":i=this.parseNormal_ByPolygon_Direct();break;case"IndexToDirect":i=this.parseNormal_ByPolygon_IndexToDirect();break}break}return i};s.prototype.parseNormal_ByPolygonVertex_Direct=function(e,t,i,r){return g(e,t,i,r)};s.prototype.parseNormal_ByPolygonVertex_IndexToDirect=function(e){console.warn("not implemented");return e};s.prototype.parseNormal_ByPolygon_Direct=function(e){console.warn("not implemented");return e};s.prototype.parseNormal_ByPolygon_IndexToDirect=function(e){console.warn("not implemented");return e};s.prototype.parseNormal_ByVertex_Direct=function(e){console.warn("not implemented");return e};function c(){this.indexBuffer=[]}Object.assign(c.prototype,{parse:function(e){if(!("LayerElementMaterial"in e.subNodes)){return}var t=e.subNodes.LayerElementMaterial[0];var i=t.properties.MappingInformationType;var r=t.properties.ReferenceInformationType;var n=w(t.subNodes.Materials.properties.a);switch(i){case"ByPolygon":switch(r){case"IndexToDirect":this.indexBuffer=this.parse_ByPolygon_IndexToDirect(n);break;default:this.indexBuffer=[0];break}break;default:this.indexBuffer=[0];break}return this.indexBuffer},parse_ByPolygon_IndexToDirect:function(e){return e}});function l(){this.version=null;this.id=null;this.internalId=null;this.times=null;this.values=null;this.attrFlag=null;this.attrData=null}l.prototype.fromNode=function(e){this.id=e.id;this.internalId=e.id;this.times=e.subNodes.KeyTime.properties.a;this.values=e.subNodes.KeyValueFloat.properties.a;this.attrFlag=e.subNodes.KeyAttrFlags.properties.a;this.attrData=e.subNodes.KeyAttrDataFloat.properties.a;this.times=M(this.times);
this.values=M(this.values);this.attrData=M(this.attrData);this.attrFlag=w(this.attrFlag);this.times=this.times.map(function(e){return x(e)});return this};l.prototype.getLength=function(){return this.times[this.times.length-1]};function u(){this.id=null;this.attr=null;this.attrX=false;this.attrY=false;this.attrZ=false;this.internalId=null;this.containerInternalId=null;this.containerBoneId=null;this.curveIdx=null;this.curves={}}u.prototype.fromNode=function(e,t,i){this.id=t.id;this.attr=t.attrName;this.internalId=t.id;if(this.attr.match(/S|R|T/)){for(var r in t.properties){if(r.match(/X/)){this.attrX=true}if(r.match(/Y/)){this.attrY=true}if(r.match(/Z/)){this.attrZ=true}}}else{return null}this.containerIndices=e.searchConnectionParent(this.id);this.curveIdx=e.searchConnectionChildren(this.id);for(var n=this.containerIndices.length-1;n>=0;--n){var a=i.searchRealId(this.containerIndices[n]);if(a>=0){this.containerBoneId=a;this.containerId=this.containerIndices[n]}if(a>=0){break}}return this};u.prototype.setCurve=function(e){this.curves.push(e)};function h(){this.curves={};this.length=0;this.fps=30;this.frames=0}h.prototype.parse=function(e,t){var i=e.Objects.subNodes.AnimationCurveNode;var r=e.Objects.subNodes.AnimationCurve;var n=e.Objects.subNodes.AnimationLayer;var a=e.Objects.subNodes.AnimationStack;var o=[];for(var s in i){if(s.match(/\d+/)){var c=(new u).fromNode(e,i[s],t);o.push(c)}}var h={};for(var f=0;f<o.length;++f){if(o[f]===null){continue}h[o[f].id]=o[f]}var d=[];for(s in r){if(s.match(/\d+/)){var p=(new l).fromNode(r[s]);d.push(p);var m=e.searchConnectionParent(p.id)[0];var v=e.searchConnectionType(p.id,m);if(v.match(/X/)){v="x"}else if(v.match(/Y/)){v="y"}else if(v.match(/Z/)){v="z"}else{continue}h[m].curves[v]=p}}for(var g in h){var y=h[g].containerBoneId;if(this.curves[y]===undefined){this.curves[y]={T:null,R:null,S:null}}this.curves[y][h[g].attr]=h[g]}this.layers={};for(var s in n){var x=[];var _=e.searchConnectionChildren(s);for(var f=0;f<_.length;++f){if(h[_[f]]){if(x[h[_[f]].containerBoneId]===undefined){x[h[_[f]].containerBoneId]={T:null,R:null,S:null}}x[h[_[f]].containerBoneId][h[_[f]].attr]=h[_[f]]}}this.layers[s]=x}this.stacks={};for(var s in a){var b=[];var _=e.searchConnectionChildren(s);var w=0;var M=Number.MAX_VALUE;for(var f=0;f<_.length;++f){if(_[f]in this.layers){b.push(this.layers[_[f]]);for(var S=0;S<this.layers[_[f]].length;++S){function T(e){function t(e){if(e.x){w=e.x.getLength()>w?e.x.getLength():w;M=e.x.times[0]<M?e.x.times[0]:M}if(e.y){w=e.y.getLength()>w?e.y.getLength():w;M=e.y.times[0]<M?e.y.times[0]:M}if(e.z){w=e.z.getLength()>w?e.z.getLength():w;M=e.z.times[0]<M?e.z.times[0]:M}}if(e.R){t(e.R.curves)}if(e.S){t(e.S.curves)}if(e.T){t(e.T.curves)}}var x=this.layers[_[f]][S];if(x){T(x)}}}}if(w>M){this.stacks[s]={name:a[s].attrName,layers:b,length:w-M,frames:(w-M)*30}}}return this};function f(){this.textures={}}f.prototype.add=function(e){debugger;if(this.textures===undefined){this.textures=[]}this.textures.push(e);for(var t=0;t<e.parentIds.length;++t){if(this.perGeoMap[e.parentIds[t]]===undefined){this.perGeoMap[e.parentIds[t]]=[]}this.perGeoMap[e.parentIds[t]].push(this.textures[this.textures.length-1])}};f.prototype.parse=function(e){var t=e.Objects.subNodes.Texture;for(var i in t){var r=(new d).parse(t[i],e);this.textures[i]=r}return this};f.prototype.getById=function(e){return this.perGeoMap[e]};function d(){this.fileName="";this.name="";this.id=null;this.parentIds=[]}d.prototype.parse=function(e,t){this.id=e.id;this.name=e.attrName;this.fileName=this.parseFileName(e.properties.FileName);this.parentIds=this.searchParents(this.id,t);return this};d.prototype.parseFileName=function(e){if(e===undefined){return""}var t=e.split(/[\\\/]/);if(t.length>0){return t[t.length-1]}else{return e}};d.prototype.searchParents=function(e,t){var i=t.searchConnectionParent(e);return i};function p(){this.materials={};this.perGeoMap={}}Object.assign(p.prototype,{parse:function(e){var t=e.Objects.subNodes.Material;for(var i in t){var r=(new m).parse(t[i],e);this.materials[i]=r}return this}});function m(){this.fileName="";this.name="";this.id=null;this.parentIds=[]}Object.assign(m.prototype,{parse:function(e,t){this.id=e.id;this.name=e.attrName;this.type=e.properties.ShadingModel;this.parameters=this.parseParameters(e.properties);this.parentIds=this.searchParents(this.id,t);return this},parseParameters:function(e){var t={};if(e.Diffuse){t.color=(new bt).fromArray([parseFloat(e.Diffuse.value.x),parseFloat(e.Diffuse.value.y),parseFloat(e.Diffuse.value.z)])}if(e.Specular){t.specular=(new bt).fromArray([parseFloat(e.Specular.value.x),parseFloat(e.Specular.value.y),parseFloat(e.Specular.value.z)])}if(e.Shininess){t.shininess=e.Shininess.value}if(e.Emissive){t.emissive=(new bt).fromArray([parseFloat(e.Emissive.value.x),parseFloat(e.Emissive.value.y),parseFloat(e.Emissive.value.z)])}if(e.EmissiveFactor){t.emissiveIntensity=e.EmissiveFactor.value}if(e.Reflectivity){t.reflectivity=e.Reflectivity.value}if(e.Opacity){t.opacity=e.Opacity.value}if(t.opacity<1){t.transparent=true}return t},searchParents:function(e,t){return t.searchConnectionParent(e)}});function v(e,t,i){var r=[];for(var n=0;n<t.length;++n){for(var a=0;a<i;++a){r.push(e[t[n]*i+a])}}return r}function g(e,t,i,r){var n=[];var a=0;for(var o=0;o<t.length;++o){n[t[o]]=[];for(var s=0;s<r;++s){n[t[o]][s]=e[a+s]}a+=r}var c=[];for(var l=0;l<n.length;++l){if(n[l]===undefined){continue}for(var u=0;u<r;++u){if(n[l][u]===undefined){continue}c.push(n[l][u])}}return c}function y(e,t,i){var r={};var n=[];var a=0;for(var o=0;o<t.length;++o){if(t[o]in r){continue}r[t[o]]={};for(var s=0;s<i;++s){r[t[o]][s]=e[o*i+s]}a=a<t[o]?t[o]:a}try{for(o=0;o<=a;o++){for(var c=0;c<i;c++){n.push(r[o][c])}}}catch(e){}return n}function x(e){return e/46186158e3}function _(e){return e*Math.PI/180}function b(e,t,i){var r=new Pt(e,t,i,"ZYX");var n=new Tt;n.setFromEuler(r);return n}function w(e){return e.split(",").map(function(e){return parseInt(e)})}function M(e){return e.split(",").map(function(e){return parseFloat(e)})}function S(e){return e.split(",").map(function(e){return _(parseFloat(e))})}function T(e){var t=M(e);return(new Lt).fromArray(t)}})();function Ll(e,t){t=t!==undefined?t:document;this.enabled=true;this.center=new At;this.panSpeed=.001;this.zoomSpeed=.001;var i=this;var r=new At;var n={NONE:0,ZOOM:1,PAN:2};var a=n.NONE;var o=new Et;var s=new Mt;var c=new Mt;var l=new zt;var u={type:"change"};this.focus=function(t){var r=(new Rt).setFromObject(t);e.lookAt(i.center.copy(r.getCenter()));i.dispatchEvent(u)};this.pan=function(t){var r=e.position.distanceTo(i.center);t.multiplyScalar(r*i.panSpeed);t.applyMatrix3(o.getNormalMatrix(e.matrix));e.position.add(t);i.center.add(t);i.dispatchEvent(u)};this.zoom=function(t){var r=e.position.distanceTo(i.center);t.multiplyScalar(r*i.zoomSpeed);if(t.length()>r)return;t.applyMatrix3(o.getNormalMatrix(e.matrix));e.position.add(t);i.dispatchEvent(u)};function h(e){if(i.enabled===false)return;if(e.button===0){a=n.PAN}else if(e.button===1){a=n.ZOOM}else if(e.button===2){a=n.PAN}c.set(e.clientX,e.clientY);t.addEventListener("mousemove",f,false);t.addEventListener("mouseup",d,false);t.addEventListener("mouseout",d,false);t.addEventListener("dblclick",d,false)}function f(e){if(i.enabled===false)return;s.set(e.clientX,e.clientY);var t=s.x-c.x;var r=s.y-c.y;if(a===n.ZOOM){i.zoom(new At(0,0,r))}else if(a===n.PAN){i.pan(new At(-t,r,0))}c.set(e.clientX,e.clientY)}function d(e){t.removeEventListener("mousemove",f,false);t.removeEventListener("mouseup",d,false);t.removeEventListener("mouseout",d,false);t.removeEventListener("dblclick",d,false);a=n.NONE}function p(e){e.preventDefault();if(i.enabled===false)return;i.zoom(new At(0,0,e.deltaY))}function m(e){e.preventDefault()}this.dispose=function(){t.removeEventListener("contextmenu",m,false);t.removeEventListener("mousedown",h,false);t.removeEventListener("wheel",p,false);t.removeEventListener("mousemove",f,false);t.removeEventListener("mouseup",d,false);t.removeEventListener("mouseout",d,false);t.removeEventListener("dblclick",d,false);t.removeEventListener("touchstart",_,false);t.removeEventListener("touchmove",b,false)};t.addEventListener("contextmenu",m,false);t.addEventListener("mousedown",h,false);t.addEventListener("wheel",p,false);var v=new At;var g=[new At,new At,new At];var y=[new At,new At,new At];var x=null;function _(e){if(i.enabled===false)return;switch(e.touches.length){case 1:g[0].set(e.touches[0].pageX,e.touches[0].pageY,0);g[1].set(e.touches[0].pageX,e.touches[0].pageY,0);break;case 2:g[0].set(e.touches[0].pageX,e.touches[0].pageY,0);g[1].set(e.touches[1].pageX,e.touches[1].pageY,0);x=g[0].distanceTo(g[1]);break}y[0].copy(g[0]);y[1].copy(g[1])}function b(e){if(i.enabled===false)return;e.preventDefault();e.stopPropagation();function t(e,t){var i=t[0];for(var r in t){if(i.distanceTo(e)>t[r].distanceTo(e))i=t[r]}return i}switch(e.touches.length){case 1:g[0].set(e.touches[0].pageX,e.touches[0].pageY,0);g[1].set(e.touches[0].pageX,e.touches[0].pageY,0);var r=g[0].clone().sub(t(g[0],y));r.x=-r.x;i.pan(r.clone());break;case 2:g[0].set(e.touches[0].pageX,e.touches[0].pageY,0);g[1].set(e.touches[1].pageX,e.touches[1].pageY,0);distance=g[0].distanceTo(g[1]);i.zoom(new At(0,0,x-distance));x=distance;var r=g[0].clone().sub(t(g[0],y));var n=g[1].clone().sub(t(g[1],y));r.x=-r.x;n.x=-n.x;i.pan(r.add(n).multiplyScalar(.5));break}y[0].copy(g[0]);y[1].copy(g[1])}t.addEventListener("touchstart",_,false);t.addEventListener("touchmove",b,false)}Ll.prototype=Object.create(Ht.prototype);Ll.prototype.constructor=Ll;function El(e,t){t=t!==undefined?t:document;this.enabled=true;this.center=new At;this.panSpeed=.001;this.zoomSpeed=.001;this.rotationSpeed=.005;var i=this;var r=new At;var n={NONE:-1,ROTATE:0,ZOOM:1,PAN:2};var a=n.NONE;var o=new Et;var s=new Mt;var c=new Mt;var l=new zt;var u={type:"change"};this.focus=function(t){var r=(new Rt).setFromObject(t);e.lookAt(i.center.copy(r.getCenter()));i.dispatchEvent(u)};this.pan=function(t){var r=e.position.distanceTo(i.center);t.multiplyScalar(r*i.panSpeed);t.applyMatrix3(o.getNormalMatrix(e.matrix));e.position.add(t);i.center.add(t);i.dispatchEvent(u)};this.zoom=function(t){var r=e.position.distanceTo(i.center);t.multiplyScalar(r*i.zoomSpeed);if(t.length()>r)return;t.applyMatrix3(o.getNormalMatrix(e.matrix));e.position.add(t);i.dispatchEvent(u)};this.rotate=function(t){r.copy(e.position).sub(i.center);l.setFromVector3(r);l.theta+=t.x;l.phi+=t.y;l.makeSafe();r.setFromSpherical(l);e.position.copy(i.center).add(r);e.lookAt(i.center);i.dispatchEvent(u)};function h(e){if(i.enabled===false)return;if(e.button===0){a=n.ROTATE}else if(e.button===1){a=n.ZOOM}else if(e.button===2){a=n.PAN}c.set(e.clientX,e.clientY);t.addEventListener("mousemove",f,false);t.addEventListener("mouseup",d,false);t.addEventListener("mouseout",d,false);t.addEventListener("dblclick",d,false)}function f(e){if(i.enabled===false)return;s.set(e.clientX,e.clientY);var t=s.x-c.x;var r=s.y-c.y;if(a===n.ROTATE){i.rotate(new At(-t*i.rotationSpeed,-r*i.rotationSpeed,0))}else if(a===n.ZOOM){i.zoom(new At(0,0,r))}else if(a===n.PAN){i.pan(new At(-t,r,0))}c.set(e.clientX,e.clientY)}function d(e){t.removeEventListener("mousemove",f,false);t.removeEventListener("mouseup",d,false);t.removeEventListener("mouseout",d,false);t.removeEventListener("dblclick",d,false);a=n.NONE}function p(e){e.preventDefault();if(i.enabled===false)return;i.zoom(new At(0,0,e.deltaY))}function m(e){e.preventDefault()}var v=new At;var g=[new At,new At,new At];var y=[new At,new At,new At];var x=null;function _(e){if(i.enabled===false)return;switch(e.touches.length){case 1:g[0].set(e.touches[0].pageX,e.touches[0].pageY,0);g[1].set(e.touches[0].pageX,e.touches[0].pageY,0);break;case 2:g[0].set(e.touches[0].pageX,e.touches[0].pageY,0);g[1].set(e.touches[1].pageX,e.touches[1].pageY,0);x=g[0].distanceTo(g[1]);break}y[0].copy(g[0]);y[1].copy(g[1])}function b(e){if(i.enabled===false)return;e.preventDefault();e.stopPropagation();function t(e,t){var i=t[0];for(var r in t){if(i.distanceTo(e)>t[r].distanceTo(e))i=t[r]}return i}switch(e.touches.length){case 1:g[0].set(e.touches[0].pageX,e.touches[0].pageY,0);g[1].set(e.touches[0].pageX,e.touches[0].pageY,0);i.rotate(g[0].sub(t(g[0],y)).multiplyScalar(-i.rotationSpeed));break;case 2:g[0].set(e.touches[0].pageX,e.touches[0].pageY,0);g[1].set(e.touches[1].pageX,e.touches[1].pageY,0);distance=g[0].distanceTo(g[1]);i.zoom(new At(0,0,x-distance));x=distance;var r=g[0].clone().sub(t(g[0],y));var n=g[1].clone().sub(t(g[1],y));r.x=-r.x;n.x=-n.x;i.pan(r.add(n).multiplyScalar(.5));break}y[0].copy(g[0]);y[1].copy(g[1])}this.dispose=function(){t.removeEventListener("contextmenu",m,false);t.removeEventListener("mousedown",h,false);t.removeEventListener("wheel",p,false);t.removeEventListener("mousemove",f,false);t.removeEventListener("mouseup",d,false);t.removeEventListener("mouseout",d,false);t.removeEventListener("dblclick",d,false);t.removeEventListener("touchstart",_,false);t.removeEventListener("touchmove",b,false)};t.addEventListener("contextmenu",m,false);t.addEventListener("mousedown",h,false);t.addEventListener("wheel",p,false);t.addEventListener("touchstart",_,false);t.addEventListener("touchmove",b,false)}El.prototype=Object.create(Ht.prototype);El.prototype.constructor=El;function Pl(e,t){t=t!==undefined?t:document;this.enabled=true;var i=this;var r={NONE:-1,FORWARDS:0,STANDSTILL:1,BACKWARDS:2};var n=r.NONE;var a=new Mt;var o={type:"change"};this.update=function(s){if(i.enabled===false)return;if(n===r.NONE){return}var c=200*(a.x-t.offsetWidth/2)/t.offsetWidth;var l=200*(a.y-t.offsetHeight/2)/t.offsetHeight;if(n===r.FORWARDS){e.translateZ((l-100)*s);e.rotateY(-c*s*Math.PI/360)}else if(n===r.STANDSTILL){e.translateZ(l*s);e.rotateY(-c*s*Math.PI/360)}else if(n===r.BACKWARDS){e.translateZ((l+100)*s);e.rotateY(-c*s*Math.PI/360)}i.dispatchEvent(o)};function s(e){e.preventDefault();if(i.enabled===false)return;if(e.button===0){n=r.FORWARDS}else if(e.button===1){n=r.STANDSTILL}else if(e.button===2){n=r.BACKWARDS}a.set(e.offsetX,e.offsetY);t.addEventListener("mousemove",c,false);t.addEventListener("mouseup",l,false);t.addEventListener("mouseout",l,false);t.addEventListener("dblclick",l,false)}function c(e){e.preventDefault();if(i.enabled===false)return;a.set(e.offsetX,e.offsetY)}function l(e){e.preventDefault();t.removeEventListener("mousemove",c,false);t.removeEventListener("mouseup",l,false);t.removeEventListener("mouseout",l,false);t.removeEventListener("dblclick",l,false);n=r.NONE}function u(e){e.preventDefault();e.stopPropagation()}function h(e){e.preventDefault();if(i.enabled===false)return;if(e.touches.length===1){a.set(e.touches[0].pageX-t.offsetLeft,e.touches[0].pageY-t.offsetTop);n=r.STANDSTILL;t.addEventListener("touchmove",f,false);t.addEventListener("touchend",d,false)}}function f(e){e.preventDefault();if(i.enabled===false)return;if(e.touches.length===1){a.set(e.touches[0].pageX-t.offsetLeft,e.touches[0].pageY-t.offsetTop)}}function d(e){e.preventDefault();t.removeEventListener("touchmove",f,false);t.removeEventListener("touchend",d,false);n=r.NONE}this.dispose=function(){t.removeEventListener("contextmenu",u,false);t.removeEventListener("mousedown",s,false);t.removeEventListener("mousemove",c,false);t.removeEventListener("mouseup",l,false);t.removeEventListener("mouseout",l,false);t.removeEventListener("dblclick",l,false);t.removeEventListener("touchstart",h,false);t.removeEventListener("touchmove",f,false);t.removeEventListener("touchend",d,false);n=r.NONE};t.addEventListener("contextmenu",u,false);t.addEventListener("mousedown",s,false);t.addEventListener("touchstart",h,false)}Pl.prototype=Object.create(Ht.prototype);Pl.prototype.constructor=Pl;function Cl(e){ko.call(this);this.depthTest=false;this.depthWrite=false;this.side=f;this.transparent=true;this.setValues(e);this.oldColor=this.color.clone();this.oldOpacity=this.opacity;this.highlight=function(e){if(e){this.color.setRGB(1,1,0);this.opacity=1}else{this.color.copy(this.oldColor);this.opacity=this.oldOpacity}}}Cl.prototype=Object.create(ko.prototype);Cl.prototype.constructor=Cl;function Il(e){ws.call(this);this.depthTest=false;this.depthWrite=false;this.transparent=true;this.linewidth=1;this.setValues(e);this.oldColor=this.color.clone();this.oldOpacity=this.opacity;this.highlight=function(e){if(e){this.color.setRGB(1,1,0);this.opacity=1}else{this.color.copy(this.oldColor);this.opacity=this.oldOpacity}}}Il.prototype=Object.create(ws.prototype);Il.prototype.constructor=Il;var Rl=new Cl({visible:false,transparent:false});function Nl(){var e=this;this.init=function(){Qt.call(this);this.handles=new Qt;this.pickers=new Qt;this.planes=new Qt;this.add(this.handles);this.add(this.pickers);this.add(this.planes);var e=new nr(50,50,2,2);var t=new ko({visible:false,side:p});var i={XY:new Go(e,t),YZ:new Go(e,t),XZ:new Go(e,t),XYZE:new Go(e,t)};this.activePlane=i["XYZE"];i["YZ"].rotation.set(0,Math.PI/2,0);i["XZ"].rotation.set(-Math.PI/2,0,0);for(var r in i){i[r].name=r;this.planes.add(i[r]);this.planes[r]=i[r]}var n=function(e,t){for(var i in e){for(r=e[i].length;r--;){var n=e[i][r][0];var a=e[i][r][1];var o=e[i][r][2];n.name=i;if(a)n.position.set(a[0],a[1],a[2]);if(o)n.rotation.set(o[0],o[1],o[2]);t.add(n)}}};n(this.handleGizmos,this.handles);n(this.pickerGizmos,this.pickers);this.traverse(function(e){if(e instanceof Go){e.updateMatrix();var t=e.geometry.clone();t.applyMatrix(e.matrix);e.geometry=t;e.position.set(0,0,0);e.rotation.set(0,0,0);e.scale.set(1,1,1)}})};this.highlight=function(e){this.traverse(function(t){if(t.material&&t.material.highlight){if(t.name===e){t.material.highlight(true)}else{t.material.highlight(false)}}})}}Nl.prototype=Object.create(Qt.prototype);Nl.prototype.constructor=Nl;Nl.prototype.update=function(e,t){var i=new At(0,0,0);var r=new At(0,1,0);var n=new Lt;this.traverse(function(a){if(a.name.search("E")!==-1){a.quaternion.setFromRotationMatrix(n.lookAt(t,i,r))}else if(a.name.search("X")!==-1||a.name.search("Y")!==-1||a.name.search("Z")!==-1){a.quaternion.setFromEuler(e)}})};function Dl(){Nl.call(this);var e=new vi;var t=new Go(new Hi(0,.05,.2,12,1,false));t.position.y=.5;t.updateMatrix();e.merge(t.geometry,t.matrix);var i=new yi;i.addAttribute("position",new ci([0,0,0,1,0,0],3));var r=new yi;r.addAttribute("position",new ci([0,0,0,0,1,0],3));var n=new yi;n.addAttribute("position",new ci([0,0,0,0,0,1],3));this.handleGizmos={X:[[new Go(e,new Cl({color:16711680})),[.5,0,0],[0,0,-Math.PI/2]],[new zs(i,new Il({color:16711680}))]],Y:[[new Go(e,new Cl({color:65280})),[0,.5,0]],[new zs(r,new Il({color:65280}))]],Z:[[new Go(e,new Cl({color:255})),[0,0,.5],[Math.PI/2,0,0]],[new zs(n,new Il({color:255}))]],XYZ:[[new Go(new wr(.1,0),new Cl({color:16777215,opacity:.25})),[0,0,0],[0,0,0]]],XY:[[new Go(new nr(.29,.29),new Cl({color:16776960,opacity:.25})),[.15,.15,0]]],YZ:[[new Go(new nr(.29,.29),new Cl({color:65535,opacity:.25})),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new Go(new nr(.29,.29),new Cl({color:16711935,opacity:.25})),[.15,0,.15],[-Math.PI/2,0,0]]]};this.pickerGizmos={X:[[new Go(new Zi(.2,0,1,4,1,false),Rl),[.6,0,0],[0,0,-Math.PI/2]]],Y:[[new Go(new Zi(.2,0,1,4,1,false),Rl),[0,.6,0]]],Z:[[new Go(new Zi(.2,0,1,4,1,false),Rl),[0,0,.6],[Math.PI/2,0,0]]],XYZ:[[new Go(new wr(.2,0),Rl)]],XY:[[new Go(new nr(.4,.4),Rl),[.2,.2,0]]],YZ:[[new Go(new nr(.4,.4),Rl),[0,.2,.2],[0,Math.PI/2,0]]],XZ:[[new Go(new nr(.4,.4),Rl),[.2,0,.2],[-Math.PI/2,0,0]]]};this.setActivePlane=function(e,t){var i=new Lt;t.applyMatrix4(i.getInverse(i.extractRotation(this.planes["XY"].matrixWorld)));if(e==="X"){this.activePlane=this.planes["XY"];if(Math.abs(t.y)>Math.abs(t.z))this.activePlane=this.planes["XZ"]}if(e==="Y"){this.activePlane=this.planes["XY"];if(Math.abs(t.x)>Math.abs(t.z))this.activePlane=this.planes["YZ"]}if(e==="Z"){this.activePlane=this.planes["XZ"];if(Math.abs(t.x)>Math.abs(t.y))this.activePlane=this.planes["YZ"]}if(e==="XYZ")this.activePlane=this.planes["XYZE"];if(e==="XY")this.activePlane=this.planes["XY"];if(e==="YZ")this.activePlane=this.planes["YZ"];if(e==="XZ")this.activePlane=this.planes["XZ"]};this.init()}Dl.prototype=Object.create(Nl.prototype);Dl.prototype.constructor=Dl;function Ul(){Nl.call(this);var e=function(e,t,i){var r=new yi;var n=[];i=i?i:1;for(var a=0;a<=64*i;++a){if(t==="x")n.push(0,Math.cos(a/32*Math.PI)*e,Math.sin(a/32*Math.PI)*e);if(t==="y")n.push(Math.cos(a/32*Math.PI)*e,0,Math.sin(a/32*Math.PI)*e);if(t==="z")n.push(Math.sin(a/32*Math.PI)*e,Math.cos(a/32*Math.PI)*e,0)}r.addAttribute("position",new ci(n,3));return r};this.handleGizmos={X:[[new zs(new e(1,"x",.5),new Il({color:16711680}))]],Y:[[new zs(new e(1,"y",.5),new Il({color:65280}))]],Z:[[new zs(new e(1,"z",.5),new Il({color:255}))]],E:[[new zs(new e(1.25,"z",1),new Il({color:13421568}))]],XYZE:[[new zs(new e(1,"z",1),new Il({color:7895160}))]]};this.pickerGizmos={X:[[new Go(new hr(1,.12,4,12,Math.PI),Rl),[0,0,0],[0,-Math.PI/2,-Math.PI/2]]],Y:[[new Go(new hr(1,.12,4,12,Math.PI),Rl),[0,0,0],[Math.PI/2,0,0]]],Z:[[new Go(new hr(1,.12,4,12,Math.PI),Rl),[0,0,0],[0,0,-Math.PI/2]]],E:[[new Go(new hr(1.25,.12,2,24),Rl)]],XYZE:[[new Go]]};this.setActivePlane=function(e){if(e==="E")this.activePlane=this.planes["XYZE"];if(e==="X")this.activePlane=this.planes["YZ"];if(e==="Y")this.activePlane=this.planes["XZ"];if(e==="Z")this.activePlane=this.planes["XY"]};this.update=function(e,t){Nl.prototype.update.apply(this,arguments);var i={handles:this["handles"],pickers:this["pickers"]};var r=new Lt;var n=new Pt(0,0,1);var a=new Tt;var o=new At(1,0,0);var s=new At(0,1,0);var c=new At(0,0,1);var l=new Tt;var u=new Tt;var h=new Tt;var f=t.clone();n.copy(this.planes["XY"].rotation);a.setFromEuler(n);r.makeRotationFromQuaternion(a).getInverse(r);f.applyMatrix4(r);this.traverse(function(e){a.setFromEuler(n);if(e.name==="X"){l.setFromAxisAngle(o,Math.atan2(-f.y,f.z));a.multiplyQuaternions(a,l);e.quaternion.copy(a)}if(e.name==="Y"){u.setFromAxisAngle(s,Math.atan2(f.x,f.z));a.multiplyQuaternions(a,u);e.quaternion.copy(a)}if(e.name==="Z"){h.setFromAxisAngle(c,Math.atan2(f.y,f.x));a.multiplyQuaternions(a,h);e.quaternion.copy(a)}})};this.init()}Ul.prototype=Object.create(Nl.prototype);Ul.prototype.constructor=Ul;function Ol(){Nl.call(this);var e=new vi;var t=new Go(new Vi(.125,.125,.125));t.position.y=.5;t.updateMatrix();e.merge(t.geometry,t.matrix);var i=new yi;i.addAttribute("position",new ci([0,0,0,1,0,0],3));var r=new yi;r.addAttribute("position",new ci([0,0,0,0,1,0],3));var n=new yi;n.addAttribute("position",new ci([0,0,0,0,0,1],3));this.handleGizmos={X:[[new Go(e,new Cl({color:16711680})),[.5,0,0],[0,0,-Math.PI/2]],[new zs(i,new Il({color:16711680}))]],Y:[[new Go(e,new Cl({color:65280})),[0,.5,0]],[new zs(r,new Il({color:65280}))]],Z:[[new Go(e,new Cl({color:255})),[0,0,.5],[Math.PI/2,0,0]],[new zs(n,new Il({color:255}))]],XYZ:[[new Go(new ji(.125,.125,.125),new Cl({color:16777215,opacity:.25}))]]};this.pickerGizmos={X:[[new Go(new Zi(.2,0,1,4,1,false),Rl),[.6,0,0],[0,0,-Math.PI/2]]],Y:[[new Go(new Zi(.2,0,1,4,1,false),Rl),[0,.6,0]]],Z:[[new Go(new Zi(.2,0,1,4,1,false),Rl),[0,0,.6],[Math.PI/2,0,0]]],XYZ:[[new Go(new ji(.4,.4,.4),Rl)]]};this.setActivePlane=function(e,t){var i=new Lt;t.applyMatrix4(i.getInverse(i.extractRotation(this.planes["XY"].matrixWorld)));if(e==="X"){this.activePlane=this.planes["XY"];if(Math.abs(t.y)>Math.abs(t.z))this.activePlane=this.planes["XZ"]}if(e==="Y"){this.activePlane=this.planes["XY"];if(Math.abs(t.x)>Math.abs(t.z))this.activePlane=this.planes["YZ"]}if(e==="Z"){this.activePlane=this.planes["XZ"];if(Math.abs(t.x)>Math.abs(t.y))this.activePlane=this.planes["YZ"]}if(e==="XYZ")this.activePlane=this.planes["XYZE"]};this.init()}Ol.prototype=Object.create(Nl.prototype);Ol.prototype.constructor=Ol;function zl(e,t){Qt.call(this);t=t!==undefined?t:document;this.object=undefined;this.visible=false;this.translationSnap=null;this.rotationSnap=null;this.space="world";this.size=1;this.axis=null;var i=this;var r="translate";var n=false;var a="XY";var o={translate:new Dl,rotate:new Ul,scale:new Ol};for(var s in o){var c=o[s];c.visible=s===r;this.add(c)}var l={type:"change"};var u={type:"mouseDown"};var h={type:"mouseUp",mode:r};var f={type:"objectChange"};var d=new Yt;var p=new Mt;var m=new At;var v=new At;var g=new At;var y=new At;var x=1;var _=new Lt;var b=new At;var w=new Lt;var M=new At;var S=new Tt;var T=new At(1,0,0);var A=new At(0,1,0);var L=new At(0,0,1);var E=new Tt;var P=new Tt;var C=new Tt;var I=new Tt;var R=new Tt;var N=new At;var D=new At;var U=new Lt;var O=new Lt;var z=new At;var B=new At;var F=new Pt;var k=new Lt;var G=new At;var V=new Pt;t.addEventListener("mousedown",X,false);t.addEventListener("touchstart",X,false);t.addEventListener("mousemove",j,false);t.addEventListener("touchmove",j,false);t.addEventListener("mousemove",W,false);t.addEventListener("touchmove",W,false);t.addEventListener("mouseup",H,false);t.addEventListener("mouseout",H,false);t.addEventListener("touchend",H,false);t.addEventListener("touchcancel",H,false);t.addEventListener("touchleave",H,false);this.dispose=function(){t.removeEventListener("mousedown",X);t.removeEventListener("touchstart",X);t.removeEventListener("mousemove",j);t.removeEventListener("touchmove",j);t.removeEventListener("mousemove",W);t.removeEventListener("touchmove",W);t.removeEventListener("mouseup",H);t.removeEventListener("mouseout",H);t.removeEventListener("touchend",H);t.removeEventListener("touchcancel",H);t.removeEventListener("touchleave",H)};this.attach=function(e){this.object=e;this.visible=true;this.update()};this.detach=function(){this.object=undefined;this.visible=false;this.axis=null};this.getMode=function(){return r};this.setMode=function(e){r=e?e:r;if(r==="scale")i.space="local";for(var t in o)o[t].visible=t===r;this.update();i.dispatchEvent(l)};this.setTranslationSnap=function(e){i.translationSnap=e};this.setRotationSnap=function(e){i.rotationSnap=e};this.setSize=function(e){i.size=e;this.update();i.dispatchEvent(l)};this.setSpace=function(e){i.space=e;this.update();i.dispatchEvent(l)};this.update=function(){if(i.object===undefined)return;i.object.updateMatrixWorld();B.setFromMatrixPosition(i.object.matrixWorld);F.setFromRotationMatrix(w.extractRotation(i.object.matrixWorld));e.updateMatrixWorld();G.setFromMatrixPosition(e.matrixWorld);V.setFromRotationMatrix(w.extractRotation(e.matrixWorld));x=B.distanceTo(G)/6*i.size;this.position.copy(B);this.scale.set(x,x,x);if(e instanceof jo){b.copy(G).sub(B).normalize()}else if(e instanceof Xo){b.copy(G).normalize()}if(i.space==="local"){o[r].update(F,b)}else if(i.space==="world"){o[r].update(new Pt,b)}o[r].highlight(i.axis)};function j(e){if(i.object===undefined||n===true||e.button!==undefined&&e.button!==0)return;var t=e.changedTouches?e.changedTouches[0]:e;var a=Z(t,o[r].pickers.children);var s=null;if(a){s=a.object.name;e.preventDefault()}if(i.axis!==s){i.axis=s;i.update();i.dispatchEvent(l)}}function X(e){if(i.object===undefined||n===true||e.button!==undefined&&e.button!==0)return;var t=e.changedTouches?e.changedTouches[0]:e;if(t.button===0||t.button===undefined){var a=Z(t,o[r].pickers.children);if(a){e.preventDefault();e.stopPropagation();i.dispatchEvent(u);i.axis=a.object.name;i.update();b.copy(G).sub(B).normalize();o[r].setActivePlane(i.axis,b);var s=Z(t,[o[r].activePlane]);if(s){N.copy(i.object.position);D.copy(i.object.scale);U.extractRotation(i.object.matrix);k.extractRotation(i.object.matrixWorld);O.extractRotation(i.object.parent.matrixWorld);z.setFromMatrixScale(w.getInverse(i.object.parent.matrixWorld));v.copy(s.point)}}}n=true}function W(e){if(i.object===undefined||i.axis===null||n===false||e.button!==undefined&&e.button!==0)return;var t=e.changedTouches?e.changedTouches[0]:e;var a=Z(t,[o[r].activePlane]);if(a===false)return;e.preventDefault();e.stopPropagation();m.copy(a.point);if(r==="translate"){m.sub(v);m.multiply(z);if(i.space==="local"){m.applyMatrix4(w.getInverse(k));if(i.axis.search("X")===-1)m.x=0;if(i.axis.search("Y")===-1)m.y=0;if(i.axis.search("Z")===-1)m.z=0;m.applyMatrix4(U);i.object.position.copy(N);i.object.position.add(m)}if(i.space==="world"||i.axis.search("XYZ")!==-1){if(i.axis.search("X")===-1)m.x=0;if(i.axis.search("Y")===-1)m.y=0;if(i.axis.search("Z")===-1)m.z=0;m.applyMatrix4(w.getInverse(O));i.object.position.copy(N);i.object.position.add(m)}if(i.translationSnap!==null){if(i.space==="local"){i.object.position.applyMatrix4(w.getInverse(k))}if(i.axis.search("X")!==-1)i.object.position.x=Math.round(i.object.position.x/i.translationSnap)*i.translationSnap;if(i.axis.search("Y")!==-1)i.object.position.y=Math.round(i.object.position.y/i.translationSnap)*i.translationSnap;if(i.axis.search("Z")!==-1)i.object.position.z=Math.round(i.object.position.z/i.translationSnap)*i.translationSnap;if(i.space==="local"){i.object.position.applyMatrix4(k)}}}else if(r==="scale"){m.sub(v);m.multiply(z);if(i.space==="local"){if(i.axis==="XYZ"){x=1+m.y*Math.min(D.x,D.y,D.z)/30;i.object.scale.x=D.x*x;i.object.scale.y=D.y*x;i.object.scale.z=D.z*x}else{m.applyMatrix4(w.getInverse(k));if(i.axis==="X")i.object.scale.x=D.x*(1+m.x*D.x/30);if(i.axis==="Y")i.object.scale.y=D.y*(1+m.y*D.y/30);if(i.axis==="Z")i.object.scale.z=D.z*(1+m.z*D.z/30)}}}else if(r==="rotate"){m.sub(B);m.multiply(z);M.copy(v).sub(B);M.multiply(z);if(i.axis==="E"){m.applyMatrix4(w.getInverse(_));M.applyMatrix4(w.getInverse(_));g.set(Math.atan2(m.z,m.y),Math.atan2(m.x,m.z),Math.atan2(m.y,m.x));y.set(Math.atan2(M.z,M.y),Math.atan2(M.x,M.z),Math.atan2(M.y,M.x));S.setFromRotationMatrix(w.getInverse(O));R.setFromAxisAngle(b,g.z-y.z);E.setFromRotationMatrix(k);S.multiplyQuaternions(S,R);S.multiplyQuaternions(S,E);i.object.quaternion.copy(S)}else if(i.axis==="XYZE"){R.setFromEuler(m.clone().cross(M).normalize());S.setFromRotationMatrix(w.getInverse(O));P.setFromAxisAngle(R,-m.clone().angleTo(M));E.setFromRotationMatrix(k);S.multiplyQuaternions(S,P);S.multiplyQuaternions(S,E);i.object.quaternion.copy(S)}else if(i.space==="local"){m.applyMatrix4(w.getInverse(k));M.applyMatrix4(w.getInverse(k));g.set(Math.atan2(m.z,m.y),Math.atan2(m.x,m.z),Math.atan2(m.y,m.x));y.set(Math.atan2(M.z,M.y),Math.atan2(M.x,M.z),Math.atan2(M.y,M.x));E.setFromRotationMatrix(U);if(i.rotationSnap!==null){P.setFromAxisAngle(T,Math.round((g.x-y.x)/i.rotationSnap)*i.rotationSnap);C.setFromAxisAngle(A,Math.round((g.y-y.y)/i.rotationSnap)*i.rotationSnap);I.setFromAxisAngle(L,Math.round((g.z-y.z)/i.rotationSnap)*i.rotationSnap)}else{P.setFromAxisAngle(T,g.x-y.x);C.setFromAxisAngle(A,g.y-y.y);I.setFromAxisAngle(L,g.z-y.z)}if(i.axis==="X")E.multiplyQuaternions(E,P);if(i.axis==="Y")E.multiplyQuaternions(E,C);if(i.axis==="Z")E.multiplyQuaternions(E,I);i.object.quaternion.copy(E)}else if(i.space==="world"){g.set(Math.atan2(m.z,m.y),Math.atan2(m.x,m.z),Math.atan2(m.y,m.x));y.set(Math.atan2(M.z,M.y),Math.atan2(M.x,M.z),Math.atan2(M.y,M.x));S.setFromRotationMatrix(w.getInverse(O));if(i.rotationSnap!==null){P.setFromAxisAngle(T,Math.round((g.x-y.x)/i.rotationSnap)*i.rotationSnap);C.setFromAxisAngle(A,Math.round((g.y-y.y)/i.rotationSnap)*i.rotationSnap);I.setFromAxisAngle(L,Math.round((g.z-y.z)/i.rotationSnap)*i.rotationSnap)}else{P.setFromAxisAngle(T,g.x-y.x);C.setFromAxisAngle(A,g.y-y.y);I.setFromAxisAngle(L,g.z-y.z)}E.setFromRotationMatrix(k);if(i.axis==="X")S.multiplyQuaternions(S,P);if(i.axis==="Y")S.multiplyQuaternions(S,C);if(i.axis==="Z")S.multiplyQuaternions(S,I);S.multiplyQuaternions(S,E);i.object.quaternion.copy(S)}}i.update();i.dispatchEvent(l);i.dispatchEvent(f)}function H(e){e.preventDefault();if(e.button!==undefined&&e.button!==0)return;if(n&&i.axis!==null){h.mode=r;i.dispatchEvent(h)}n=false;if("TouchEvent"in window&&e instanceof TouchEvent){i.axis=null;i.update();i.dispatchEvent(l)}else{j(e)}}function Z(i,r){var n=t.getBoundingClientRect();var a=(i.clientX-n.left)/n.width;var o=(i.clientY-n.top)/n.height;p.set(a*2-1,-(o*2)+1);d.setFromCamera(p,e);var s=d.intersectObjects(r,true);return s[0]?s[0]:false}
}zl.prototype=Object.create(Qt.prototype);zl.prototype.constructor=zl;e.Math=_t;e.Color=bt;e.Vector2=Mt;e.Vector4=St;e.Matrix4=Lt;e.Vector3=At;e.Quaternion=Tt;e.Matrix3=Et;e.Euler=Pt;e.Line3=Ct;e.Box2=It;e.Sphere=Nt;e.Box3=Rt;e.Ray=Dt;e.Plane=Ut;e.Frustum=Ot;e.Spherical=zt;e.Cylindrical=Bt;e.Triangle=Ft;e.Interpolant=kt;e.CubicInterpolant=Gt;e.DiscreteInterpolant=Vt;e.LinearInterpolant=jt;e.QuaternionLinearInterpolant=Xt;e.Clock=Wt;e.EventDispatcher=Ht;e.Layers=Zt;e.Raycaster=Yt;e.Object3D=Qt;e.Face3=$t;e.InstancedBufferAttribute=ui;e.InterleavedBuffer=hi;e.InstancedInterleavedBuffer=fi;e.InterleavedBufferAttribute=di;e.GeometryIdCount=mi;e.Geometry=vi;e.BufferGeometry=yi;e.InstancedBufferGeometry=xi;e.Uniform=_i;e.AnimationAction=bi;e.AnimationUtils=wi;e.KeyframeTrackConstructor=Mi;e.BooleanKeyframeTrack=Si;e.ColorKeyframeTrack=Ti;e.NumberKeyframeTrack=Ai;e.QuaternionKeyframeTrack=Li;e.StringKeyframeTrack=Ei;e.VectorKeyframeTrack=Pi;e.KeyframeTrack=Ci;e.AnimationClip=Ii;e.PropertyBinding=Ri;e.PropertyMixer=Ni;e.AnimationMixer=Di;e.AnimationObjectGroup=Ui;e.Audio=Oi;e.AudioAnalyser=zi;e.AudioContext=Fi;e.PositionalAudio=ki;e.AudioListener=Gi;e.Scene=Cr;e.Fog=Ir;e.FogExp2=Rr;e.Texture=Dr;e.DepthTexture=Ur;e.CanvasTexture=Or;e.CubeTexture=zr;e.CompressedTexture=Br;e.DataTexture=Fr;e.VideoTexture=kr;e.ShaderChunk=Va;e.UniformsUtils=ja;e.UniformsLib=Xa;e.ShaderLib=Wa;e.WebGLRenderer=ys;e.WebGLRenderTarget=Do;e.WebGLRenderTargetCube=xs;e.WebGL2Renderer=_s;e.Group=Us;e.Points=Os;e.LineSegments=Bs;e.Line=zs;e.Mesh=Go;e.Bone=Fs;e.Skeleton=ks;e.SkinnedMesh=Gs;e.LOD=Vs;e.Sprite=js;e.LensFlare=Xs;e.Camera=Vo;e.OrthographicCamera=Xo;e.PerspectiveCamera=jo;e.StereoCamera=Ws;e.CubeCamera=Hs;e.Light=Zs;e.LightShadow=Ys;e.AmbientLight=qs;e.HemisphereLight=Js;e.RectAreaLight=Ks;e.PointLight=Qs;e.DirectionalLight=ec;e.DirectionalLightShadow=$s;e.SpotLight=ic;e.SpotLightShadow=tc;e.AxisHelper=rc;e.ArrowHelper=oc;e.BoxHelper=sc;e.CameraHelper=cc;e.FaceNormalsHelper=lc;e.PolarGridHelper=uc;e.GridHelper=hc;e.AmbientLightHelper=fc;e.HemisphereLightHelper=dc;e.PointLightHelper=pc;e.RectAreaLightHelper=mc;e.DirectionalLightHelper=vc;e.SpotLightHelper=gc;e.LightTargetHelper=yc;e.SkeletonHelper=xc;e.VertexNormalsHelper=_c;e.SceneUtils=bc;e.ShapeUtils=Ki;e.Curve=wc;e.CurvePath=Sc;e.Font=jc;e.ShapePath=Vc;e.Path=kc;e.Shape=Gc;e.LineCurve=Mc;e.QuadraticBezierCurve=Bc;e.CubicBezierCurve=zc;e.SplineCurve=Oc;e.EllipseCurve=Uc;e.ArcCurve=Xc;e.LineCurve3=Wc;e.QuadraticBezierCurve3=Hc;e.CubicBezierCurve3=Zc;e.CatmullRomCurve3=$c;e.NURBSUtils=NURBSUtils;e.NURBSCurve=NURBSCurve;e.NURBSSurface=NURBSSurface;e.ImmediateRenderObject=el;e.MorphBlendMesh=tl;e.Projector=sl;e.SpriteCanvasMaterial=cl;e.CanvasRenderer=ll;e.AudioLoader=pl;e.Cache=ul;e.Loader=yl;e.FileLoader=dl;e.FontLoader=xl;e.ImageLoader=vl;e.JSONLoader=_l;e.DefaultLoadingManager=fl;e.LoadingManager=hl;e.BufferGeometryLoader=bl;e.TextureLoader=gl;e.CubeTextureLoader=wl;e.DataTextureLoader=Ml;e.CompressedTextureLoader=Sl;e.MaterialLoader=ml;e.ObjectLoader=Tl;e.FBXLoader=Al;e.PlanControls=Ll;e.EditorControls=El;e.GameControls=Pl;e.TransformControls=zl;e.REVISION=t;e.MOUSE=i;e.CullFaceNone=r;e.CullFaceBack=n;e.CullFaceFront=a;e.CullFaceFrontBack=o;e.FrontFaceDirectionCW=s;e.FrontFaceDirectionCCW=c;e.BasicShadowMap=l;e.PCFShadowMap=u;e.PCFSoftShadowMap=h;e.FrontSide=f;e.BackSide=d;e.DoubleSide=p;e.FlatShading=m;e.SmoothShading=v;e.NoColors=g;e.FaceColors=y;e.VertexColors=x;e.NoBlending=_;e.NormalBlending=b;e.AdditiveBlending=w;e.SubtractiveBlending=M;e.MultiplyBlending=S;e.CustomBlending=T;e.AddEquation=A;e.SubtractEquation=L;e.ReverseSubtractEquation=E;e.MinEquation=P;e.MaxEquation=C;e.ZeroFactor=I;e.OneFactor=R;e.SrcColorFactor=N;e.OneMinusSrcColorFactor=D;e.SrcAlphaFactor=U;e.OneMinusSrcAlphaFactor=O;e.DstAlphaFactor=z;e.OneMinusDstAlphaFactor=B;e.DstColorFactor=F;e.OneMinusDstColorFactor=k;e.SrcAlphaSaturateFactor=G;e.NeverDepth=V;e.AlwaysDepth=j;e.LessDepth=X;e.LessEqualDepth=W;e.EqualDepth=H;e.GreaterEqualDepth=Z;e.GreaterDepth=Y;e.NotEqualDepth=q;e.MultiplyOperation=J;e.MixOperation=K;e.AddOperation=Q;e.NoToneMapping=$;e.LinearToneMapping=ee;e.ReinhardToneMapping=te;e.Uncharted2ToneMapping=ie;e.CineonToneMapping=re;e.UVMapping=ne;e.CubeReflectionMapping=ae;e.CubeRefractionMapping=oe;e.EquirectangularReflectionMapping=se;e.EquirectangularRefractionMapping=ce;e.SphericalReflectionMapping=le;e.CubeUVReflectionMapping=ue;e.CubeUVRefractionMapping=he;e.RepeatWrapping=fe;e.ClampToEdgeWrapping=de;e.MirroredRepeatWrapping=pe;e.NearestFilter=me;e.NearestMipMapNearestFilter=ve;e.NearestMipMapLinearFilter=ge;e.LinearFilter=ye;e.LinearMipMapNearestFilter=xe;e.LinearMipMapLinearFilter=_e;e.UnsignedByteType=be;e.ByteType=we;e.ShortType=Me;e.UnsignedShortType=Se;e.IntType=Te;e.UnsignedIntType=Ae;e.FloatType=Le;e.HalfFloatType=Ee;e.UnsignedShort4444Type=Pe;e.UnsignedShort5551Type=Ce;e.UnsignedShort565Type=Ie;e.UnsignedInt248Type=Re;e.AlphaFormat=Ne;e.RGBFormat=De;e.RGBAFormat=Ue;e.LuminanceFormat=Oe;e.LuminanceAlphaFormat=ze;e.RGBEFormat=Be;e.DepthFormat=Fe;e.DepthStencilFormat=ke;e.RGB_S3TC_DXT1_Format=Ge;e.RGBA_S3TC_DXT1_Format=Ve;e.RGBA_S3TC_DXT3_Format=je;e.RGBA_S3TC_DXT5_Format=Xe;e.RGB_PVRTC_4BPPV1_Format=We;e.RGB_PVRTC_2BPPV1_Format=He;e.RGBA_PVRTC_4BPPV1_Format=Ze;e.RGBA_PVRTC_2BPPV1_Format=Ye;e.RGB_ETC1_Format=qe;e.LoopOnce=Je;e.LoopRepeat=Ke;e.LoopPingPong=Qe;e.InterpolateDiscrete=$e;e.InterpolateLinear=et;e.InterpolateSmooth=tt;e.ZeroCurvatureEnding=it;e.ZeroSlopeEnding=rt;e.WrapAroundEnding=nt;e.TrianglesDrawMode=at;e.TriangleStripDrawMode=ot;e.TriangleFanDrawMode=st;e.LinearEncoding=ct;e.sRGBEncoding=lt;e.GammaEncoding=ut;e.RGBEEncoding=ht;e.LogLuvEncoding=ft;e.RGBM7Encoding=dt;e.RGBM16Encoding=pt;e.RGBDEncoding=mt;e.BasicDepthPacking=vt;e.RGBADepthPacking=gt;e.arrayMin=yt;e.arrayMax=xt;e.Float64BufferAttribute=li;e.Float32BufferAttribute=ci;e.Uint32BufferAttribute=si;e.Int32BufferAttribute=oi;e.Uint16BufferAttribute=ai;e.Int16BufferAttribute=ni;e.Uint8ClampedBufferAttribute=ri;e.Uint8BufferAttribute=ii;e.Int8BufferAttribute=ti;e.BufferAttribute=ei;e.BoxGeometry=Vi;e.BoxBufferGeometry=ji;e.CircleGeometry=Xi;e.CircleBufferGeometry=Wi;e.CylinderGeometry=Hi;e.CylinderBufferGeometry=Zi;e.ConeGeometry=Yi;e.ConeBufferGeometry=qi;e.EdgesGeometry=Ji;e.ExtrudeGeometry=Qi;e.ShapeGeometry=$i;e.ShapeBufferGeometry=er;e.LatheGeometry=tr;e.LatheBufferGeometry=ir;e.PlaneGeometry=rr;e.PlaneBufferGeometry=nr;e.RingGeometry=ar;e.RingBufferGeometry=or;e.SphereGeometry=sr;e.SphereBufferGeometry=cr;e.TextGeometry=lr;e.TorusGeometry=ur;e.TorusBufferGeometry=hr;e.TorusKnotGeometry=fr;e.TorusKnotBufferGeometry=dr;e.TubeGeometry=pr;e.TubeBufferGeometry=mr;e.PolyhedronGeometry=vr;e.PolyhedronBufferGeometry=gr;e.DodecahedronGeometry=yr;e.DodecahedronBufferGeometry=xr;e.IcosahedronGeometry=_r;e.IcosahedronBufferGeometry=br;e.OctahedronGeometry=wr;e.OctahedronBufferGeometry=Mr;e.TetrahedronGeometry=Sr;e.TetrahedronBufferGeometry=Tr;e.ParametricGeometry=Ar;e.ParametricBufferGeometry=Lr;e.WireframeGeometry=Er;e.Material=Oo;e.PointsMaterial=bs;e.LineBasicMaterial=ws;e.LineDashedMaterial=Ms;e.MeshBasicMaterial=ko;e.MeshDepthMaterial=Bo;e.MeshLambertMaterial=Ss;e.MeshNormalMaterial=Ts;e.MeshToonMaterial=Ls;e.MeshPhongMaterial=As;e.MeshStandardMaterial=Es;e.MeshPhysicalMaterial=Ps;e.SpriteMaterial=Cs;e.MultiMaterial=Is;e.ShaderMaterial=zo;e.RawShaderMaterial=Rs;e.ShadowMaterial=Ns;Object.defineProperty(e,"__esModule",{value:true})});